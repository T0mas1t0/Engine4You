import{r as X,_ as ir,o as vp,p as Fd,q as Id,j as E,b as pt,t as _d,a as qr,g as $r,s as ue,v as au,u as ts,k as Rd,w as Lo,c as Ve,d as es,x as al,y as wp,z as Xt,A as Dd,C as Pd,P as rr,G as et,D as Ql,I as Xl,l as Wr,T as Sp,E as Ep,F as bp,H as Tp,e as Fp,N as Ip,J as _p,K as Rp,L as Dp,B as fh}from"./index-1dc61209.js";import{P as ll,u as Pp,M as kp,A as zp,d as Gp,S as Lp}from"./SimpleSnackbar-b3d887ec.js";import{C as ul}from"./mockData-012e1890.js";import"./Autocomplete-622ffd85.js";let Pi;function kd(){if(Pi)return Pi;const u=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",u.appendChild(t),u.dir="rtl",u.style.fontSize="14px",u.style.width="4px",u.style.height="1px",u.style.position="absolute",u.style.top="-1000px",u.style.overflow="scroll",document.body.appendChild(u),Pi="reverse",u.scrollLeft>0?Pi="default":(u.scrollLeft=1,u.scrollLeft===0&&(Pi="negative")),document.body.removeChild(u),Pi}function Hp(u,t){const e=u.scrollLeft;if(t!=="rtl")return e;switch(kd()){case"negative":return u.scrollWidth-u.clientWidth+e;case"reverse":return u.scrollWidth-u.clientWidth-e;default:return e}}function Np(u){return X.Children.toArray(u).filter(t=>X.isValidElement(t))}function Op(u){return(1+Math.sin(Math.PI*u-Math.PI/2))/2}function Up(u,t,e,r={},s=()=>{}){const{ease:o=Op,duration:l=300}=r;let h=null;const d=t[u];let p=!1;const f=()=>{p=!0},A=g=>{if(p){s(new Error("Animation cancelled"));return}h===null&&(h=g);const x=Math.min(1,(g-h)/l);if(t[u]=o(x)*(e-d)+d,x>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(A)};return d===e?(s(new Error("Element already at target position")),f):(requestAnimationFrame(A),f)}const Jp=["onChange"],jp={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Kp(u){const{onChange:t}=u,e=ir(u,Jp),r=X.useRef(),s=X.useRef(null),o=()=>{r.current=s.current.offsetHeight-s.current.clientHeight};return vp(()=>{const l=Id(()=>{const d=r.current;o(),d!==r.current&&t(r.current)}),h=Fd(s.current);return h.addEventListener("resize",l),()=>{l.clear(),h.removeEventListener("resize",l)}},[t]),X.useEffect(()=>{o(),t(r.current)},[t]),E.jsx("div",pt({style:jp,ref:s},e))}const Wp=_d(E.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Qp=_d(E.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Xp(u){return $r("MuiTabScrollButton",u)}const Vp=qr("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Yp=Vp,Zp=["className","slots","slotProps","direction","orientation","disabled"],qp=u=>{const{classes:t,orientation:e,disabled:r}=u;return es({root:["root",e,r&&"disabled"]},Xp,t)},$p=ue(au,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.root,e.orientation&&t[e.orientation]]}})(({ownerState:u})=>pt({width:40,flexShrink:0,opacity:.8,[`&.${Yp.disabled}`]:{opacity:0}},u.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${u.isRtl?-90:90}deg)`}})),tm=X.forwardRef(function(t,e){var r,s;const o=ts({props:t,name:"MuiTabScrollButton"}),{className:l,slots:h={},slotProps:d={},direction:p}=o,f=ir(o,Zp),g=Rd().direction==="rtl",x=pt({isRtl:g},o),B=qp(x),C=(r=h.StartScrollButtonIcon)!=null?r:Wp,v=(s=h.EndScrollButtonIcon)!=null?s:Qp,w=Lo({elementType:C,externalSlotProps:d.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x}),_=Lo({elementType:v,externalSlotProps:d.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x});return E.jsx($p,pt({component:"div",className:Ve(B.root,l),ref:e,role:null,ownerState:x,tabIndex:null},f,{children:p==="left"?E.jsx(C,pt({},w)):E.jsx(v,pt({},_))}))}),em=tm;function nm(u){return $r("MuiTabs",u)}const im=qr("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),cl=im,rm=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],ph=(u,t)=>u===t?u.firstChild:t&&t.nextElementSibling?t.nextElementSibling:u.firstChild,mh=(u,t)=>u===t?u.lastChild:t&&t.previousElementSibling?t.previousElementSibling:u.lastChild,oo=(u,t,e)=>{let r=!1,s=e(u,t);for(;s;){if(s===u.firstChild){if(r)return;r=!0}const o=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||o)s=e(u,s);else{s.focus();return}}},sm=u=>{const{vertical:t,fixed:e,hideScrollbar:r,scrollableX:s,scrollableY:o,centered:l,scrollButtonsHideMobile:h,classes:d}=u;return es({root:["root",t&&"vertical"],scroller:["scroller",e&&"fixed",r&&"hideScrollbar",s&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",h&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},nm,d)},om=ue("div",{name:"MuiTabs",slot:"Root",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[{[`& .${cl.scrollButtons}`]:t.scrollButtons},{[`& .${cl.scrollButtons}`]:e.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,e.vertical&&t.vertical]}})(({ownerState:u,theme:t})=>pt({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},u.vertical&&{flexDirection:"column"},u.scrollButtonsHideMobile&&{[`& .${cl.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),am=ue("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.scroller,e.fixed&&t.fixed,e.hideScrollbar&&t.hideScrollbar,e.scrollableX&&t.scrollableX,e.scrollableY&&t.scrollableY]}})(({ownerState:u})=>pt({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},u.fixed&&{overflowX:"hidden",width:"100%"},u.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},u.scrollableX&&{overflowX:"auto",overflowY:"hidden"},u.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),lm=ue("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.flexContainer,e.vertical&&t.flexContainerVertical,e.centered&&t.centered]}})(({ownerState:u})=>pt({display:"flex"},u.vertical&&{flexDirection:"column"},u.centered&&{justifyContent:"center"})),um=ue("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(u,t)=>t.indicator})(({ownerState:u,theme:t})=>pt({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},u.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},u.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},u.vertical&&{height:"100%",width:2,right:0})),cm=ue(Kp)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Ah={},hm=X.forwardRef(function(t,e){const r=ts({props:t,name:"MuiTabs"}),s=Rd(),o=s.direction==="rtl",{"aria-label":l,"aria-labelledby":h,action:d,centered:p=!1,children:f,className:A,component:g="div",allowScrollButtonsMobile:x=!1,indicatorColor:B="primary",onChange:C,orientation:v="horizontal",ScrollButtonComponent:w=em,scrollButtons:_="auto",selectionFollowsFocus:F,slots:D={},slotProps:z={},TabIndicatorProps:O={},TabScrollButtonProps:H={},textColor:V="primary",value:lt,variant:$="standard",visibleScrollbar:ct=!1}=r,ut=ir(r,rm),Z=$==="scrollable",ft=v==="vertical",st=ft?"scrollTop":"scrollLeft",Ct=ft?"top":"left",_t=ft?"bottom":"right",R=ft?"clientHeight":"clientWidth",G=ft?"height":"width",L=pt({},r,{component:g,allowScrollButtonsMobile:x,indicatorColor:B,orientation:v,vertical:ft,scrollButtons:_,textColor:V,variant:$,visibleScrollbar:ct,fixed:!Z,hideScrollbar:Z&&!ct,scrollableX:Z&&!ft,scrollableY:Z&&ft,centered:p&&!Z,scrollButtonsHideMobile:!x}),W=sm(L),nt=Lo({elementType:D.StartScrollButtonIcon,externalSlotProps:z.startScrollButtonIcon,ownerState:L}),ce=Lo({elementType:D.EndScrollButtonIcon,externalSlotProps:z.endScrollButtonIcon,ownerState:L}),[Rt,Ae]=X.useState(!1),[wt,ie]=X.useState(Ah),[rs,ar]=X.useState(!1),[Kn,ge]=X.useState(!1),[Wn,re]=X.useState(!1),[ss,Wo]=X.useState({overflow:"hidden",scrollbarWidth:0}),os=new Map,Le=X.useRef(null),un=X.useRef(null),as=()=>{const K=Le.current;let tt;if(K){const mt=K.getBoundingClientRect();tt={clientWidth:K.clientWidth,scrollLeft:K.scrollLeft,scrollTop:K.scrollTop,scrollLeftNormalized:Hp(K,s.direction),scrollWidth:K.scrollWidth,top:mt.top,bottom:mt.bottom,left:mt.left,right:mt.right}}let At;if(K&&lt!==!1){const mt=un.current.children;if(mt.length>0){const Ft=mt[os.get(lt)];At=Ft?Ft.getBoundingClientRect():null}}return{tabsMeta:tt,tabMeta:At}},He=al(()=>{const{tabsMeta:K,tabMeta:tt}=as();let At=0,mt;if(ft)mt="top",tt&&K&&(At=tt.top-K.top+K.scrollTop);else if(mt=o?"right":"left",tt&&K){const Kt=o?K.scrollLeftNormalized+K.clientWidth-K.scrollWidth:K.scrollLeft;At=(o?-1:1)*(tt[mt]-K[mt]+Kt)}const Ft={[mt]:At,[G]:tt?tt[G]:0};if(isNaN(wt[mt])||isNaN(wt[G]))ie(Ft);else{const Kt=Math.abs(wt[mt]-Ft[mt]),Se=Math.abs(wt[G]-Ft[G]);(Kt>=1||Se>=1)&&ie(Ft)}}),lr=(K,{animation:tt=!0}={})=>{tt?Up(st,Le.current,K,{duration:s.transitions.duration.standard}):Le.current[st]=K},ls=K=>{let tt=Le.current[st];ft?tt+=K:(tt+=K*(o?-1:1),tt*=o&&kd()==="reverse"?-1:1),lr(tt)},us=()=>{const K=Le.current[R];let tt=0;const At=Array.from(un.current.children);for(let mt=0;mt<At.length;mt+=1){const Ft=At[mt];if(tt+Ft[R]>K){mt===0&&(tt=K);break}tt+=Ft[R]}return tt},Qn=()=>{ls(-1*us())},Qo=()=>{ls(us())},Xo=X.useCallback(K=>{Wo({overflow:null,scrollbarWidth:K})},[]),Vo=()=>{const K={};K.scrollbarSizeListener=Z?E.jsx(cm,{onChange:Xo,className:Ve(W.scrollableX,W.hideScrollbar)}):null;const At=Z&&(_==="auto"&&(rs||Kn)||_===!0);return K.scrollButtonStart=At?E.jsx(w,pt({slots:{StartScrollButtonIcon:D.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:nt},orientation:v,direction:o?"right":"left",onClick:Qn,disabled:!rs},H,{className:Ve(W.scrollButtons,H.className)})):null,K.scrollButtonEnd=At?E.jsx(w,pt({slots:{EndScrollButtonIcon:D.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ce},orientation:v,direction:o?"left":"right",onClick:Qo,disabled:!Kn},H,{className:Ve(W.scrollButtons,H.className)})):null,K},cs=al(K=>{const{tabsMeta:tt,tabMeta:At}=as();if(!(!At||!tt)){if(At[Ct]<tt[Ct]){const mt=tt[st]+(At[Ct]-tt[Ct]);lr(mt,{animation:K})}else if(At[_t]>tt[_t]){const mt=tt[st]+(At[_t]-tt[_t]);lr(mt,{animation:K})}}}),gi=al(()=>{Z&&_!==!1&&re(!Wn)});X.useEffect(()=>{const K=Id(()=>{Le.current&&He()});let tt;const At=Kt=>{Kt.forEach(Se=>{Se.removedNodes.forEach(Xn=>{var Ze;(Ze=tt)==null||Ze.unobserve(Xn)}),Se.addedNodes.forEach(Xn=>{var Ze;(Ze=tt)==null||Ze.observe(Xn)})}),K(),gi()},mt=Fd(Le.current);mt.addEventListener("resize",K);let Ft;return typeof ResizeObserver<"u"&&(tt=new ResizeObserver(K),Array.from(un.current.children).forEach(Kt=>{tt.observe(Kt)})),typeof MutationObserver<"u"&&(Ft=new MutationObserver(At),Ft.observe(un.current,{childList:!0})),()=>{var Kt,Se;K.clear(),mt.removeEventListener("resize",K),(Kt=Ft)==null||Kt.disconnect(),(Se=tt)==null||Se.disconnect()}},[He,gi]),X.useEffect(()=>{const K=Array.from(un.current.children),tt=K.length;if(typeof IntersectionObserver<"u"&&tt>0&&Z&&_!==!1){const At=K[0],mt=K[tt-1],Ft={root:Le.current,threshold:.99},Kt=xi=>{ar(!xi[0].isIntersecting)},Se=new IntersectionObserver(Kt,Ft);Se.observe(At);const Xn=xi=>{ge(!xi[0].isIntersecting)},Ze=new IntersectionObserver(Xn,Ft);return Ze.observe(mt),()=>{Se.disconnect(),Ze.disconnect()}}},[Z,_,Wn,f==null?void 0:f.length]),X.useEffect(()=>{Ae(!0)},[]),X.useEffect(()=>{He()}),X.useEffect(()=>{cs(Ah!==wt)},[cs,wt]),X.useImperativeHandle(d,()=>({updateIndicator:He,updateScrollButtons:gi}),[He,gi]);const hs=E.jsx(um,pt({},O,{className:Ve(W.indicator,O.className),ownerState:L,style:pt({},wt,O.style)}));let yi=0;const Yo=X.Children.map(f,K=>{if(!X.isValidElement(K))return null;const tt=K.props.value===void 0?yi:K.props.value;os.set(tt,yi);const At=tt===lt;return yi+=1,X.cloneElement(K,pt({fullWidth:$==="fullWidth",indicator:At&&!Rt&&hs,selected:At,selectionFollowsFocus:F,onChange:C,textColor:V,value:tt},yi===1&&lt===!1&&!K.props.tabIndex?{tabIndex:0}:{}))}),Zo=K=>{const tt=un.current,At=wp(tt).activeElement;if(At.getAttribute("role")!=="tab")return;let Ft=v==="horizontal"?"ArrowLeft":"ArrowUp",Kt=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&o&&(Ft="ArrowRight",Kt="ArrowLeft"),K.key){case Ft:K.preventDefault(),oo(tt,At,mh);break;case Kt:K.preventDefault(),oo(tt,At,ph);break;case"Home":K.preventDefault(),oo(tt,null,ph);break;case"End":K.preventDefault(),oo(tt,null,mh);break}},ur=Vo();return E.jsxs(om,pt({className:Ve(W.root,A),ownerState:L,ref:e,as:g},ut,{children:[ur.scrollButtonStart,ur.scrollbarSizeListener,E.jsxs(am,{className:W.scroller,ownerState:L,style:{overflow:ss.overflow,[ft?`margin${o?"Left":"Right"}`:"marginBottom"]:ct?void 0:-ss.scrollbarWidth},ref:Le,children:[E.jsx(lm,{"aria-label":l,"aria-labelledby":h,"aria-orientation":v==="vertical"?"vertical":null,className:W.flexContainer,ownerState:L,onKeyDown:Zo,ref:un,role:"tablist",children:Yo}),Rt&&hs]}),ur.scrollButtonEnd]}))}),dm=hm;function fm(u){return $r("MuiTab",u)}const pm=qr("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),si=pm,mm=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Am=u=>{const{classes:t,textColor:e,fullWidth:r,wrapped:s,icon:o,label:l,selected:h,disabled:d}=u,p={root:["root",o&&l&&"labelIcon",`textColor${Xt(e)}`,r&&"fullWidth",s&&"wrapped",h&&"selected",d&&"disabled"],iconWrapper:["iconWrapper"]};return es(p,fm,t)},gm=ue(au,{name:"MuiTab",slot:"Root",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.root,e.label&&e.icon&&t.labelIcon,t[`textColor${Xt(e.textColor)}`],e.fullWidth&&t.fullWidth,e.wrapped&&t.wrapped]}})(({theme:u,ownerState:t})=>pt({},u.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${si.iconWrapper}`]:pt({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:u.spacing(1)},t.iconPosition==="end"&&{marginLeft:u.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${si.selected}`]:{opacity:1},[`&.${si.disabled}`]:{opacity:(u.vars||u).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(u.vars||u).palette.text.secondary,[`&.${si.selected}`]:{color:(u.vars||u).palette.primary.main},[`&.${si.disabled}`]:{color:(u.vars||u).palette.text.disabled}},t.textColor==="secondary"&&{color:(u.vars||u).palette.text.secondary,[`&.${si.selected}`]:{color:(u.vars||u).palette.secondary.main},[`&.${si.disabled}`]:{color:(u.vars||u).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:u.typography.pxToRem(12)})),ym=X.forwardRef(function(t,e){const r=ts({props:t,name:"MuiTab"}),{className:s,disabled:o=!1,disableFocusRipple:l=!1,fullWidth:h,icon:d,iconPosition:p="top",indicator:f,label:A,onChange:g,onClick:x,onFocus:B,selected:C,selectionFollowsFocus:v,textColor:w="inherit",value:_,wrapped:F=!1}=r,D=ir(r,mm),z=pt({},r,{disabled:o,disableFocusRipple:l,selected:C,icon:!!d,iconPosition:p,label:!!A,fullWidth:h,textColor:w,wrapped:F}),O=Am(z),H=d&&A&&X.isValidElement(d)?X.cloneElement(d,{className:Ve(O.iconWrapper,d.props.className)}):d,V=$=>{!C&&g&&g($,_),x&&x($)},lt=$=>{v&&!C&&g&&g($,_),B&&B($)};return E.jsxs(gm,pt({focusRipple:!l,className:Ve(O.root,s),ref:e,role:"tab","aria-selected":C,disabled:o,onClick:V,onFocus:lt,ownerState:z,tabIndex:C?0:-1},D,{children:[p==="top"||p==="start"?E.jsxs(X.Fragment,{children:[H,A]}):E.jsxs(X.Fragment,{children:[A,H]}),f]}))}),_r=ym,xm="data:image/png;base64,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",Bm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAtCAYAAAAOYyOGAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABgAAAAAQAAAGAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAADWgAwAEAAAAAQAAAC0AAAAAq45SdwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAA2pJREFUaAXtmbuLFEEQh9cXgg8U9AJjQU8U0Vwu1kAzwVQvUDBVEFH0DxCMjAXBxEwNfMDBLRgIBpeooCh3mhw+EN+Jz993Xu21vV29s9vuKDgF305PVXVVddfOBD2t1n8so1r7lPgR8FnjcbFIeIJthVgdga7XPGKTI8xJDdTyR2RCUcLgNp6Wflsmw07ZHooH4v48jNFh84SYxLY84ZVasrI0a10wen4kW7Lg1jXaIM0W8SGy0Dls7HxKiEnslHi1dHx7OnQ8/YH3N1qjKYvFEfE9mo4e8HkX2bj1YiZcu1Wli7LdpAiKNPmmwXlx0BTO9aL0h0TYbdsAi+1M9dWlixpR6NPitQh394vux0QvweeCWBY4spj1gthDlbaikyzmqXQ88HSJDTI0bF0WsX98jw9i87gSi5jEjv25p5asEKRE6A6J+MvY38bindRgUqwyRXT9qPtb87qvkY2YYecjc/62dFFEp4CUPJPyqrgpNgqeM4Tnhy7sFi9FSryYKd8uXfhwdxkrKJifK+CT7HcFr3R8gTE6bJ4Qc+DawreOlwD9E7FVvBUvBDs8Ky6JayL+60k1J7wwJgUvg+Xinjggbovcot7Ijv868UqQj+u0OCGei39CzqgKGLoM3OKhV1aQoFlUwebVOrXpVK3bXZCs6VTB5tU6telUrdtdkKzpVMHm1Tq16VSt212QrOlUwebVOrXpVK3bXZCs6VTB5tU6telUrdtdkKzqYeYu5TgnVgrO5BAOJ68I9ByF9ZJ+Tlw5Wz8u9gs7xmM+x2rHxB1RLG1FYDExM9JtF1XkqJygihBzRsT5uKeWrFTtlBeEQ8xcB7BtEpsFR83IPvFIPBYUmRLmeQekKf/fdKWLIlhuUXwx5DvVHhwDuaExJ7XvA104zMUM/ZLj0kWx0xTAWzT1JkVnHwY07Ag6bKn81n2vi50g3iAV1PNN6UekPCXij274stjrgi/ssaAbE3tFXDz3f/2j2w4VwQJ4S8WslY6FUWgIOmyxP/fEIibPYDjHxm3ps1LaKQpASOj9zeIPavijwz81BztisX/d9fFbuihSsSBP+Fp4WJwV5kexswKbJ+br2bP6qotK7TaBKTC32xTHtyXoR4jpdcqrpZ/4c76j+p0SFGnwsI8LL7lMAwsxiU0Oy8eVGqglKz8B5y7N/z/MwesAAAAASUVORK5CYII=",Cm="data:image/png;base64,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";var lu={},Mm=Pd;Object.defineProperty(lu,"__esModule",{value:!0});var zd=lu.default=void 0,vm=Mm(Dd()),wm=E,Sm=(0,vm.default)((0,wm.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");zd=lu.default=Sm;const gh=ue(rr)(({theme:u})=>({backgroundColor:u.palette.mode==="dark"?"#1A2027":"#fff",...u.typography.body2,padding:u.spacing(1),textAlign:"center",color:u.palette.text.secondary}));function Em(u){const[t,e]=X.useState(u.info);return X.useEffect(()=>{e(u.info)},[u]),E.jsx(E.Fragment,{children:E.jsxs(gh,{sx:{minHeight:"350px"},elevation:"0",children:[E.jsxs(et,{container:!0,spacing:2,sx:{marginTop:"10px",marginBottom:"10px"},children:[E.jsx(et,{xs:1,md:0}),E.jsx(et,{xs:10,md:12,children:E.jsxs(gh,{sx:{minHeight:"100px",borderRadius:"25px"},elevation:"3",children:[E.jsxs(et,{container:!0,spacing:2,children:[E.jsx(et,{xs:4,children:E.jsx("img",{src:xm})}),E.jsx(et,{xs:4,children:E.jsx("img",{src:Cm})}),E.jsx(et,{xs:4,children:E.jsx("img",{src:Bm})})]}),E.jsxs(et,{container:!0,spacing:2,children:[E.jsxs(et,{xs:4,children:[E.jsx("span",{children:E.jsx("b",{children:t.motor.description})}),t.motor.more!=""?E.jsx(Ql,{title:t.motor.more,children:E.jsx(Xl,{"aria-label":"delete",size:"small",children:E.jsx(zd,{fontSize:"inherit"})})}):E.jsx(E.Fragment,{})]}),E.jsx(et,{xs:4,children:E.jsx("span",{children:E.jsx("b",{children:t.gearBox.description})})}),E.jsx(et,{xs:4,children:E.jsx("span",{children:E.jsx("b",{children:t.traccion.description})})})]})]})}),E.jsx(et,{xs:1,md:0})]}),E.jsxs(et,{children:[E.jsxs(et,{container:!0,spacing:2,children:[E.jsx(et,{xs:4,children:t.Range.description}),E.jsx(et,{xs:4,children:t.Consumption.description}),E.jsx(et,{xs:4,children:t.CO2emissions.description})]}),E.jsxs(et,{container:!0,spacing:2,children:[E.jsx(et,{xs:4,children:E.jsx("b",{children:"Range"})}),E.jsx(et,{xs:4,children:E.jsx("b",{children:"Consumption"})}),E.jsx(et,{xs:4,children:E.jsx("b",{children:"CO2 emissions"})})]})]}),E.jsxs(et,{children:[E.jsxs(et,{container:!0,spacing:2,children:[E.jsx(et,{xs:4,children:t.aceleration.description}),E.jsx(et,{xs:4,children:t.Power.description}),E.jsx(et,{xs:4,children:t.TopSpeed.description})]}),E.jsxs(et,{container:!0,spacing:2,children:[E.jsx(et,{xs:4,children:E.jsx("b",{children:"0-100 km/h"})}),E.jsx(et,{xs:4,children:E.jsx("b",{children:"Power"})}),E.jsx(et,{xs:4,children:E.jsx("b",{children:"Top Speed"})})]})]})]})})}const bm=ue(rr)(({theme:u})=>({backgroundColor:u.palette.mode==="dark"?"#1A2027":"#fff",...u.typography.body2,padding:u.spacing(1),textAlign:"center",color:u.palette.text.secondary}));function Tm(u){const[t,e]=X.useState(u.info);return X.useEffect(()=>{e(u.info)},[u]),E.jsx(E.Fragment,{children:E.jsx(bm,{sx:{minHeight:"300px",maxHeight:"450px",overflowY:"auto"},elevation:"0",children:E.jsx("div",{children:Object.keys(t).map((r,s)=>E.jsxs("section",{children:[E.jsx("h2",{children:t[r].name}),E.jsx("hr",{}),E.jsx("p",{children:t[r].list.map((o,l)=>E.jsx("li",{children:o},l))})]},s))})})})}const Fm=ue(rr)(({theme:u})=>({backgroundColor:u.palette.mode==="dark"?"#1A2027":"#fff",...u.typography.body2,padding:u.spacing(1),textAlign:"center",color:u.palette.text.secondary}));function Im(u){const[t,e]=X.useState(u.info);return X.useEffect(()=>{e(u.info)},[u]),E.jsx(E.Fragment,{children:E.jsx(Fm,{sx:{minHeight:"350px"},elevation:"0",children:E.jsxs(et,{container:!0,spacing:2,sx:{marginTop:"10px"},children:[E.jsxs(et,{xs:4,children:[E.jsx("p",{children:E.jsx("b",{children:"Overall width:"})}),E.jsxs("p",{children:[" - Mirrors folded: ",t.MirrorsFolded.description]}),E.jsxs("p",{children:[" - Extended mirrors: ",t.ExtendedMirrors.description]})]}),E.jsxs(et,{xs:4,children:[E.jsxs("p",{children:[" - ",E.jsx("b",{children:"Total length:"})," ",t.TotalLength.description]}),E.jsxs("p",{children:[" - ",E.jsx("b",{children:"Total height:"})," ",t.TotalHeight.description]}),E.jsxs("p",{children:[" - ",E.jsx("b",{children:"Ground clearance:"})," ",t.GroundClearance.description]})]}),E.jsxs(et,{xs:4,children:[E.jsxs("p",{children:[" - ",E.jsx("b",{children:"Seats:"})," ",t.Seats.description]}),E.jsxs("p",{children:[" - ",E.jsx("b",{children:"Load:"})," ",t.Load.description]}),E.jsxs("p",{children:[" - ",E.jsx("b",{children:"Weight:"})," ",t.Weight.description]})]})]})})})}const _m=ue(rr)(({theme:u})=>({backgroundColor:u.palette.mode==="dark"?"#1A2027":"#fff",...u.typography.body2,padding:u.spacing(1),textAlign:"center",color:u.palette.text.secondary}));function Rm(u){const[t,e]=X.useState(u.info);return X.useEffect(()=>{e(u.info)},[u]),E.jsx(E.Fragment,{children:E.jsx(_m,{sx:{minHeight:"350px"},elevation:"0",children:E.jsx(et,{container:!0,spacing:4,sx:{marginTop:"10px"},children:Object.keys(t).map((r,s)=>E.jsx(E.Fragment,{children:E.jsx(et,{xs:4,children:E.jsxs("p",{children:[E.jsxs("b",{children:[t[r].name,":"]}),E.jsx("br",{}),t[r].data]})},s)}))})})})}const Dm=ue(rr)(({theme:u})=>({backgroundColor:u.palette.mode==="dark"?"#1A2027":"#fff",...u.typography.body2,padding:u.spacing(1),textAlign:"center",color:u.palette.text.secondary}));function Pm(u){const[t,e]=X.useState(u.info);return X.useEffect(()=>{e(u.info)},[u]),E.jsx(E.Fragment,{children:E.jsx(Dm,{sx:{minHeight:"350px"},elevation:"0",children:E.jsx(et,{container:!0,spacing:4,sx:{marginTop:"10px"},children:Object.keys(t).map((r,s)=>E.jsx(E.Fragment,{children:E.jsx(et,{xs:4,children:E.jsxs("p",{children:[E.jsxs("b",{children:[t[r].title,":"]}),E.jsx("br",{}),t[r].description]})},s)}))})})})}function Yi(u){const{children:t,value:e,index:r,...s}=u;return E.jsx("div",{role:"tabpanel",hidden:e!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...s,children:e===r&&E.jsx(Wr,{sx:{p:3},children:E.jsx(Sp,{children:t})})})}Yi.propTypes={children:ll.node,index:ll.number.isRequired,value:ll.number.isRequired};function Rr(u){return{id:`simple-tab-${u}`,"aria-controls":`simple-tabpanel-${u}`}}ue(rr)(({theme:u})=>({backgroundColor:u.palette.mode==="dark"?"#1A2027":"#fff",...u.typography.body2,padding:u.spacing(1),textAlign:"center",color:u.palette.text.secondary}));function km({car:u}){const[t,e]=X.useState(0),r=(s,o)=>{e(o)};return X.useEffect(()=>{},[u]),E.jsxs(Wr,{sx:{width:"100%"},children:[E.jsx(Wr,{sx:{borderBottom:1,borderColor:"divider"},children:E.jsxs(dm,{value:t,onChange:r,"aria-label":"basic tabs example",children:[E.jsx(_r,{label:"Motor",...Rr(0)}),E.jsx(_r,{label:"Equipment",...Rr(1)}),E.jsx(_r,{label:"Dimensions",...Rr(2)}),E.jsx(_r,{label:"Warranty",...Rr(3)}),u.charging.active&&E.jsx(_r,{label:"Charging",...Rr(4)})]})}),E.jsx(Yi,{value:t,index:0,children:E.jsx(Em,{info:u.motorInfo})}),E.jsx(Yi,{value:t,index:1,children:E.jsx(Tm,{info:u.equipment})}),E.jsx(Yi,{value:t,index:2,children:E.jsx(Im,{info:u.dimensions})}),E.jsx(Yi,{value:t,index:3,children:E.jsx(Pm,{info:u.warranty})}),u.charging.active&&E.jsx(Yi,{value:t,index:4,children:E.jsx(Rm,{info:u.charging.elements})})]})}function zm(u){return $r("MuiButtonGroup",u)}const Gm=qr("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Qt=Gm,Lm=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Hm=(u,t)=>{const{ownerState:e}=u;return[{[`& .${Qt.grouped}`]:t.grouped},{[`& .${Qt.grouped}`]:t[`grouped${Xt(e.orientation)}`]},{[`& .${Qt.grouped}`]:t[`grouped${Xt(e.variant)}`]},{[`& .${Qt.grouped}`]:t[`grouped${Xt(e.variant)}${Xt(e.orientation)}`]},{[`& .${Qt.grouped}`]:t[`grouped${Xt(e.variant)}${Xt(e.color)}`]},{[`& .${Qt.firstButton}`]:t.firstButton},{[`& .${Qt.lastButton}`]:t.lastButton},{[`& .${Qt.middleButton}`]:t.middleButton},t.root,t[e.variant],e.disableElevation===!0&&t.disableElevation,e.fullWidth&&t.fullWidth,e.orientation==="vertical"&&t.vertical]},Nm=u=>{const{classes:t,color:e,disabled:r,disableElevation:s,fullWidth:o,orientation:l,variant:h}=u,d={root:["root",h,l==="vertical"&&"vertical",o&&"fullWidth",s&&"disableElevation"],grouped:["grouped",`grouped${Xt(l)}`,`grouped${Xt(h)}`,`grouped${Xt(h)}${Xt(l)}`,`grouped${Xt(h)}${Xt(e)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return es(d,zm,t)},Om=ue("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Hm})(({theme:u,ownerState:t})=>pt({display:"inline-flex",borderRadius:(u.vars||u).shape.borderRadius},t.variant==="contained"&&{boxShadow:(u.vars||u).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${Qt.grouped}`]:pt({minWidth:40,"&:hover":pt({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${Qt.firstButton},& .${Qt.middleButton}`]:pt({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:u.vars?`1px solid rgba(${u.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${u.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Qt.disabled}`]:{borderRight:`1px solid ${(u.vars||u).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:u.vars?`1px solid rgba(${u.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${u.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Qt.disabled}`]:{borderBottom:`1px solid ${(u.vars||u).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:u.vars?`rgba(${u.vars.palette[t.color].mainChannel} / 0.5)`:Ep(u.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(u.vars||u).palette.grey[400]}`,[`&.${Qt.disabled}`]:{borderRight:`1px solid ${(u.vars||u).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(u.vars||u).palette.grey[400]}`,[`&.${Qt.disabled}`]:{borderBottom:`1px solid ${(u.vars||u).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(u.vars||u).palette[t.color].dark},{"&:hover":pt({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${Qt.lastButton},& .${Qt.middleButton}`]:pt({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Um=X.forwardRef(function(t,e){const r=ts({props:t,name:"MuiButtonGroup"}),{children:s,className:o,color:l="primary",component:h="div",disabled:d=!1,disableElevation:p=!1,disableFocusRipple:f=!1,disableRipple:A=!1,fullWidth:g=!1,orientation:x="horizontal",size:B="medium",variant:C="outlined"}=r,v=ir(r,Lm),w=pt({},r,{color:l,component:h,disabled:d,disableElevation:p,disableFocusRipple:f,disableRipple:A,fullWidth:g,orientation:x,size:B,variant:C}),_=Nm(w),F=X.useMemo(()=>({className:_.grouped,color:l,disabled:d,disableElevation:p,disableFocusRipple:f,disableRipple:A,fullWidth:g,size:B,variant:C}),[l,d,p,f,A,g,B,C,_.grouped]),D=Np(s),z=D.length,O=H=>{const V=H===0,lt=H===z-1;return V&&lt?"":V?_.firstButton:lt?_.lastButton:_.middleButton};return E.jsx(Om,pt({as:h,role:"group",className:Ve(_.root,o),ref:e,ownerState:w},v,{children:E.jsx(bp.Provider,{value:F,children:D.map((H,V)=>E.jsx(Tp.Provider,{value:O(V),children:H},V))})}))}),Jm=Um;function jm(u){return $r("MuiFab",u)}const Km=qr("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),yh=Km,Wm=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Qm=u=>{const{color:t,variant:e,classes:r,size:s}=u,o={root:["root",e,`size${Xt(s)}`,t==="inherit"?"colorInherit":t]},l=es(o,jm,r);return pt({},r,l)},Xm=ue(au,{name:"MuiFab",slot:"Root",shouldForwardProp:u=>Fp(u)||u==="classes",overridesResolver:(u,t)=>{const{ownerState:e}=u;return[t.root,t[e.variant],t[`size${Xt(e.size)}`],e.color==="inherit"&&t.colorInherit,t[Xt(e.size)],t[e.color]]}})(({theme:u,ownerState:t})=>{var e,r;return pt({},u.typography.button,{minHeight:36,transition:u.transitions.create(["background-color","box-shadow","border-color"],{duration:u.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(u.vars||u).zIndex.fab,boxShadow:(u.vars||u).shadows[6],"&:active":{boxShadow:(u.vars||u).shadows[12]},color:u.vars?u.vars.palette.text.primary:(e=(r=u.palette).getContrastText)==null?void 0:e.call(r,u.palette.grey[300]),backgroundColor:(u.vars||u).palette.grey[300],"&:hover":{backgroundColor:(u.vars||u).palette.grey.A100,"@media (hover: none)":{backgroundColor:(u.vars||u).palette.grey[300]},textDecoration:"none"},[`&.${yh.focusVisible}`]:{boxShadow:(u.vars||u).shadows[6]}},t.size==="small"&&{width:40,height:40},t.size==="medium"&&{width:48,height:48},t.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},t.variant==="extended"&&t.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},t.variant==="extended"&&t.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},t.color==="inherit"&&{color:"inherit"})},({theme:u,ownerState:t})=>pt({},t.color!=="inherit"&&t.color!=="default"&&(u.vars||u).palette[t.color]!=null&&{color:(u.vars||u).palette[t.color].contrastText,backgroundColor:(u.vars||u).palette[t.color].main,"&:hover":{backgroundColor:(u.vars||u).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(u.vars||u).palette[t.color].main}}}),({theme:u})=>({[`&.${yh.disabled}`]:{color:(u.vars||u).palette.action.disabled,boxShadow:(u.vars||u).shadows[0],backgroundColor:(u.vars||u).palette.action.disabledBackground}})),Vm=X.forwardRef(function(t,e){const r=ts({props:t,name:"MuiFab"}),{children:s,className:o,color:l="default",component:h="button",disabled:d=!1,disableFocusRipple:p=!1,focusVisibleClassName:f,size:A="large",variant:g="circular"}=r,x=ir(r,Wm),B=pt({},r,{color:l,component:h,disabled:d,disableFocusRipple:p,size:A,variant:g}),C=Qm(B);return E.jsx(Xm,pt({className:Ve(C.root,o),component:h,disabled:d,focusRipple:!p,focusVisibleClassName:Ve(C.focusVisible,f),ownerState:B,ref:e},x,{classes:C,children:s}))}),Ym=Vm;function Zm({data:u,title:t,addToCompare:e}){const r=X.useMemo(()=>[{accessorKey:"photo",header:"Photo",Cell:({cell:o})=>E.jsx("img",{id:"carPhoto",src:o.getValue()}),size:100,enableGrouping:!1},{accessorKey:"model",header:"model",accessorFn:o=>`${o.brand} ${o.model}`,size:110,enableGrouping:!1},{accessorKey:"price",header:"price",Cell:({cell:o})=>E.jsx("span",{children:o.getValue()+" â‚¬"}),size:10}],[]),s=Pp({columns:r,data:u,enableColumnActions:!1,enableColumnFilters:!1,enablePagination:!1,enableSorting:!1,enableRowActions:!0,positionActionsColumn:"last",mrtTheme:o=>({baseBackgroundColor:o.palette.background.default}),muiTableBodyRowProps:{hover:!1},muiTableProps:{sx:{border:"1px solid rgba(81, 81, 81, .5)"}},muiTableHeadCellProps:{sx:{border:"0.px solid rgba(81, 81, 81, .5)",fontStyle:"italic",fontWeight:"normal"}},muiTableBodyCellProps:{sx:{}},renderRowActions:({row:o})=>E.jsxs(Wr,{children:[E.jsx(Ql,{title:"Inspect car",arrow:!0,children:E.jsx(Ip,{to:"/carPage/"+o.original.id,children:E.jsx(Xl,{color:"primary",children:E.jsx(_p,{})})},o.id)}),E.jsx(Ql,{title:"Add to Compare",arrow:!0,children:E.jsx(Xl,{color:"error",onClick:()=>e(o.original),children:E.jsx(zp,{})})})]})});return E.jsx(E.Fragment,{children:E.jsx(kp,{table:s,sx:{width:"40%"}})})}var uu={},qm=Pd;Object.defineProperty(uu,"__esModule",{value:!0});var Gd=uu.default=void 0,$m=qm(Dd()),tA=E,eA=(0,$m.default)((0,tA.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");Gd=uu.default=eA;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const cu="158",Ho=0,nA=1,iA=2,xh=1,Bh=100,Ch=204,Mh=205,vh=3,rA=0,wh="attached",sA="detached",Ld=300,Qr=1e3,Ur=1001,Vl=1002,Yl=1003,oA=1004,aA=1005,hu=1006,lA=1007,du=1008,Hd=1009,Nd=1015,fu=1023,Xr=2300,er=2301,hl=2302,Sh=2400,Eh=2401,bh=2402,uA=2500,cA=0,Od=1,Zl=2,hA=3e3,dl=3001,dA=0,zo="",Qe="srgb",pu="srgb-linear",fA="display-p3",Ud="display-p3-linear",ql="linear",Th="srgb",Fh="rec709",Ih="p3",ki=7680,_h=519,$l=35044,hi=2e3,tu=2001;class Oo{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[t]===void 0&&(r[t]=[]),r[t].indexOf(e)===-1&&r[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const r=this._listeners;return r[t]!==void 0&&r[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const s=this._listeners[t];if(s!==void 0){const o=s.indexOf(e);o!==-1&&s.splice(o,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const r=this._listeners[t.type];if(r!==void 0){t.target=this;const s=r.slice(0);for(let o=0,l=s.length;o<l;o++)s[o].call(this,t);t.target=null}}}const te=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Rh=1234567;const jr=Math.PI/180,Vr=180/Math.PI;function Ye(){const u=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(te[u&255]+te[u>>8&255]+te[u>>16&255]+te[u>>24&255]+"-"+te[t&255]+te[t>>8&255]+"-"+te[t>>16&15|64]+te[t>>24&255]+"-"+te[e&63|128]+te[e>>8&255]+"-"+te[e>>16&255]+te[e>>24&255]+te[r&255]+te[r>>8&255]+te[r>>16&255]+te[r>>24&255]).toLowerCase()}function ne(u,t,e){return Math.max(t,Math.min(e,u))}function mu(u,t){return(u%t+t)%t}function pA(u,t,e,r,s){return r+(u-t)*(s-r)/(e-t)}function mA(u,t,e){return u!==t?(e-u)/(t-u):0}function Kr(u,t,e){return(1-e)*u+e*t}function AA(u,t,e,r){return Kr(u,t,1-Math.exp(-e*r))}function gA(u,t=1){return t-Math.abs(mu(u,t*2)-t)}function yA(u,t,e){return u<=t?0:u>=e?1:(u=(u-t)/(e-t),u*u*(3-2*u))}function xA(u,t,e){return u<=t?0:u>=e?1:(u=(u-t)/(e-t),u*u*u*(u*(u*6-15)+10))}function BA(u,t){return u+Math.floor(Math.random()*(t-u+1))}function CA(u,t){return u+Math.random()*(t-u)}function MA(u){return u*(.5-Math.random())}function vA(u){u!==void 0&&(Rh=u);let t=Rh+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function wA(u){return u*jr}function SA(u){return u*Vr}function EA(u){return(u&u-1)===0&&u!==0}function Jd(u){return Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function bA(u){return Math.pow(2,Math.floor(Math.log(u)/Math.LN2))}function TA(u,t,e,r,s){const o=Math.cos,l=Math.sin,h=o(e/2),d=l(e/2),p=o((t+r)/2),f=l((t+r)/2),A=o((t-r)/2),g=l((t-r)/2),x=o((r-t)/2),B=l((r-t)/2);switch(s){case"XYX":u.set(h*f,d*A,d*g,h*p);break;case"YZY":u.set(d*g,h*f,d*A,h*p);break;case"ZXZ":u.set(d*A,d*g,h*f,h*p);break;case"XZX":u.set(h*f,d*B,d*x,h*p);break;case"YXY":u.set(d*x,h*f,d*B,h*p);break;case"ZYZ":u.set(d*B,d*x,h*f,h*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function on(u,t){switch(t.constructor){case Float32Array:return u;case Uint32Array:return u/4294967295;case Uint16Array:return u/65535;case Uint8Array:return u/255;case Int32Array:return Math.max(u/2147483647,-1);case Int16Array:return Math.max(u/32767,-1);case Int8Array:return Math.max(u/127,-1);default:throw new Error("Invalid component type.")}}function Mt(u,t){switch(t.constructor){case Float32Array:return u;case Uint32Array:return Math.round(u*4294967295);case Uint16Array:return Math.round(u*65535);case Uint8Array:return Math.round(u*255);case Int32Array:return Math.round(u*2147483647);case Int16Array:return Math.round(u*32767);case Int8Array:return Math.round(u*127);default:throw new Error("Invalid component type.")}}const FA={DEG2RAD:jr,RAD2DEG:Vr,generateUUID:Ye,clamp:ne,euclideanModulo:mu,mapLinear:pA,inverseLerp:mA,lerp:Kr,damp:AA,pingpong:gA,smoothstep:yA,smootherstep:xA,randInt:BA,randFloat:CA,randFloatSpread:MA,seededRandom:vA,degToRad:wA,radToDeg:SA,isPowerOfTwo:EA,ceilPowerOfTwo:Jd,floorPowerOfTwo:bA,setQuaternionFromProperEuler:TA,normalize:Mt,denormalize:on};class Pt{constructor(t=0,e=0){Pt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,r=this.y,s=t.elements;return this.x=s[0]*e+s[3]*r+s[6],this.y=s[1]*e+s[4]*r+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(ne(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y;return e*e+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const r=Math.cos(e),s=Math.sin(e),o=this.x-t.x,l=this.y-t.y;return this.x=o*r-l*s+t.x,this.y=o*s+l*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Mn{constructor(t,e,r,s,o,l,h,d,p){Mn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,r,s,o,l,h,d,p)}set(t,e,r,s,o,l,h,d,p){const f=this.elements;return f[0]=t,f[1]=s,f[2]=h,f[3]=e,f[4]=o,f[5]=d,f[6]=r,f[7]=l,f[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,s=e.elements,o=this.elements,l=r[0],h=r[3],d=r[6],p=r[1],f=r[4],A=r[7],g=r[2],x=r[5],B=r[8],C=s[0],v=s[3],w=s[6],_=s[1],F=s[4],D=s[7],z=s[2],O=s[5],H=s[8];return o[0]=l*C+h*_+d*z,o[3]=l*v+h*F+d*O,o[6]=l*w+h*D+d*H,o[1]=p*C+f*_+A*z,o[4]=p*v+f*F+A*O,o[7]=p*w+f*D+A*H,o[2]=g*C+x*_+B*z,o[5]=g*v+x*F+B*O,o[8]=g*w+x*D+B*H,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],s=t[2],o=t[3],l=t[4],h=t[5],d=t[6],p=t[7],f=t[8];return e*l*f-e*h*p-r*o*f+r*h*d+s*o*p-s*l*d}invert(){const t=this.elements,e=t[0],r=t[1],s=t[2],o=t[3],l=t[4],h=t[5],d=t[6],p=t[7],f=t[8],A=f*l-h*p,g=h*d-f*o,x=p*o-l*d,B=e*A+r*g+s*x;if(B===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/B;return t[0]=A*C,t[1]=(s*p-f*r)*C,t[2]=(h*r-s*l)*C,t[3]=g*C,t[4]=(f*e-s*d)*C,t[5]=(s*o-h*e)*C,t[6]=x*C,t[7]=(r*d-p*e)*C,t[8]=(l*e-r*o)*C,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,s,o,l,h){const d=Math.cos(o),p=Math.sin(o);return this.set(r*d,r*p,-r*(d*l+p*h)+l+t,-s*p,s*d,-s*(-p*l+d*h)+h+e,0,0,1),this}scale(t,e){return this.premultiply(fl.makeScale(t,e)),this}rotate(t){return this.premultiply(fl.makeRotation(-t)),this}translate(t,e){return this.premultiply(fl.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,r,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,r=t.elements;for(let s=0;s<9;s++)if(e[s]!==r[s])return!1;return!0}fromArray(t,e=0){for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const fl=new Mn;function IA(u){for(let t=u.length-1;t>=0;--t)if(u[t]>=65535)return!0;return!1}function eu(u){return document.createElementNS("http://www.w3.org/1999/xhtml",u)}const Dh={};function pl(u){u in Dh||(Dh[u]=!0,console.warn(u))}const Ph=new Mn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),kh=new Mn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),ao={[pu]:{transfer:ql,primaries:Fh,toReference:u=>u,fromReference:u=>u},[Qe]:{transfer:Th,primaries:Fh,toReference:u=>u.convertSRGBToLinear(),fromReference:u=>u.convertLinearToSRGB()},[Ud]:{transfer:ql,primaries:Ih,toReference:u=>u.applyMatrix3(kh),fromReference:u=>u.applyMatrix3(Ph)},[fA]:{transfer:Th,primaries:Ih,toReference:u=>u.convertSRGBToLinear().applyMatrix3(kh),fromReference:u=>u.applyMatrix3(Ph).convertLinearToSRGB()}},_A=new Set([pu,Ud]),Je={enabled:!0,_workingColorSpace:pu,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(u){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!u},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(u){if(!_A.has(u))throw new Error(`Unsupported working color space, "${u}".`);this._workingColorSpace=u},convert:function(u,t,e){if(this.enabled===!1||t===e||!t||!e)return u;const r=ao[t].toReference,s=ao[e].fromReference;return s(r(u))},fromWorkingColorSpace:function(u,t){return this.convert(u,this._workingColorSpace,t)},toWorkingColorSpace:function(u,t){return this.convert(u,t,this._workingColorSpace)},getPrimaries:function(u){return ao[u].primaries},getTransfer:function(u){return u===zo?ql:ao[u].transfer}};function $i(u){return u<.04045?u*.0773993808:Math.pow(u*.9478672986+.0521327014,2.4)}function ml(u){return u<.0031308?u*12.92:1.055*Math.pow(u,.41666)-.055}let zi;class RA{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{zi===void 0&&(zi=eu("canvas")),zi.width=t.width,zi.height=t.height;const r=zi.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),e=zi}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=eu("canvas");e.width=t.width,e.height=t.height;const r=e.getContext("2d");r.drawImage(t,0,0,t.width,t.height);const s=r.getImageData(0,0,t.width,t.height),o=s.data;for(let l=0;l<o.length;l++)o[l]=$i(o[l]/255)*255;return r.putImageData(s,0,0),e}else if(t.data){const e=t.data.slice(0);for(let r=0;r<e.length;r++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[r]=Math.floor($i(e[r]/255)*255):e[r]=$i(e[r]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let DA=0;class PA{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:DA++}),this.uuid=Ye(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const r={uuid:this.uuid,url:""},s=this.data;if(s!==null){let o;if(Array.isArray(s)){o=[];for(let l=0,h=s.length;l<h;l++)s[l].isDataTexture?o.push(Al(s[l].image)):o.push(Al(s[l]))}else o=Al(s);r.url=o}return e||(t.images[this.uuid]=r),r}}function Al(u){return typeof HTMLImageElement<"u"&&u instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&u instanceof ImageBitmap?RA.getDataURL(u):u.data?{data:Array.from(u.data),width:u.width,height:u.height,type:u.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let kA=0;class Ge extends Oo{constructor(t=Ge.DEFAULT_IMAGE,e=Ge.DEFAULT_MAPPING,r=Ur,s=Ur,o=hu,l=du,h=fu,d=Hd,p=Ge.DEFAULT_ANISOTROPY,f=zo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:kA++}),this.uuid=Ye(),this.name="",this.source=new PA(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=l,this.anisotropy=p,this.format=h,this.internalFormat=null,this.type=d,this.offset=new Pt(0,0),this.repeat=new Pt(1,1),this.center=new Pt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof f=="string"?this.colorSpace=f:(pl("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===dl?Qe:zo),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),e||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==Ld)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Qr:t.x=t.x-Math.floor(t.x);break;case Ur:t.x=t.x<0?0:1;break;case Vl:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Qr:t.y=t.y-Math.floor(t.y);break;case Ur:t.y=t.y<0?0:1;break;case Vl:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return pl("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Qe?dl:hA}set encoding(t){pl("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===dl?Qe:zo}}Ge.DEFAULT_IMAGE=null;Ge.DEFAULT_MAPPING=Ld;Ge.DEFAULT_ANISOTROPY=1;class ze{constructor(t=0,e=0,r=0,s=1){ze.prototype.isVector4=!0,this.x=t,this.y=e,this.z=r,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,r,s){return this.x=t,this.y=e,this.z=r,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,r=this.y,s=this.z,o=this.w,l=t.elements;return this.x=l[0]*e+l[4]*r+l[8]*s+l[12]*o,this.y=l[1]*e+l[5]*r+l[9]*s+l[13]*o,this.z=l[2]*e+l[6]*r+l[10]*s+l[14]*o,this.w=l[3]*e+l[7]*r+l[11]*s+l[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,r,s,o;const d=t.elements,p=d[0],f=d[4],A=d[8],g=d[1],x=d[5],B=d[9],C=d[2],v=d[6],w=d[10];if(Math.abs(f-g)<.01&&Math.abs(A-C)<.01&&Math.abs(B-v)<.01){if(Math.abs(f+g)<.1&&Math.abs(A+C)<.1&&Math.abs(B+v)<.1&&Math.abs(p+x+w-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const F=(p+1)/2,D=(x+1)/2,z=(w+1)/2,O=(f+g)/4,H=(A+C)/4,V=(B+v)/4;return F>D&&F>z?F<.01?(r=0,s=.707106781,o=.707106781):(r=Math.sqrt(F),s=O/r,o=H/r):D>z?D<.01?(r=.707106781,s=0,o=.707106781):(s=Math.sqrt(D),r=O/s,o=V/s):z<.01?(r=.707106781,s=.707106781,o=0):(o=Math.sqrt(z),r=H/o,s=V/o),this.set(r,s,o,e),this}let _=Math.sqrt((v-B)*(v-B)+(A-C)*(A-C)+(g-f)*(g-f));return Math.abs(_)<.001&&(_=1),this.x=(v-B)/_,this.y=(A-C)/_,this.z=(g-f)/_,this.w=Math.acos((p+x+w-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this.w=t.w+(e.w-t.w)*r,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Un{constructor(t=0,e=0,r=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=r,this._w=s}static slerpFlat(t,e,r,s,o,l,h){let d=r[s+0],p=r[s+1],f=r[s+2],A=r[s+3];const g=o[l+0],x=o[l+1],B=o[l+2],C=o[l+3];if(h===0){t[e+0]=d,t[e+1]=p,t[e+2]=f,t[e+3]=A;return}if(h===1){t[e+0]=g,t[e+1]=x,t[e+2]=B,t[e+3]=C;return}if(A!==C||d!==g||p!==x||f!==B){let v=1-h;const w=d*g+p*x+f*B+A*C,_=w>=0?1:-1,F=1-w*w;if(F>Number.EPSILON){const z=Math.sqrt(F),O=Math.atan2(z,w*_);v=Math.sin(v*O)/z,h=Math.sin(h*O)/z}const D=h*_;if(d=d*v+g*D,p=p*v+x*D,f=f*v+B*D,A=A*v+C*D,v===1-h){const z=1/Math.sqrt(d*d+p*p+f*f+A*A);d*=z,p*=z,f*=z,A*=z}}t[e]=d,t[e+1]=p,t[e+2]=f,t[e+3]=A}static multiplyQuaternionsFlat(t,e,r,s,o,l){const h=r[s],d=r[s+1],p=r[s+2],f=r[s+3],A=o[l],g=o[l+1],x=o[l+2],B=o[l+3];return t[e]=h*B+f*A+d*x-p*g,t[e+1]=d*B+f*g+p*A-h*x,t[e+2]=p*B+f*x+h*g-d*A,t[e+3]=f*B-h*A-d*g-p*x,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,r,s){return this._x=t,this._y=e,this._z=r,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const r=t._x,s=t._y,o=t._z,l=t._order,h=Math.cos,d=Math.sin,p=h(r/2),f=h(s/2),A=h(o/2),g=d(r/2),x=d(s/2),B=d(o/2);switch(l){case"XYZ":this._x=g*f*A+p*x*B,this._y=p*x*A-g*f*B,this._z=p*f*B+g*x*A,this._w=p*f*A-g*x*B;break;case"YXZ":this._x=g*f*A+p*x*B,this._y=p*x*A-g*f*B,this._z=p*f*B-g*x*A,this._w=p*f*A+g*x*B;break;case"ZXY":this._x=g*f*A-p*x*B,this._y=p*x*A+g*f*B,this._z=p*f*B+g*x*A,this._w=p*f*A-g*x*B;break;case"ZYX":this._x=g*f*A-p*x*B,this._y=p*x*A+g*f*B,this._z=p*f*B-g*x*A,this._w=p*f*A+g*x*B;break;case"YZX":this._x=g*f*A+p*x*B,this._y=p*x*A+g*f*B,this._z=p*f*B-g*x*A,this._w=p*f*A-g*x*B;break;case"XZY":this._x=g*f*A-p*x*B,this._y=p*x*A-g*f*B,this._z=p*f*B+g*x*A,this._w=p*f*A+g*x*B;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return e!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const r=e/2,s=Math.sin(r);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,r=e[0],s=e[4],o=e[8],l=e[1],h=e[5],d=e[9],p=e[2],f=e[6],A=e[10],g=r+h+A;if(g>0){const x=.5/Math.sqrt(g+1);this._w=.25/x,this._x=(f-d)*x,this._y=(o-p)*x,this._z=(l-s)*x}else if(r>h&&r>A){const x=2*Math.sqrt(1+r-h-A);this._w=(f-d)/x,this._x=.25*x,this._y=(s+l)/x,this._z=(o+p)/x}else if(h>A){const x=2*Math.sqrt(1+h-r-A);this._w=(o-p)/x,this._x=(s+l)/x,this._y=.25*x,this._z=(d+f)/x}else{const x=2*Math.sqrt(1+A-r-h);this._w=(l-s)/x,this._x=(o+p)/x,this._y=(d+f)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let r=t.dot(e)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(ne(this.dot(t),-1,1)))}rotateTowards(t,e){const r=this.angleTo(t);if(r===0)return this;const s=Math.min(1,e/r);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const r=t._x,s=t._y,o=t._z,l=t._w,h=e._x,d=e._y,p=e._z,f=e._w;return this._x=r*f+l*h+s*p-o*d,this._y=s*f+l*d+o*h-r*p,this._z=o*f+l*p+r*d-s*h,this._w=l*f-r*h-s*d-o*p,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const r=this._x,s=this._y,o=this._z,l=this._w;let h=l*t._w+r*t._x+s*t._y+o*t._z;if(h<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),h>=1)return this._w=l,this._x=r,this._y=s,this._z=o,this;const d=1-h*h;if(d<=Number.EPSILON){const x=1-e;return this._w=x*l+e*this._w,this._x=x*r+e*this._x,this._y=x*s+e*this._y,this._z=x*o+e*this._z,this.normalize(),this._onChangeCallback(),this}const p=Math.sqrt(d),f=Math.atan2(p,h),A=Math.sin((1-e)*f)/p,g=Math.sin(e*f)/p;return this._w=l*A+this._w*g,this._x=r*A+this._x*g,this._y=s*A+this._y*g,this._z=o*A+this._z*g,this._onChangeCallback(),this}slerpQuaternions(t,e,r){return this.copy(t).slerp(e,r)}random(){const t=Math.random(),e=Math.sqrt(1-t),r=Math.sqrt(t),s=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(e*Math.cos(s),r*Math.sin(o),r*Math.cos(o),e*Math.sin(s))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class I{constructor(t=0,e=0,r=0){I.prototype.isVector3=!0,this.x=t,this.y=e,this.z=r}set(t,e,r){return r===void 0&&(r=this.z),this.x=t,this.y=e,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(zh.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(zh.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,r=this.y,s=this.z,o=t.elements;return this.x=o[0]*e+o[3]*r+o[6]*s,this.y=o[1]*e+o[4]*r+o[7]*s,this.z=o[2]*e+o[5]*r+o[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,r=this.y,s=this.z,o=t.elements,l=1/(o[3]*e+o[7]*r+o[11]*s+o[15]);return this.x=(o[0]*e+o[4]*r+o[8]*s+o[12])*l,this.y=(o[1]*e+o[5]*r+o[9]*s+o[13])*l,this.z=(o[2]*e+o[6]*r+o[10]*s+o[14])*l,this}applyQuaternion(t){const e=this.x,r=this.y,s=this.z,o=t.x,l=t.y,h=t.z,d=t.w,p=2*(l*s-h*r),f=2*(h*e-o*s),A=2*(o*r-l*e);return this.x=e+d*p+l*A-h*f,this.y=r+d*f+h*p-o*A,this.z=s+d*A+o*f-l*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,r=this.y,s=this.z,o=t.elements;return this.x=o[0]*e+o[4]*r+o[8]*s,this.y=o[1]*e+o[5]*r+o[9]*s,this.z=o[2]*e+o[6]*r+o[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const r=t.x,s=t.y,o=t.z,l=e.x,h=e.y,d=e.z;return this.x=s*d-o*h,this.y=o*l-r*d,this.z=r*h-s*l,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return gl.copy(this).projectOnVector(t),this.sub(gl)}reflect(t){return this.sub(gl.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(ne(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,s=this.z-t.z;return e*e+r*r+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,r){const s=Math.sin(e)*t;return this.x=s*Math.sin(r),this.y=Math.cos(e)*t,this.z=s*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,e=Math.random()*Math.PI*2,r=Math.sqrt(1-t**2);return this.x=r*Math.cos(e),this.y=r*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gl=new I,zh=new Un;class vn{constructor(t=new I(1/0,1/0,1/0),e=new I(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e+=3)this.expandByPoint(je.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,r=t.count;e<r;e++)this.expandByPoint(je.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=je.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const r=t.geometry;if(r!==void 0){const o=r.getAttribute("position");if(e===!0&&o!==void 0&&t.isInstancedMesh!==!0)for(let l=0,h=o.count;l<h;l++)t.isMesh===!0?t.getVertexPosition(l,je):je.fromBufferAttribute(o,l),je.applyMatrix4(t.matrixWorld),this.expandByPoint(je);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),lo.copy(t.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),lo.copy(r.boundingBox)),lo.applyMatrix4(t.matrixWorld),this.union(lo)}const s=t.children;for(let o=0,l=s.length;o<l;o++)this.expandByObject(s[o],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,je),je.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Dr),uo.subVectors(this.max,Dr),Gi.subVectors(t.a,Dr),Li.subVectors(t.b,Dr),Hi.subVectors(t.c,Dr),Pn.subVectors(Li,Gi),kn.subVectors(Hi,Li),oi.subVectors(Gi,Hi);let e=[0,-Pn.z,Pn.y,0,-kn.z,kn.y,0,-oi.z,oi.y,Pn.z,0,-Pn.x,kn.z,0,-kn.x,oi.z,0,-oi.x,-Pn.y,Pn.x,0,-kn.y,kn.x,0,-oi.y,oi.x,0];return!yl(e,Gi,Li,Hi,uo)||(e=[1,0,0,0,1,0,0,0,1],!yl(e,Gi,Li,Hi,uo))?!1:(co.crossVectors(Pn,kn),e=[co.x,co.y,co.z],yl(e,Gi,Li,Hi,uo))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,je).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(je).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(An[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),An[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),An[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),An[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),An[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),An[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),An[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),An[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(An),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const An=[new I,new I,new I,new I,new I,new I,new I,new I],je=new I,lo=new vn,Gi=new I,Li=new I,Hi=new I,Pn=new I,kn=new I,oi=new I,Dr=new I,uo=new I,co=new I,ai=new I;function yl(u,t,e,r,s){for(let o=0,l=u.length-3;o<=l;o+=3){ai.fromArray(u,o);const h=s.x*Math.abs(ai.x)+s.y*Math.abs(ai.y)+s.z*Math.abs(ai.z),d=t.dot(ai),p=e.dot(ai),f=r.dot(ai);if(Math.max(-Math.max(d,p,f),Math.min(d,p,f))>h)return!1}return!0}const zA=new vn,Pr=new I,xl=new I;class an{constructor(t=new I,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const r=this.center;e!==void 0?r.copy(e):zA.setFromPoints(t).getCenter(r);let s=0;for(let o=0,l=t.length;o<l;o++)s=Math.max(s,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const r=this.center.distanceToSquared(t);return e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Pr.subVectors(t,this.center);const e=Pr.lengthSq();if(e>this.radius*this.radius){const r=Math.sqrt(e),s=(r-this.radius)*.5;this.center.addScaledVector(Pr,s/r),this.radius+=s}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(xl.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Pr.copy(t.center).add(xl)),this.expandByPoint(Pr.copy(t.center).sub(xl))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const gn=new I,Bl=new I,ho=new I,zn=new I,Cl=new I,fo=new I,Ml=new I;class Uo{constructor(t=new I,e=new I(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,gn)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=gn.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(gn.copy(this.origin).addScaledVector(this.direction,e),gn.distanceToSquared(t))}distanceSqToSegment(t,e,r,s){Bl.copy(t).add(e).multiplyScalar(.5),ho.copy(e).sub(t).normalize(),zn.copy(this.origin).sub(Bl);const o=t.distanceTo(e)*.5,l=-this.direction.dot(ho),h=zn.dot(this.direction),d=-zn.dot(ho),p=zn.lengthSq(),f=Math.abs(1-l*l);let A,g,x,B;if(f>0)if(A=l*d-h,g=l*h-d,B=o*f,A>=0)if(g>=-B)if(g<=B){const C=1/f;A*=C,g*=C,x=A*(A+l*g+2*h)+g*(l*A+g+2*d)+p}else g=o,A=Math.max(0,-(l*g+h)),x=-A*A+g*(g+2*d)+p;else g=-o,A=Math.max(0,-(l*g+h)),x=-A*A+g*(g+2*d)+p;else g<=-B?(A=Math.max(0,-(-l*o+h)),g=A>0?-o:Math.min(Math.max(-o,-d),o),x=-A*A+g*(g+2*d)+p):g<=B?(A=0,g=Math.min(Math.max(-o,-d),o),x=g*(g+2*d)+p):(A=Math.max(0,-(l*o+h)),g=A>0?o:Math.min(Math.max(-o,-d),o),x=-A*A+g*(g+2*d)+p);else g=l>0?-o:o,A=Math.max(0,-(l*g+h)),x=-A*A+g*(g+2*d)+p;return r&&r.copy(this.origin).addScaledVector(this.direction,A),s&&s.copy(Bl).addScaledVector(ho,g),x}intersectSphere(t,e){gn.subVectors(t.center,this.origin);const r=gn.dot(this.direction),s=gn.dot(gn)-r*r,o=t.radius*t.radius;if(s>o)return null;const l=Math.sqrt(o-s),h=r-l,d=r+l;return d<0?null:h<0?this.at(d,e):this.at(h,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(t.normal)+t.constant)/e;return r>=0?r:null}intersectPlane(t,e){const r=this.distanceToPlane(t);return r===null?null:this.at(r,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let r,s,o,l,h,d;const p=1/this.direction.x,f=1/this.direction.y,A=1/this.direction.z,g=this.origin;return p>=0?(r=(t.min.x-g.x)*p,s=(t.max.x-g.x)*p):(r=(t.max.x-g.x)*p,s=(t.min.x-g.x)*p),f>=0?(o=(t.min.y-g.y)*f,l=(t.max.y-g.y)*f):(o=(t.max.y-g.y)*f,l=(t.min.y-g.y)*f),r>l||o>s||((o>r||isNaN(r))&&(r=o),(l<s||isNaN(s))&&(s=l),A>=0?(h=(t.min.z-g.z)*A,d=(t.max.z-g.z)*A):(h=(t.max.z-g.z)*A,d=(t.min.z-g.z)*A),r>d||h>s)||((h>r||r!==r)&&(r=h),(d<s||s!==s)&&(s=d),s<0)?null:this.at(r>=0?r:s,e)}intersectsBox(t){return this.intersectBox(t,gn)!==null}intersectTriangle(t,e,r,s,o){Cl.subVectors(e,t),fo.subVectors(r,t),Ml.crossVectors(Cl,fo);let l=this.direction.dot(Ml),h;if(l>0){if(s)return null;h=1}else if(l<0)h=-1,l=-l;else return null;zn.subVectors(this.origin,t);const d=h*this.direction.dot(fo.crossVectors(zn,fo));if(d<0)return null;const p=h*this.direction.dot(Cl.cross(zn));if(p<0||d+p>l)return null;const f=-h*zn.dot(Ml);return f<0?null:this.at(f/l,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dt{constructor(t,e,r,s,o,l,h,d,p,f,A,g,x,B,C,v){dt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,r,s,o,l,h,d,p,f,A,g,x,B,C,v)}set(t,e,r,s,o,l,h,d,p,f,A,g,x,B,C,v){const w=this.elements;return w[0]=t,w[4]=e,w[8]=r,w[12]=s,w[1]=o,w[5]=l,w[9]=h,w[13]=d,w[2]=p,w[6]=f,w[10]=A,w[14]=g,w[3]=x,w[7]=B,w[11]=C,w[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dt().fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this}copyPosition(t){const e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,r=t.elements,s=1/Ni.setFromMatrixColumn(t,0).length(),o=1/Ni.setFromMatrixColumn(t,1).length(),l=1/Ni.setFromMatrixColumn(t,2).length();return e[0]=r[0]*s,e[1]=r[1]*s,e[2]=r[2]*s,e[3]=0,e[4]=r[4]*o,e[5]=r[5]*o,e[6]=r[6]*o,e[7]=0,e[8]=r[8]*l,e[9]=r[9]*l,e[10]=r[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,r=t.x,s=t.y,o=t.z,l=Math.cos(r),h=Math.sin(r),d=Math.cos(s),p=Math.sin(s),f=Math.cos(o),A=Math.sin(o);if(t.order==="XYZ"){const g=l*f,x=l*A,B=h*f,C=h*A;e[0]=d*f,e[4]=-d*A,e[8]=p,e[1]=x+B*p,e[5]=g-C*p,e[9]=-h*d,e[2]=C-g*p,e[6]=B+x*p,e[10]=l*d}else if(t.order==="YXZ"){const g=d*f,x=d*A,B=p*f,C=p*A;e[0]=g+C*h,e[4]=B*h-x,e[8]=l*p,e[1]=l*A,e[5]=l*f,e[9]=-h,e[2]=x*h-B,e[6]=C+g*h,e[10]=l*d}else if(t.order==="ZXY"){const g=d*f,x=d*A,B=p*f,C=p*A;e[0]=g-C*h,e[4]=-l*A,e[8]=B+x*h,e[1]=x+B*h,e[5]=l*f,e[9]=C-g*h,e[2]=-l*p,e[6]=h,e[10]=l*d}else if(t.order==="ZYX"){const g=l*f,x=l*A,B=h*f,C=h*A;e[0]=d*f,e[4]=B*p-x,e[8]=g*p+C,e[1]=d*A,e[5]=C*p+g,e[9]=x*p-B,e[2]=-p,e[6]=h*d,e[10]=l*d}else if(t.order==="YZX"){const g=l*d,x=l*p,B=h*d,C=h*p;e[0]=d*f,e[4]=C-g*A,e[8]=B*A+x,e[1]=A,e[5]=l*f,e[9]=-h*f,e[2]=-p*f,e[6]=x*A+B,e[10]=g-C*A}else if(t.order==="XZY"){const g=l*d,x=l*p,B=h*d,C=h*p;e[0]=d*f,e[4]=-A,e[8]=p*f,e[1]=g*A+C,e[5]=l*f,e[9]=x*A-B,e[2]=B*A-x,e[6]=h*f,e[10]=C*A+g}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(GA,t,LA)}lookAt(t,e,r){const s=this.elements;return Me.subVectors(t,e),Me.lengthSq()===0&&(Me.z=1),Me.normalize(),Gn.crossVectors(r,Me),Gn.lengthSq()===0&&(Math.abs(r.z)===1?Me.x+=1e-4:Me.z+=1e-4,Me.normalize(),Gn.crossVectors(r,Me)),Gn.normalize(),po.crossVectors(Me,Gn),s[0]=Gn.x,s[4]=po.x,s[8]=Me.x,s[1]=Gn.y,s[5]=po.y,s[9]=Me.y,s[2]=Gn.z,s[6]=po.z,s[10]=Me.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,s=e.elements,o=this.elements,l=r[0],h=r[4],d=r[8],p=r[12],f=r[1],A=r[5],g=r[9],x=r[13],B=r[2],C=r[6],v=r[10],w=r[14],_=r[3],F=r[7],D=r[11],z=r[15],O=s[0],H=s[4],V=s[8],lt=s[12],$=s[1],ct=s[5],ut=s[9],Z=s[13],ft=s[2],st=s[6],Ct=s[10],_t=s[14],R=s[3],G=s[7],L=s[11],W=s[15];return o[0]=l*O+h*$+d*ft+p*R,o[4]=l*H+h*ct+d*st+p*G,o[8]=l*V+h*ut+d*Ct+p*L,o[12]=l*lt+h*Z+d*_t+p*W,o[1]=f*O+A*$+g*ft+x*R,o[5]=f*H+A*ct+g*st+x*G,o[9]=f*V+A*ut+g*Ct+x*L,o[13]=f*lt+A*Z+g*_t+x*W,o[2]=B*O+C*$+v*ft+w*R,o[6]=B*H+C*ct+v*st+w*G,o[10]=B*V+C*ut+v*Ct+w*L,o[14]=B*lt+C*Z+v*_t+w*W,o[3]=_*O+F*$+D*ft+z*R,o[7]=_*H+F*ct+D*st+z*G,o[11]=_*V+F*ut+D*Ct+z*L,o[15]=_*lt+F*Z+D*_t+z*W,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[4],s=t[8],o=t[12],l=t[1],h=t[5],d=t[9],p=t[13],f=t[2],A=t[6],g=t[10],x=t[14],B=t[3],C=t[7],v=t[11],w=t[15];return B*(+o*d*A-s*p*A-o*h*g+r*p*g+s*h*x-r*d*x)+C*(+e*d*x-e*p*g+o*l*g-s*l*x+s*p*f-o*d*f)+v*(+e*p*A-e*h*x-o*l*A+r*l*x+o*h*f-r*p*f)+w*(-s*h*f-e*d*A+e*h*g+s*l*A-r*l*g+r*d*f)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,r){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=r),this}invert(){const t=this.elements,e=t[0],r=t[1],s=t[2],o=t[3],l=t[4],h=t[5],d=t[6],p=t[7],f=t[8],A=t[9],g=t[10],x=t[11],B=t[12],C=t[13],v=t[14],w=t[15],_=A*v*p-C*g*p+C*d*x-h*v*x-A*d*w+h*g*w,F=B*g*p-f*v*p-B*d*x+l*v*x+f*d*w-l*g*w,D=f*C*p-B*A*p+B*h*x-l*C*x-f*h*w+l*A*w,z=B*A*d-f*C*d-B*h*g+l*C*g+f*h*v-l*A*v,O=e*_+r*F+s*D+o*z;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const H=1/O;return t[0]=_*H,t[1]=(C*g*o-A*v*o-C*s*x+r*v*x+A*s*w-r*g*w)*H,t[2]=(h*v*o-C*d*o+C*s*p-r*v*p-h*s*w+r*d*w)*H,t[3]=(A*d*o-h*g*o-A*s*p+r*g*p+h*s*x-r*d*x)*H,t[4]=F*H,t[5]=(f*v*o-B*g*o+B*s*x-e*v*x-f*s*w+e*g*w)*H,t[6]=(B*d*o-l*v*o-B*s*p+e*v*p+l*s*w-e*d*w)*H,t[7]=(l*g*o-f*d*o+f*s*p-e*g*p-l*s*x+e*d*x)*H,t[8]=D*H,t[9]=(B*A*o-f*C*o-B*r*x+e*C*x+f*r*w-e*A*w)*H,t[10]=(l*C*o-B*h*o+B*r*p-e*C*p-l*r*w+e*h*w)*H,t[11]=(f*h*o-l*A*o-f*r*p+e*A*p+l*r*x-e*h*x)*H,t[12]=z*H,t[13]=(f*C*s-B*A*s+B*r*g-e*C*g-f*r*v+e*A*v)*H,t[14]=(B*h*s-l*C*s-B*r*d+e*C*d+l*r*v-e*h*v)*H,t[15]=(l*A*s-f*h*s+f*r*d-e*A*d-l*r*g+e*h*g)*H,this}scale(t){const e=this.elements,r=t.x,s=t.y,o=t.z;return e[0]*=r,e[4]*=s,e[8]*=o,e[1]*=r,e[5]*=s,e[9]*=o,e[2]*=r,e[6]*=s,e[10]*=o,e[3]*=r,e[7]*=s,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,s))}makeTranslation(t,e,r){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const r=Math.cos(e),s=Math.sin(e),o=1-r,l=t.x,h=t.y,d=t.z,p=o*l,f=o*h;return this.set(p*l+r,p*h-s*d,p*d+s*h,0,p*h+s*d,f*h+r,f*d-s*l,0,p*d-s*h,f*d+s*l,o*d*d+r,0,0,0,0,1),this}makeScale(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,e,r,s,o,l){return this.set(1,r,o,0,t,1,l,0,e,s,1,0,0,0,0,1),this}compose(t,e,r){const s=this.elements,o=e._x,l=e._y,h=e._z,d=e._w,p=o+o,f=l+l,A=h+h,g=o*p,x=o*f,B=o*A,C=l*f,v=l*A,w=h*A,_=d*p,F=d*f,D=d*A,z=r.x,O=r.y,H=r.z;return s[0]=(1-(C+w))*z,s[1]=(x+D)*z,s[2]=(B-F)*z,s[3]=0,s[4]=(x-D)*O,s[5]=(1-(g+w))*O,s[6]=(v+_)*O,s[7]=0,s[8]=(B+F)*H,s[9]=(v-_)*H,s[10]=(1-(g+C))*H,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,r){const s=this.elements;let o=Ni.set(s[0],s[1],s[2]).length();const l=Ni.set(s[4],s[5],s[6]).length(),h=Ni.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),t.x=s[12],t.y=s[13],t.z=s[14],Ke.copy(this);const p=1/o,f=1/l,A=1/h;return Ke.elements[0]*=p,Ke.elements[1]*=p,Ke.elements[2]*=p,Ke.elements[4]*=f,Ke.elements[5]*=f,Ke.elements[6]*=f,Ke.elements[8]*=A,Ke.elements[9]*=A,Ke.elements[10]*=A,e.setFromRotationMatrix(Ke),r.x=o,r.y=l,r.z=h,this}makePerspective(t,e,r,s,o,l,h=hi){const d=this.elements,p=2*o/(e-t),f=2*o/(r-s),A=(e+t)/(e-t),g=(r+s)/(r-s);let x,B;if(h===hi)x=-(l+o)/(l-o),B=-2*l*o/(l-o);else if(h===tu)x=-l/(l-o),B=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return d[0]=p,d[4]=0,d[8]=A,d[12]=0,d[1]=0,d[5]=f,d[9]=g,d[13]=0,d[2]=0,d[6]=0,d[10]=x,d[14]=B,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(t,e,r,s,o,l,h=hi){const d=this.elements,p=1/(e-t),f=1/(r-s),A=1/(l-o),g=(e+t)*p,x=(r+s)*f;let B,C;if(h===hi)B=(l+o)*A,C=-2*A;else if(h===tu)B=o*A,C=-1*A;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return d[0]=2*p,d[4]=0,d[8]=0,d[12]=-g,d[1]=0,d[5]=2*f,d[9]=0,d[13]=-x,d[2]=0,d[6]=0,d[10]=C,d[14]=-B,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(t){const e=this.elements,r=t.elements;for(let s=0;s<16;s++)if(e[s]!==r[s])return!1;return!0}fromArray(t,e=0){for(let r=0;r<16;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}const Ni=new I,Ke=new dt,GA=new I(0,0,0),LA=new I(1,1,1),Gn=new I,po=new I,Me=new I,Gh=new dt,Lh=new Un;class Jo{constructor(t=0,e=0,r=0,s=Jo.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,r,s=this._order){return this._x=t,this._y=e,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,r=!0){const s=t.elements,o=s[0],l=s[4],h=s[8],d=s[1],p=s[5],f=s[9],A=s[2],g=s[6],x=s[10];switch(e){case"XYZ":this._y=Math.asin(ne(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-f,x),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(g,p),this._z=0);break;case"YXZ":this._x=Math.asin(-ne(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(h,x),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-A,o),this._z=0);break;case"ZXY":this._x=Math.asin(ne(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-A,x),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-ne(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(g,x),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(ne(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-f,p),this._y=Math.atan2(-A,o)):(this._x=0,this._y=Math.atan2(h,x));break;case"XZY":this._z=Math.asin(-ne(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(g,p),this._y=Math.atan2(h,o)):(this._x=Math.atan2(-f,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,r===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,r){return Gh.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Gh,e,r)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Lh.setFromEuler(this),this.setFromQuaternion(Lh,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Jo.DEFAULT_ORDER="XYZ";class Go{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let HA=0;const Hh=new I,Oi=new Un,yn=new dt,mo=new I,kr=new I,NA=new I,OA=new Un,Nh=new I(1,0,0),Oh=new I(0,1,0),Uh=new I(0,0,1),UA={type:"added"},JA={type:"removed"};class kt extends Oo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:HA++}),this.uuid=Ye(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=kt.DEFAULT_UP.clone();const t=new I,e=new Jo,r=new Un,s=new I(1,1,1);function o(){r.setFromEuler(e,!1)}function l(){e.setFromQuaternion(r,void 0,!1)}e._onChange(o),r._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new dt},normalMatrix:{value:new Mn}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=kt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Go,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Oi.setFromAxisAngle(t,e),this.quaternion.multiply(Oi),this}rotateOnWorldAxis(t,e){return Oi.setFromAxisAngle(t,e),this.quaternion.premultiply(Oi),this}rotateX(t){return this.rotateOnAxis(Nh,t)}rotateY(t){return this.rotateOnAxis(Oh,t)}rotateZ(t){return this.rotateOnAxis(Uh,t)}translateOnAxis(t,e){return Hh.copy(t).applyQuaternion(this.quaternion),this.position.add(Hh.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Nh,t)}translateY(t){return this.translateOnAxis(Oh,t)}translateZ(t){return this.translateOnAxis(Uh,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(yn.copy(this.matrixWorld).invert())}lookAt(t,e,r){t.isVector3?mo.copy(t):mo.set(t,e,r);const s=this.parent;this.updateWorldMatrix(!0,!1),kr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yn.lookAt(kr,mo,this.up):yn.lookAt(mo,kr,this.up),this.quaternion.setFromRotationMatrix(yn),s&&(yn.extractRotation(s.matrixWorld),Oi.setFromRotationMatrix(yn),this.quaternion.premultiply(Oi.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(UA)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(JA)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),yn.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),yn.multiply(t.parent.matrixWorld)),t.applyMatrix4(yn),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let r=0,s=this.children.length;r<s;r++){const l=this.children[r].getObjectByProperty(t,e);if(l!==void 0)return l}}getObjectsByProperty(t,e){let r=[];this[t]===e&&r.push(this);for(let s=0,o=this.children.length;s<o;s++){const l=this.children[s].getObjectsByProperty(t,e);l.length>0&&(r=r.concat(l))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kr,t,NA),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kr,OA,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let r=0,s=e.length;r<s;r++)e[r].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let r=0,s=e.length;r<s;r++)e[r].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let r=0,s=e.length;r<s;r++){const o=e[r];(o.matrixWorldAutoUpdate===!0||t===!0)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const r=this.parent;if(t===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const s=this.children;for(let o=0,l=s.length;o<l;o++){const h=s[o];h.matrixWorldAutoUpdate===!0&&h.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=t===void 0||typeof t=="string",r={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON()));function o(h,d){return h[d.uuid]===void 0&&(h[d.uuid]=d.toJSON(t)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const h=this.geometry.parameters;if(h!==void 0&&h.shapes!==void 0){const d=h.shapes;if(Array.isArray(d))for(let p=0,f=d.length;p<f;p++){const A=d[p];o(t.shapes,A)}else o(t.shapes,d)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const h=[];for(let d=0,p=this.material.length;d<p;d++)h.push(o(t.materials,this.material[d]));s.material=h}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let h=0;h<this.children.length;h++)s.children.push(this.children[h].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let h=0;h<this.animations.length;h++){const d=this.animations[h];s.animations.push(o(t.animations,d))}}if(e){const h=l(t.geometries),d=l(t.materials),p=l(t.textures),f=l(t.images),A=l(t.shapes),g=l(t.skeletons),x=l(t.animations),B=l(t.nodes);h.length>0&&(r.geometries=h),d.length>0&&(r.materials=d),p.length>0&&(r.textures=p),f.length>0&&(r.images=f),A.length>0&&(r.shapes=A),g.length>0&&(r.skeletons=g),x.length>0&&(r.animations=x),B.length>0&&(r.nodes=B)}return r.object=s,r;function l(h){const d=[];for(const p in h){const f=h[p];delete f.metadata,d.push(f)}return d}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let r=0;r<t.children.length;r++){const s=t.children[r];this.add(s.clone())}return this}}kt.DEFAULT_UP=new I(0,1,0);kt.DEFAULT_MATRIX_AUTO_UPDATE=!0;kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const We=new I,xn=new I,vl=new I,Bn=new I,Ui=new I,Ji=new I,Jh=new I,wl=new I,Sl=new I,El=new I;let Ao=!1;class Xe{constructor(t=new I,e=new I,r=new I){this.a=t,this.b=e,this.c=r}static getNormal(t,e,r,s){s.subVectors(r,e),We.subVectors(t,e),s.cross(We);const o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}static getBarycoord(t,e,r,s,o){We.subVectors(s,e),xn.subVectors(r,e),vl.subVectors(t,e);const l=We.dot(We),h=We.dot(xn),d=We.dot(vl),p=xn.dot(xn),f=xn.dot(vl),A=l*p-h*h;if(A===0)return o.set(-2,-1,-1);const g=1/A,x=(p*d-h*f)*g,B=(l*f-h*d)*g;return o.set(1-x-B,B,x)}static containsPoint(t,e,r,s){return this.getBarycoord(t,e,r,s,Bn),Bn.x>=0&&Bn.y>=0&&Bn.x+Bn.y<=1}static getUV(t,e,r,s,o,l,h,d){return Ao===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ao=!0),this.getInterpolation(t,e,r,s,o,l,h,d)}static getInterpolation(t,e,r,s,o,l,h,d){return this.getBarycoord(t,e,r,s,Bn),d.setScalar(0),d.addScaledVector(o,Bn.x),d.addScaledVector(l,Bn.y),d.addScaledVector(h,Bn.z),d}static isFrontFacing(t,e,r,s){return We.subVectors(r,e),xn.subVectors(t,e),We.cross(xn).dot(s)<0}set(t,e,r){return this.a.copy(t),this.b.copy(e),this.c.copy(r),this}setFromPointsAndIndices(t,e,r,s){return this.a.copy(t[e]),this.b.copy(t[r]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,r,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,r),this.c.fromBufferAttribute(t,s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return We.subVectors(this.c,this.b),xn.subVectors(this.a,this.b),We.cross(xn).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Xe.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Xe.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,r,s,o){return Ao===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ao=!0),Xe.getInterpolation(t,this.a,this.b,this.c,e,r,s,o)}getInterpolation(t,e,r,s,o){return Xe.getInterpolation(t,this.a,this.b,this.c,e,r,s,o)}containsPoint(t){return Xe.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Xe.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const r=this.a,s=this.b,o=this.c;let l,h;Ui.subVectors(s,r),Ji.subVectors(o,r),wl.subVectors(t,r);const d=Ui.dot(wl),p=Ji.dot(wl);if(d<=0&&p<=0)return e.copy(r);Sl.subVectors(t,s);const f=Ui.dot(Sl),A=Ji.dot(Sl);if(f>=0&&A<=f)return e.copy(s);const g=d*A-f*p;if(g<=0&&d>=0&&f<=0)return l=d/(d-f),e.copy(r).addScaledVector(Ui,l);El.subVectors(t,o);const x=Ui.dot(El),B=Ji.dot(El);if(B>=0&&x<=B)return e.copy(o);const C=x*p-d*B;if(C<=0&&p>=0&&B<=0)return h=p/(p-B),e.copy(r).addScaledVector(Ji,h);const v=f*B-x*A;if(v<=0&&A-f>=0&&x-B>=0)return Jh.subVectors(o,s),h=(A-f)/(A-f+(x-B)),e.copy(s).addScaledVector(Jh,h);const w=1/(v+C+g);return l=C*w,h=g*w,e.copy(r).addScaledVector(Ui,l).addScaledVector(Ji,h)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const jd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ln={h:0,s:0,l:0},go={h:0,s:0,l:0};function bl(u,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?u+(t-u)*6*e:e<1/2?t:e<2/3?u+(t-u)*6*(2/3-e):u}class Ht{constructor(t,e,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,r)}set(t,e,r){if(e===void 0&&r===void 0){const s=t;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(t,e,r);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Qe){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Je.toWorkingColorSpace(this,e),this}setRGB(t,e,r,s=Je.workingColorSpace){return this.r=t,this.g=e,this.b=r,Je.toWorkingColorSpace(this,s),this}setHSL(t,e,r,s=Je.workingColorSpace){if(t=mu(t,1),e=ne(e,0,1),r=ne(r,0,1),e===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+e):r+e-r*e,l=2*r-o;this.r=bl(l,o,t+1/3),this.g=bl(l,o,t),this.b=bl(l,o,t-1/3)}return Je.toWorkingColorSpace(this,s),this}setStyle(t,e=Qe){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let o;const l=s[1],h=s[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,e);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,e);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=s[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,e);if(l===6)return this.setHex(parseInt(o,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Qe){const r=jd[t.toLowerCase()];return r!==void 0?this.setHex(r,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=$i(t.r),this.g=$i(t.g),this.b=$i(t.b),this}copyLinearToSRGB(t){return this.r=ml(t.r),this.g=ml(t.g),this.b=ml(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Qe){return Je.fromWorkingColorSpace(ee.copy(this),t),Math.round(ne(ee.r*255,0,255))*65536+Math.round(ne(ee.g*255,0,255))*256+Math.round(ne(ee.b*255,0,255))}getHexString(t=Qe){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Je.workingColorSpace){Je.fromWorkingColorSpace(ee.copy(this),e);const r=ee.r,s=ee.g,o=ee.b,l=Math.max(r,s,o),h=Math.min(r,s,o);let d,p;const f=(h+l)/2;if(h===l)d=0,p=0;else{const A=l-h;switch(p=f<=.5?A/(l+h):A/(2-l-h),l){case r:d=(s-o)/A+(s<o?6:0);break;case s:d=(o-r)/A+2;break;case o:d=(r-s)/A+4;break}d/=6}return t.h=d,t.s=p,t.l=f,t}getRGB(t,e=Je.workingColorSpace){return Je.fromWorkingColorSpace(ee.copy(this),e),t.r=ee.r,t.g=ee.g,t.b=ee.b,t}getStyle(t=Qe){Je.fromWorkingColorSpace(ee.copy(this),t);const e=ee.r,r=ee.g,s=ee.b;return t!==Qe?`color(${t} ${e.toFixed(3)} ${r.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(r*255)},${Math.round(s*255)})`}offsetHSL(t,e,r){return this.getHSL(Ln),this.setHSL(Ln.h+t,Ln.s+e,Ln.l+r)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,r){return this.r=t.r+(e.r-t.r)*r,this.g=t.g+(e.g-t.g)*r,this.b=t.b+(e.b-t.b)*r,this}lerpHSL(t,e){this.getHSL(Ln),t.getHSL(go);const r=Kr(Ln.h,go.h,e),s=Kr(Ln.s,go.s,e),o=Kr(Ln.l,go.l,e);return this.setHSL(r,s,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,r=this.g,s=this.b,o=t.elements;return this.r=o[0]*e+o[3]*r+o[6]*s,this.g=o[1]*e+o[4]*r+o[7]*s,this.b=o[2]*e+o[5]*r+o[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ee=new Ht;Ht.NAMES=jd;let jA=0;class On extends Oo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:jA++}),this.uuid=Ye(),this.name="",this.type="Material",this.blending=xh,this.side=Ho,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ch,this.blendDst=Mh,this.blendEquation=Bh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ht(0,0,0),this.blendAlpha=0,this.depthFunc=vh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_h,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ki,this.stencilZFail=ki,this.stencilZPass=ki,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const r=t[e];if(r===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];if(s===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(r):s&&s.isVector3&&r&&r.isVector3?s.copy(r):this[e]=r}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==xh&&(r.blending=this.blending),this.side!==Ho&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Ch&&(r.blendSrc=this.blendSrc),this.blendDst!==Mh&&(r.blendDst=this.blendDst),this.blendEquation!==Bh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==vh&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==_h&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ki&&(r.stencilFail=this.stencilFail),this.stencilZFail!==ki&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==ki&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function s(o){const l=[];for(const h in o){const d=o[h];delete d.metadata,l.push(d)}return l}if(e){const o=s(t.textures),l=s(t.images);o.length>0&&(r.textures=o),l.length>0&&(r.images=l)}return r}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let r=null;if(e!==null){const s=e.length;r=new Array(s);for(let o=0;o!==s;++o)r[o]=e[o].clone()}return this.clippingPlanes=r,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class qi extends On{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Lt=new I,yo=new Pt;class we{constructor(t,e,r=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=r,this.usage=$l,this.updateRange={offset:0,count:-1},this.gpuType=Nd,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,r){t*=this.itemSize,r*=e.itemSize;for(let s=0,o=this.itemSize;s<o;s++)this.array[t+s]=e.array[r+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,r=this.count;e<r;e++)yo.fromBufferAttribute(this,e),yo.applyMatrix3(t),this.setXY(e,yo.x,yo.y);else if(this.itemSize===3)for(let e=0,r=this.count;e<r;e++)Lt.fromBufferAttribute(this,e),Lt.applyMatrix3(t),this.setXYZ(e,Lt.x,Lt.y,Lt.z);return this}applyMatrix4(t){for(let e=0,r=this.count;e<r;e++)Lt.fromBufferAttribute(this,e),Lt.applyMatrix4(t),this.setXYZ(e,Lt.x,Lt.y,Lt.z);return this}applyNormalMatrix(t){for(let e=0,r=this.count;e<r;e++)Lt.fromBufferAttribute(this,e),Lt.applyNormalMatrix(t),this.setXYZ(e,Lt.x,Lt.y,Lt.z);return this}transformDirection(t){for(let e=0,r=this.count;e<r;e++)Lt.fromBufferAttribute(this,e),Lt.transformDirection(t),this.setXYZ(e,Lt.x,Lt.y,Lt.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let r=this.array[t*this.itemSize+e];return this.normalized&&(r=on(r,this.array)),r}setComponent(t,e,r){return this.normalized&&(r=Mt(r,this.array)),this.array[t*this.itemSize+e]=r,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=on(e,this.array)),e}setX(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=on(e,this.array)),e}setY(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=on(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=on(e,this.array)),e}setW(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,r){return t*=this.itemSize,this.normalized&&(e=Mt(e,this.array),r=Mt(r,this.array)),this.array[t+0]=e,this.array[t+1]=r,this}setXYZ(t,e,r,s){return t*=this.itemSize,this.normalized&&(e=Mt(e,this.array),r=Mt(r,this.array),s=Mt(s,this.array)),this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=s,this}setXYZW(t,e,r,s,o){return t*=this.itemSize,this.normalized&&(e=Mt(e,this.array),r=Mt(r,this.array),s=Mt(s,this.array),o=Mt(o,this.array)),this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=s,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==$l&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}}class KA extends we{constructor(t,e,r){super(new Uint16Array(t),e,r)}}class WA extends we{constructor(t,e,r){super(new Uint32Array(t),e,r)}}class Au extends we{constructor(t,e,r){super(new Float32Array(t),e,r)}}let QA=0;const Pe=new dt,Tl=new kt,ji=new I,ve=new vn,zr=new vn,jt=new I;class Jn extends Oo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:QA++}),this.uuid=Ye(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(IA(t)?WA:KA)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,r=0){this.groups.push({start:t,count:e,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Mn().getNormalMatrix(t);r.applyNormalMatrix(o),r.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Pe.makeRotationFromQuaternion(t),this.applyMatrix4(Pe),this}rotateX(t){return Pe.makeRotationX(t),this.applyMatrix4(Pe),this}rotateY(t){return Pe.makeRotationY(t),this.applyMatrix4(Pe),this}rotateZ(t){return Pe.makeRotationZ(t),this.applyMatrix4(Pe),this}translate(t,e,r){return Pe.makeTranslation(t,e,r),this.applyMatrix4(Pe),this}scale(t,e,r){return Pe.makeScale(t,e,r),this.applyMatrix4(Pe),this}lookAt(t){return Tl.lookAt(t),Tl.updateMatrix(),this.applyMatrix4(Tl.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ji).negate(),this.translate(ji.x,ji.y,ji.z),this}setFromPoints(t){const e=[];for(let r=0,s=t.length;r<s;r++){const o=t[r];e.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Au(e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vn);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new I(-1/0,-1/0,-1/0),new I(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let r=0,s=e.length;r<s;r++){const o=e[r];ve.setFromBufferAttribute(o),this.morphTargetsRelative?(jt.addVectors(this.boundingBox.min,ve.min),this.boundingBox.expandByPoint(jt),jt.addVectors(this.boundingBox.max,ve.max),this.boundingBox.expandByPoint(jt)):(this.boundingBox.expandByPoint(ve.min),this.boundingBox.expandByPoint(ve.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new an);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new I,1/0);return}if(t){const r=this.boundingSphere.center;if(ve.setFromBufferAttribute(t),e)for(let o=0,l=e.length;o<l;o++){const h=e[o];zr.setFromBufferAttribute(h),this.morphTargetsRelative?(jt.addVectors(ve.min,zr.min),ve.expandByPoint(jt),jt.addVectors(ve.max,zr.max),ve.expandByPoint(jt)):(ve.expandByPoint(zr.min),ve.expandByPoint(zr.max))}ve.getCenter(r);let s=0;for(let o=0,l=t.count;o<l;o++)jt.fromBufferAttribute(t,o),s=Math.max(s,r.distanceToSquared(jt));if(e)for(let o=0,l=e.length;o<l;o++){const h=e[o],d=this.morphTargetsRelative;for(let p=0,f=h.count;p<f;p++)jt.fromBufferAttribute(h,p),d&&(ji.fromBufferAttribute(t,p),jt.add(ji)),s=Math.max(s,r.distanceToSquared(jt))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.array,s=e.position.array,o=e.normal.array,l=e.uv.array,h=s.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new we(new Float32Array(4*h),4));const d=this.getAttribute("tangent").array,p=[],f=[];for(let $=0;$<h;$++)p[$]=new I,f[$]=new I;const A=new I,g=new I,x=new I,B=new Pt,C=new Pt,v=new Pt,w=new I,_=new I;function F($,ct,ut){A.fromArray(s,$*3),g.fromArray(s,ct*3),x.fromArray(s,ut*3),B.fromArray(l,$*2),C.fromArray(l,ct*2),v.fromArray(l,ut*2),g.sub(A),x.sub(A),C.sub(B),v.sub(B);const Z=1/(C.x*v.y-v.x*C.y);isFinite(Z)&&(w.copy(g).multiplyScalar(v.y).addScaledVector(x,-C.y).multiplyScalar(Z),_.copy(x).multiplyScalar(C.x).addScaledVector(g,-v.x).multiplyScalar(Z),p[$].add(w),p[ct].add(w),p[ut].add(w),f[$].add(_),f[ct].add(_),f[ut].add(_))}let D=this.groups;D.length===0&&(D=[{start:0,count:r.length}]);for(let $=0,ct=D.length;$<ct;++$){const ut=D[$],Z=ut.start,ft=ut.count;for(let st=Z,Ct=Z+ft;st<Ct;st+=3)F(r[st+0],r[st+1],r[st+2])}const z=new I,O=new I,H=new I,V=new I;function lt($){H.fromArray(o,$*3),V.copy(H);const ct=p[$];z.copy(ct),z.sub(H.multiplyScalar(H.dot(ct))).normalize(),O.crossVectors(V,ct);const Z=O.dot(f[$])<0?-1:1;d[$*4]=z.x,d[$*4+1]=z.y,d[$*4+2]=z.z,d[$*4+3]=Z}for(let $=0,ct=D.length;$<ct;++$){const ut=D[$],Z=ut.start,ft=ut.count;for(let st=Z,Ct=Z+ft;st<Ct;st+=3)lt(r[st+0]),lt(r[st+1]),lt(r[st+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new we(new Float32Array(e.count*3),3),this.setAttribute("normal",r);else for(let g=0,x=r.count;g<x;g++)r.setXYZ(g,0,0,0);const s=new I,o=new I,l=new I,h=new I,d=new I,p=new I,f=new I,A=new I;if(t)for(let g=0,x=t.count;g<x;g+=3){const B=t.getX(g+0),C=t.getX(g+1),v=t.getX(g+2);s.fromBufferAttribute(e,B),o.fromBufferAttribute(e,C),l.fromBufferAttribute(e,v),f.subVectors(l,o),A.subVectors(s,o),f.cross(A),h.fromBufferAttribute(r,B),d.fromBufferAttribute(r,C),p.fromBufferAttribute(r,v),h.add(f),d.add(f),p.add(f),r.setXYZ(B,h.x,h.y,h.z),r.setXYZ(C,d.x,d.y,d.z),r.setXYZ(v,p.x,p.y,p.z)}else for(let g=0,x=e.count;g<x;g+=3)s.fromBufferAttribute(e,g+0),o.fromBufferAttribute(e,g+1),l.fromBufferAttribute(e,g+2),f.subVectors(l,o),A.subVectors(s,o),f.cross(A),r.setXYZ(g+0,f.x,f.y,f.z),r.setXYZ(g+1,f.x,f.y,f.z),r.setXYZ(g+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,r=t.count;e<r;e++)jt.fromBufferAttribute(t,e),jt.normalize(),t.setXYZ(e,jt.x,jt.y,jt.z)}toNonIndexed(){function t(h,d){const p=h.array,f=h.itemSize,A=h.normalized,g=new p.constructor(d.length*f);let x=0,B=0;for(let C=0,v=d.length;C<v;C++){h.isInterleavedBufferAttribute?x=d[C]*h.data.stride+h.offset:x=d[C]*f;for(let w=0;w<f;w++)g[B++]=p[x++]}return new we(g,f,A)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Jn,r=this.index.array,s=this.attributes;for(const h in s){const d=s[h],p=t(d,r);e.setAttribute(h,p)}const o=this.morphAttributes;for(const h in o){const d=[],p=o[h];for(let f=0,A=p.length;f<A;f++){const g=p[f],x=t(g,r);d.push(x)}e.morphAttributes[h]=d}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let h=0,d=l.length;h<d;h++){const p=l[h];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(t[p]=d[p]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const r=this.attributes;for(const d in r){const p=r[d];t.data.attributes[d]=p.toJSON(t.data)}const s={};let o=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],f=[];for(let A=0,g=p.length;A<g;A++){const x=p[A];f.push(x.toJSON(t.data))}f.length>0&&(s[d]=f,o=!0)}o&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const h=this.boundingSphere;return h!==null&&(t.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const r=t.index;r!==null&&this.setIndex(r.clone(e));const s=t.attributes;for(const p in s){const f=s[p];this.setAttribute(p,f.clone(e))}const o=t.morphAttributes;for(const p in o){const f=[],A=o[p];for(let g=0,x=A.length;g<x;g++)f.push(A[g].clone(e));this.morphAttributes[p]=f}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,f=l.length;p<f;p++){const A=l[p];this.addGroup(A.start,A.count,A.materialIndex)}const h=t.boundingBox;h!==null&&(this.boundingBox=h.clone());const d=t.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const jh=new dt,li=new Uo,xo=new an,Kh=new I,Ki=new I,Wi=new I,Qi=new I,Fl=new I,Bo=new I,Co=new Pt,Mo=new Pt,vo=new Pt,Wh=new I,Qh=new I,Xh=new I,wo=new I,So=new I;class jo extends kt{constructor(t=new Jn,e=new qi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,r=Object.keys(e);if(r.length>0){const s=e[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=s.length;o<l;o++){const h=s[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}getVertexPosition(t,e){const r=this.geometry,s=r.attributes.position,o=r.morphAttributes.position,l=r.morphTargetsRelative;e.fromBufferAttribute(s,t);const h=this.morphTargetInfluences;if(o&&h){Bo.set(0,0,0);for(let d=0,p=o.length;d<p;d++){const f=h[d],A=o[d];f!==0&&(Fl.fromBufferAttribute(A,t),l?Bo.addScaledVector(Fl,f):Bo.addScaledVector(Fl.sub(e),f))}e.add(Bo)}return e}raycast(t,e){const r=this.geometry,s=this.material,o=this.matrixWorld;s!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),xo.copy(r.boundingSphere),xo.applyMatrix4(o),li.copy(t.ray).recast(t.near),!(xo.containsPoint(li.origin)===!1&&(li.intersectSphere(xo,Kh)===null||li.origin.distanceToSquared(Kh)>(t.far-t.near)**2))&&(jh.copy(o).invert(),li.copy(t.ray).applyMatrix4(jh),!(r.boundingBox!==null&&li.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(t,e,li)))}_computeIntersections(t,e,r){let s;const o=this.geometry,l=this.material,h=o.index,d=o.attributes.position,p=o.attributes.uv,f=o.attributes.uv1,A=o.attributes.normal,g=o.groups,x=o.drawRange;if(h!==null)if(Array.isArray(l))for(let B=0,C=g.length;B<C;B++){const v=g[B],w=l[v.materialIndex],_=Math.max(v.start,x.start),F=Math.min(h.count,Math.min(v.start+v.count,x.start+x.count));for(let D=_,z=F;D<z;D+=3){const O=h.getX(D),H=h.getX(D+1),V=h.getX(D+2);s=Eo(this,w,t,r,p,f,A,O,H,V),s&&(s.faceIndex=Math.floor(D/3),s.face.materialIndex=v.materialIndex,e.push(s))}}else{const B=Math.max(0,x.start),C=Math.min(h.count,x.start+x.count);for(let v=B,w=C;v<w;v+=3){const _=h.getX(v),F=h.getX(v+1),D=h.getX(v+2);s=Eo(this,l,t,r,p,f,A,_,F,D),s&&(s.faceIndex=Math.floor(v/3),e.push(s))}}else if(d!==void 0)if(Array.isArray(l))for(let B=0,C=g.length;B<C;B++){const v=g[B],w=l[v.materialIndex],_=Math.max(v.start,x.start),F=Math.min(d.count,Math.min(v.start+v.count,x.start+x.count));for(let D=_,z=F;D<z;D+=3){const O=D,H=D+1,V=D+2;s=Eo(this,w,t,r,p,f,A,O,H,V),s&&(s.faceIndex=Math.floor(D/3),s.face.materialIndex=v.materialIndex,e.push(s))}}else{const B=Math.max(0,x.start),C=Math.min(d.count,x.start+x.count);for(let v=B,w=C;v<w;v+=3){const _=v,F=v+1,D=v+2;s=Eo(this,l,t,r,p,f,A,_,F,D),s&&(s.faceIndex=Math.floor(v/3),e.push(s))}}}}function XA(u,t,e,r,s,o,l,h){let d;if(t.side===nA?d=r.intersectTriangle(l,o,s,!0,h):d=r.intersectTriangle(s,o,l,t.side===Ho,h),d===null)return null;So.copy(h),So.applyMatrix4(u.matrixWorld);const p=e.ray.origin.distanceTo(So);return p<e.near||p>e.far?null:{distance:p,point:So.clone(),object:u}}function Eo(u,t,e,r,s,o,l,h,d,p){u.getVertexPosition(h,Ki),u.getVertexPosition(d,Wi),u.getVertexPosition(p,Qi);const f=XA(u,t,e,r,Ki,Wi,Qi,wo);if(f){s&&(Co.fromBufferAttribute(s,h),Mo.fromBufferAttribute(s,d),vo.fromBufferAttribute(s,p),f.uv=Xe.getInterpolation(wo,Ki,Wi,Qi,Co,Mo,vo,new Pt)),o&&(Co.fromBufferAttribute(o,h),Mo.fromBufferAttribute(o,d),vo.fromBufferAttribute(o,p),f.uv1=Xe.getInterpolation(wo,Ki,Wi,Qi,Co,Mo,vo,new Pt),f.uv2=f.uv1),l&&(Wh.fromBufferAttribute(l,h),Qh.fromBufferAttribute(l,d),Xh.fromBufferAttribute(l,p),f.normal=Xe.getInterpolation(wo,Ki,Wi,Qi,Wh,Qh,Xh,new I),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const A={a:h,b:d,c:p,normal:new I,materialIndex:0};Xe.getNormal(Ki,Wi,Qi,A.normal),f.face=A}return f}class Kd extends kt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dt,this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt,this.coordinateSystem=hi}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class gu extends Kd{constructor(t=50,e=1,r=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=r,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Vr*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(jr*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Vr*2*Math.atan(Math.tan(jr*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,r,s,o,l){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=s,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(jr*.5*this.fov)/this.zoom,r=2*e,s=this.aspect*r,o=-.5*s;const l=this.view;if(this.view!==null&&this.view.enabled){const d=l.fullWidth,p=l.fullHeight;o+=l.offsetX*s/d,e-=l.offsetY*r/p,s*=l.width/d,r*=l.height/p}const h=this.filmOffset;h!==0&&(o+=t*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+s,e,e-r,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Il=new I,VA=new I,YA=new Mn;class Xi{constructor(t=new I(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,r,s){return this.normal.set(t,e,r),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,r){const s=Il.subVectors(r,e).cross(VA.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const r=t.delta(Il),s=this.normal.dot(r);if(s===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/s;return o<0||o>1?null:e.copy(t.start).addScaledVector(r,o)}intersectsLine(t){const e=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return e<0&&r>0||r<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const r=e||YA.getNormalMatrix(t),s=this.coplanarPoint(Il).applyMatrix4(t),o=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ui=new an,bo=new I;class ZA{constructor(t=new Xi,e=new Xi,r=new Xi,s=new Xi,o=new Xi,l=new Xi){this.planes=[t,e,r,s,o,l]}set(t,e,r,s,o,l){const h=this.planes;return h[0].copy(t),h[1].copy(e),h[2].copy(r),h[3].copy(s),h[4].copy(o),h[5].copy(l),this}copy(t){const e=this.planes;for(let r=0;r<6;r++)e[r].copy(t.planes[r]);return this}setFromProjectionMatrix(t,e=hi){const r=this.planes,s=t.elements,o=s[0],l=s[1],h=s[2],d=s[3],p=s[4],f=s[5],A=s[6],g=s[7],x=s[8],B=s[9],C=s[10],v=s[11],w=s[12],_=s[13],F=s[14],D=s[15];if(r[0].setComponents(d-o,g-p,v-x,D-w).normalize(),r[1].setComponents(d+o,g+p,v+x,D+w).normalize(),r[2].setComponents(d+l,g+f,v+B,D+_).normalize(),r[3].setComponents(d-l,g-f,v-B,D-_).normalize(),r[4].setComponents(d-h,g-A,v-C,D-F).normalize(),e===hi)r[5].setComponents(d+h,g+A,v+C,D+F).normalize();else if(e===tu)r[5].setComponents(h,A,C,F).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),ui.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),ui.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(ui)}intersectsSprite(t){return ui.center.set(0,0,0),ui.radius=.7071067811865476,ui.applyMatrix4(t.matrixWorld),this.intersectsSphere(ui)}intersectsSphere(t){const e=this.planes,r=t.center,s=-t.radius;for(let o=0;o<6;o++)if(e[o].distanceToPoint(r)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let r=0;r<6;r++){const s=e[r];if(bo.x=s.normal.x>0?t.max.x:t.min.x,bo.y=s.normal.y>0?t.max.y:t.min.y,bo.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(bo)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let r=0;r<6;r++)if(e[r].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class Wd extends Kd{constructor(t=-1,e=1,r=1,s=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=r,this.bottom=s,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,r,s,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=s,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let o=r-t,l=r+t,h=s+e,d=s-e;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,l=o+p*this.view.width,h-=f*this.view.offsetY,d=h-f*this.view.height}this.projectionMatrix.makeOrthographic(o,l,h,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class _l extends kt{constructor(){super(),this.isGroup=!0,this.type="Group"}}class qA{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=$l,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ye()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,r){t*=this.stride,r*=e.stride;for(let s=0,o=this.stride;s<o;s++)this.array[t+s]=e.array[r+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ye()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(e,this.stride);return r.setUsage(this.usage),r}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ye()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ae=new I;class yu{constructor(t,e,r,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=r,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,r=this.data.count;e<r;e++)ae.fromBufferAttribute(this,e),ae.applyMatrix4(t),this.setXYZ(e,ae.x,ae.y,ae.z);return this}applyNormalMatrix(t){for(let e=0,r=this.count;e<r;e++)ae.fromBufferAttribute(this,e),ae.applyNormalMatrix(t),this.setXYZ(e,ae.x,ae.y,ae.z);return this}transformDirection(t){for(let e=0,r=this.count;e<r;e++)ae.fromBufferAttribute(this,e),ae.transformDirection(t),this.setXYZ(e,ae.x,ae.y,ae.z);return this}setX(t,e){return this.normalized&&(e=Mt(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=Mt(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=Mt(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=Mt(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=on(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=on(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=on(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=on(e,this.array)),e}setXY(t,e,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Mt(e,this.array),r=Mt(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=r,this}setXYZ(t,e,r,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=Mt(e,this.array),r=Mt(r,this.array),s=Mt(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=s,this}setXYZW(t,e,r,s,o){return t=t*this.data.stride+this.offset,this.normalized&&(e=Mt(e,this.array),r=Mt(r,this.array),s=Mt(s,this.array),o=Mt(o,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=s,this.data.array[t+3]=o,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[s+o])}return new we(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new yu(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[s+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Vh=new I,Yh=new ze,Zh=new ze,$A=new I,qh=new dt,To=new I,Rl=new an,$h=new dt,Dl=new Uo;class tg extends jo{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=wh,this.bindMatrix=new dt,this.bindMatrixInverse=new dt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new vn),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let r=0;r<e.count;r++)this.getVertexPosition(r,To),this.boundingBox.expandByPoint(To)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new an),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let r=0;r<e.count;r++)this.getVertexPosition(r,To),this.boundingSphere.expandByPoint(To)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const r=this.material,s=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Rl.copy(this.boundingSphere),Rl.applyMatrix4(s),t.ray.intersectsSphere(Rl)!==!1&&($h.copy(s).invert(),Dl.copy(t.ray).applyMatrix4($h),!(this.boundingBox!==null&&Dl.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,Dl)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new ze,e=this.geometry.attributes.skinWeight;for(let r=0,s=e.count;r<s;r++){t.fromBufferAttribute(e,r);const o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),e.setXYZW(r,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===wh?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===sA?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const r=this.skeleton,s=this.geometry;Yh.fromBufferAttribute(s.attributes.skinIndex,t),Zh.fromBufferAttribute(s.attributes.skinWeight,t),Vh.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let o=0;o<4;o++){const l=Zh.getComponent(o);if(l!==0){const h=Yh.getComponent(o);qh.multiplyMatrices(r.bones[h].matrixWorld,r.boneInverses[h]),e.addScaledVector($A.copy(Vh).applyMatrix4(qh),l)}}return e.applyMatrix4(this.bindMatrixInverse)}boneTransform(t,e){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(t,e)}}class Qd extends kt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class eg extends Ge{constructor(t=null,e=1,r=1,s,o,l,h,d,p=Yl,f=Yl,A,g){super(null,l,h,d,p,f,s,o,A,g),this.isDataTexture=!0,this.image={data:t,width:e,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const td=new dt,ng=new dt;class xu{constructor(t=[],e=[]){this.uuid=Ye(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,s=this.bones.length;r<s;r++)this.boneInverses.push(new dt)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const r=new dt;this.bones[t]&&r.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const r=this.bones[t];r&&r.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const r=this.bones[t];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const t=this.bones,e=this.boneInverses,r=this.boneMatrices,s=this.boneTexture;for(let o=0,l=t.length;o<l;o++){const h=t[o]?t[o].matrixWorld:ng;td.multiplyMatrices(h,e[o]),td.toArray(r,o*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new xu(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Jd(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const r=new eg(e,t,t,fu,Nd);return r.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=r,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,r=this.bones.length;e<r;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let r=0,s=t.bones.length;r<s;r++){const o=t.bones[r];let l=e[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new Qd),this.bones.push(l),this.boneInverses.push(new dt().fromArray(t.boneInverses[r]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,r=this.boneInverses;for(let s=0,o=e.length;s<o;s++){const l=e[s];t.bones.push(l.uuid);const h=r[s];t.boneInverses.push(h.toArray())}return t}}class ed extends we{constructor(t,e,r,s=1){super(t,e,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Vi=new dt,nd=new dt,Fo=[],id=new vn,ig=new dt,Gr=new jo,Lr=new an;class rg extends jo{constructor(t,e,r){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new ed(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<r;s++)this.setMatrixAt(s,ig)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new vn),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<e;r++)this.getMatrixAt(r,Vi),id.copy(t.boundingBox).applyMatrix4(Vi),this.boundingBox.union(id)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new an),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<e;r++)this.getMatrixAt(r,Vi),Lr.copy(t.boundingSphere).applyMatrix4(Vi),this.boundingSphere.union(Lr)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}raycast(t,e){const r=this.matrixWorld,s=this.count;if(Gr.geometry=this.geometry,Gr.material=this.material,Gr.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Lr.copy(this.boundingSphere),Lr.applyMatrix4(r),t.ray.intersectsSphere(Lr)!==!1))for(let o=0;o<s;o++){this.getMatrixAt(o,Vi),nd.multiplyMatrices(r,Vi),Gr.matrixWorld=nd,Gr.raycast(t,Fo);for(let l=0,h=Fo.length;l<h;l++){const d=Fo[l];d.instanceId=o,d.object=this,e.push(d)}Fo.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new ed(new Float32Array(this.instanceMatrix.count*3),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Xd extends On{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ht(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const rd=new I,sd=new I,od=new dt,Pl=new Uo,Io=new an;class Bu extends kt{constructor(t=new Jn,e=new Xd){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,r=[0];for(let s=1,o=e.count;s<o;s++)rd.fromBufferAttribute(e,s-1),sd.fromBufferAttribute(e,s),r[s]=r[s-1],r[s]+=rd.distanceTo(sd);t.setAttribute("lineDistance",new Au(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const r=this.geometry,s=this.matrixWorld,o=t.params.Line.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Io.copy(r.boundingSphere),Io.applyMatrix4(s),Io.radius+=o,t.ray.intersectsSphere(Io)===!1)return;od.copy(s).invert(),Pl.copy(t.ray).applyMatrix4(od);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=new I,f=new I,A=new I,g=new I,x=this.isLineSegments?2:1,B=r.index,v=r.attributes.position;if(B!==null){const w=Math.max(0,l.start),_=Math.min(B.count,l.start+l.count);for(let F=w,D=_-1;F<D;F+=x){const z=B.getX(F),O=B.getX(F+1);if(p.fromBufferAttribute(v,z),f.fromBufferAttribute(v,O),Pl.distanceSqToSegment(p,f,g,A)>d)continue;g.applyMatrix4(this.matrixWorld);const V=t.ray.origin.distanceTo(g);V<t.near||V>t.far||e.push({distance:V,point:A.clone().applyMatrix4(this.matrixWorld),index:F,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,l.start),_=Math.min(v.count,l.start+l.count);for(let F=w,D=_-1;F<D;F+=x){if(p.fromBufferAttribute(v,F),f.fromBufferAttribute(v,F+1),Pl.distanceSqToSegment(p,f,g,A)>d)continue;g.applyMatrix4(this.matrixWorld);const O=t.ray.origin.distanceTo(g);O<t.near||O>t.far||e.push({distance:O,point:A.clone().applyMatrix4(this.matrixWorld),index:F,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,r=Object.keys(e);if(r.length>0){const s=e[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=s.length;o<l;o++){const h=s[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}}const ad=new I,ld=new I;class sg extends Bu{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,r=[];for(let s=0,o=e.count;s<o;s+=2)ad.fromBufferAttribute(e,s),ld.fromBufferAttribute(e,s+1),r[s]=s===0?0:r[s-1],r[s+1]=r[s]+ad.distanceTo(ld);t.setAttribute("lineDistance",new Au(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class og extends Bu{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class Vd extends On{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const ud=new dt,nu=new Uo,_o=new an,Ro=new I;class ag extends kt{constructor(t=new Jn,e=new Vd){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const r=this.geometry,s=this.matrixWorld,o=t.params.Points.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_o.copy(r.boundingSphere),_o.applyMatrix4(s),_o.radius+=o,t.ray.intersectsSphere(_o)===!1)return;ud.copy(s).invert(),nu.copy(t.ray).applyMatrix4(ud);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=r.index,A=r.attributes.position;if(p!==null){const g=Math.max(0,l.start),x=Math.min(p.count,l.start+l.count);for(let B=g,C=x;B<C;B++){const v=p.getX(B);Ro.fromBufferAttribute(A,v),cd(Ro,v,d,s,t,e,this)}}else{const g=Math.max(0,l.start),x=Math.min(A.count,l.start+l.count);for(let B=g,C=x;B<C;B++)Ro.fromBufferAttribute(A,B),cd(Ro,B,d,s,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,r=Object.keys(e);if(r.length>0){const s=e[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=s.length;o<l;o++){const h=s[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}}function cd(u,t,e,r,s,o,l){const h=nu.distanceSqToPoint(u);if(h<e){const d=new I;nu.closestPointToPoint(u,d),d.applyMatrix4(r);const p=s.ray.origin.distanceTo(d);if(p<s.near||p>s.far)return;o.push({distance:p,distanceToRay:Math.sqrt(h),point:d,index:t,face:null,object:l})}}class Cu extends On{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dA,this.normalScale=new Pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class jn extends Cu{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Pt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ne(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ht(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ht(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ht(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}function Do(u,t,e){return!u||!e&&u.constructor===t?u:typeof t.BYTES_PER_ELEMENT=="number"?new t(u):Array.prototype.slice.call(u)}function lg(u){return ArrayBuffer.isView(u)&&!(u instanceof DataView)}function ug(u){function t(s,o){return u[s]-u[o]}const e=u.length,r=new Array(e);for(let s=0;s!==e;++s)r[s]=s;return r.sort(t),r}function hd(u,t,e){const r=u.length,s=new u.constructor(r);for(let o=0,l=0;l!==r;++o){const h=e[o]*t;for(let d=0;d!==t;++d)s[l++]=u[h+d]}return s}function Yd(u,t,e,r){let s=1,o=u[0];for(;o!==void 0&&o[r]===void 0;)o=u[s++];if(o===void 0)return;let l=o[r];if(l!==void 0)if(Array.isArray(l))do l=o[r],l!==void 0&&(t.push(o.time),e.push.apply(e,l)),o=u[s++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[r],l!==void 0&&(t.push(o.time),l.toArray(e,e.length)),o=u[s++];while(o!==void 0);else do l=o[r],l!==void 0&&(t.push(o.time),e.push(l)),o=u[s++];while(o!==void 0)}class ns{constructor(t,e,r,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new e.constructor(r),this.sampleValues=e,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let r=this._cachedIndex,s=e[r],o=e[r-1];t:{e:{let l;n:{i:if(!(t<s)){for(let h=r+2;;){if(s===void 0){if(t<o)break i;return r=e.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===h)break;if(o=s,s=e[++r],t<s)break e}l=e.length;break n}if(!(t>=o)){const h=e[1];t<h&&(r=2,o=h);for(let d=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===d)break;if(s=o,o=e[--r-1],t>=o)break e}l=r,r=0;break n}break t}for(;r<l;){const h=r+l>>>1;t<e[h]?l=h:r=h+1}if(s=e[r],o=e[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return r=e.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,s)}return this.interpolate_(r,o,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,r=this.sampleValues,s=this.valueSize,o=t*s;for(let l=0;l!==s;++l)e[l]=r[o+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cg extends ns{constructor(t,e,r,s){super(t,e,r,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Sh,endingEnd:Sh}}intervalChanged_(t,e,r){const s=this.parameterPositions;let o=t-2,l=t+1,h=s[o],d=s[l];if(h===void 0)switch(this.getSettings_().endingStart){case Eh:o=t,h=2*e-r;break;case bh:o=s.length-2,h=e+s[o]-s[o+1];break;default:o=t,h=r}if(d===void 0)switch(this.getSettings_().endingEnd){case Eh:l=t,d=2*r-e;break;case bh:l=1,d=r+s[1]-s[0];break;default:l=t-1,d=e}const p=(r-e)*.5,f=this.valueSize;this._weightPrev=p/(e-h),this._weightNext=p/(d-r),this._offsetPrev=o*f,this._offsetNext=l*f}interpolate_(t,e,r,s){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=t*h,p=d-h,f=this._offsetPrev,A=this._offsetNext,g=this._weightPrev,x=this._weightNext,B=(r-e)/(s-e),C=B*B,v=C*B,w=-g*v+2*g*C-g*B,_=(1+g)*v+(-1.5-2*g)*C+(-.5+g)*B+1,F=(-1-x)*v+(1.5+x)*C+.5*B,D=x*v-x*C;for(let z=0;z!==h;++z)o[z]=w*l[f+z]+_*l[p+z]+F*l[d+z]+D*l[A+z];return o}}class hg extends ns{constructor(t,e,r,s){super(t,e,r,s)}interpolate_(t,e,r,s){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=t*h,p=d-h,f=(r-e)/(s-e),A=1-f;for(let g=0;g!==h;++g)o[g]=l[p+g]*A+l[d+g]*f;return o}}class dg extends ns{constructor(t,e,r,s){super(t,e,r,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class ln{constructor(t,e,r,s){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Do(e,this.TimeBufferType),this.values=Do(r,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let r;if(e.toJSON!==this.toJSON)r=e.toJSON(t);else{r={name:t.name,times:Do(t.times,Array),values:Do(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(r.interpolation=s)}return r.type=t.ValueTypeName,r}InterpolantFactoryMethodDiscrete(t){return new dg(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new hg(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new cg(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Xr:e=this.InterpolantFactoryMethodDiscrete;break;case er:e=this.InterpolantFactoryMethodLinear;break;case hl:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xr;case this.InterpolantFactoryMethodLinear:return er;case this.InterpolantFactoryMethodSmooth:return hl}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let r=0,s=e.length;r!==s;++r)e[r]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let r=0,s=e.length;r!==s;++r)e[r]*=t}return this}trim(t,e){const r=this.times,s=r.length;let o=0,l=s-1;for(;o!==s&&r[o]<t;)++o;for(;l!==-1&&r[l]>e;)--l;if(++l,o!==0||l!==s){o>=l&&(l=Math.max(l,1),o=l-1);const h=this.getValueSize();this.times=r.slice(o,l),this.values=this.values.slice(o*h,l*h)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const r=this.times,s=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let h=0;h!==o;h++){const d=r[h];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,d),t=!1;break}if(l!==null&&l>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,d,l),t=!1;break}l=d}if(s!==void 0&&lg(s))for(let h=0,d=s.length;h!==d;++h){const p=s[h];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),r=this.getValueSize(),s=this.getInterpolation()===hl,o=t.length-1;let l=1;for(let h=1;h<o;++h){let d=!1;const p=t[h],f=t[h+1];if(p!==f&&(h!==1||p!==t[0]))if(s)d=!0;else{const A=h*r,g=A-r,x=A+r;for(let B=0;B!==r;++B){const C=e[A+B];if(C!==e[g+B]||C!==e[x+B]){d=!0;break}}}if(d){if(h!==l){t[l]=t[h];const A=h*r,g=l*r;for(let x=0;x!==r;++x)e[g+x]=e[A+x]}++l}}if(o>0){t[l]=t[o];for(let h=o*r,d=l*r,p=0;p!==r;++p)e[d+p]=e[h+p];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*r)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),r=this.constructor,s=new r(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}ln.prototype.TimeBufferType=Float32Array;ln.prototype.ValueBufferType=Float32Array;ln.prototype.DefaultInterpolation=er;class sr extends ln{}sr.prototype.ValueTypeName="bool";sr.prototype.ValueBufferType=Array;sr.prototype.DefaultInterpolation=Xr;sr.prototype.InterpolantFactoryMethodLinear=void 0;sr.prototype.InterpolantFactoryMethodSmooth=void 0;class Zd extends ln{}Zd.prototype.ValueTypeName="color";class Yr extends ln{}Yr.prototype.ValueTypeName="number";class fg extends ns{constructor(t,e,r,s){super(t,e,r,s)}interpolate_(t,e,r,s){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=(r-e)/(s-e);let p=t*h;for(let f=p+h;p!==f;p+=4)Un.slerpFlat(o,0,l,p-h,l,p,d);return o}}class pi extends ln{InterpolantFactoryMethodLinear(t){return new fg(this.times,this.values,this.getValueSize(),t)}}pi.prototype.ValueTypeName="quaternion";pi.prototype.DefaultInterpolation=er;pi.prototype.InterpolantFactoryMethodSmooth=void 0;class or extends ln{}or.prototype.ValueTypeName="string";or.prototype.ValueBufferType=Array;or.prototype.DefaultInterpolation=Xr;or.prototype.InterpolantFactoryMethodLinear=void 0;or.prototype.InterpolantFactoryMethodSmooth=void 0;class Zr extends ln{}Zr.prototype.ValueTypeName="vector";class pg{constructor(t,e=-1,r,s=uA){this.name=t,this.tracks=r,this.duration=e,this.blendMode=s,this.uuid=Ye(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],r=t.tracks,s=1/(t.fps||1);for(let l=0,h=r.length;l!==h;++l)e.push(Ag(r[l]).scale(s));const o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}static toJSON(t){const e=[],r=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let o=0,l=r.length;o!==l;++o)e.push(ln.toJSON(r[o]));return s}static CreateFromMorphTargetSequence(t,e,r,s){const o=e.length,l=[];for(let h=0;h<o;h++){let d=[],p=[];d.push((h+o-1)%o,h,(h+1)%o),p.push(0,1,0);const f=ug(d);d=hd(d,1,f),p=hd(p,1,f),!s&&d[0]===0&&(d.push(o),p.push(p[0])),l.push(new Yr(".morphTargetInfluences["+e[h].name+"]",d,p).scale(1/r))}return new this(t,-1,l)}static findByName(t,e){let r=t;if(!Array.isArray(t)){const s=t;r=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<r.length;s++)if(r[s].name===e)return r[s];return null}static CreateClipsFromMorphTargetSequences(t,e,r){const s={},o=/^([\w-]*?)([\d]+)$/;for(let h=0,d=t.length;h<d;h++){const p=t[h],f=p.name.match(o);if(f&&f.length>1){const A=f[1];let g=s[A];g||(s[A]=g=[]),g.push(p)}}const l=[];for(const h in s)l.push(this.CreateFromMorphTargetSequence(h,s[h],e,r));return l}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(A,g,x,B,C){if(x.length!==0){const v=[],w=[];Yd(x,v,w,B),v.length!==0&&C.push(new A(g,v,w))}},s=[],o=t.name||"default",l=t.fps||30,h=t.blendMode;let d=t.length||-1;const p=t.hierarchy||[];for(let A=0;A<p.length;A++){const g=p[A].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const x={};let B;for(B=0;B<g.length;B++)if(g[B].morphTargets)for(let C=0;C<g[B].morphTargets.length;C++)x[g[B].morphTargets[C]]=-1;for(const C in x){const v=[],w=[];for(let _=0;_!==g[B].morphTargets.length;++_){const F=g[B];v.push(F.time),w.push(F.morphTarget===C?1:0)}s.push(new Yr(".morphTargetInfluence["+C+"]",v,w))}d=x.length*l}else{const x=".bones["+e[A].name+"]";r(Zr,x+".position",g,"pos",s),r(pi,x+".quaternion",g,"rot",s),r(Zr,x+".scale",g,"scl",s)}}return s.length===0?null:new this(o,d,s,h)}resetDuration(){const t=this.tracks;let e=0;for(let r=0,s=t.length;r!==s;++r){const o=this.tracks[r];e=Math.max(e,o.times[o.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mg(u){switch(u.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yr;case"vector":case"vector2":case"vector3":case"vector4":return Zr;case"color":return Zd;case"quaternion":return pi;case"bool":case"boolean":return sr;case"string":return or}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+u)}function Ag(u){if(u.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=mg(u.type);if(u.times===void 0){const e=[],r=[];Yd(u.keys,e,r,"value"),u.times=e,u.values=r}return t.parse!==void 0?t.parse(u):new t(u.name,u.times,u.values,u.interpolation)}const nr={enabled:!1,files:{},add:function(u,t){this.enabled!==!1&&(this.files[u]=t)},get:function(u){if(this.enabled!==!1)return this.files[u]},remove:function(u){delete this.files[u]},clear:function(){this.files={}}};class gg{constructor(t,e,r){const s=this;let o=!1,l=0,h=0,d;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(f){h++,o===!1&&s.onStart!==void 0&&s.onStart(f,l,h),o=!0},this.itemEnd=function(f){l++,s.onProgress!==void 0&&s.onProgress(f,l,h),l===h&&(o=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(f){s.onError!==void 0&&s.onError(f)},this.resolveURL=function(f){return d?d(f):f},this.setURLModifier=function(f){return d=f,this},this.addHandler=function(f,A){return p.push(f,A),this},this.removeHandler=function(f){const A=p.indexOf(f);return A!==-1&&p.splice(A,2),this},this.getHandler=function(f){for(let A=0,g=p.length;A<g;A+=2){const x=p[A],B=p[A+1];if(x.global&&(x.lastIndex=0),x.test(f))return B}return null}}}const yg=new gg;class mi{constructor(t){this.manager=t!==void 0?t:yg,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const r=this;return new Promise(function(s,o){r.load(t,s,e,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}mi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Cn={};class xg extends Error{constructor(t,e){super(t),this.response=e}}class No extends mi{constructor(t){super(t)}load(t,e,r,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=nr.get(t);if(o!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(o),this.manager.itemEnd(t)},0),o;if(Cn[t]!==void 0){Cn[t].push({onLoad:e,onProgress:r,onError:s});return}Cn[t]=[],Cn[t].push({onLoad:e,onProgress:r,onError:s});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,d=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const f=Cn[t],A=p.body.getReader(),g=p.headers.get("Content-Length")||p.headers.get("X-File-Size"),x=g?parseInt(g):0,B=x!==0;let C=0;const v=new ReadableStream({start(w){_();function _(){A.read().then(({done:F,value:D})=>{if(F)w.close();else{C+=D.byteLength;const z=new ProgressEvent("progress",{lengthComputable:B,loaded:C,total:x});for(let O=0,H=f.length;O<H;O++){const V=f[O];V.onProgress&&V.onProgress(z)}w.enqueue(D),_()}})}}});return new Response(v)}else throw new xg(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(f=>new DOMParser().parseFromString(f,h));case"json":return p.json();default:if(h===void 0)return p.text();{const A=/charset="?([^;"\s]*)"?/i.exec(h),g=A&&A[1]?A[1].toLowerCase():void 0,x=new TextDecoder(g);return p.arrayBuffer().then(B=>x.decode(B))}}}).then(p=>{nr.add(t,p);const f=Cn[t];delete Cn[t];for(let A=0,g=f.length;A<g;A++){const x=f[A];x.onLoad&&x.onLoad(p)}}).catch(p=>{const f=Cn[t];if(f===void 0)throw this.manager.itemError(t),p;delete Cn[t];for(let A=0,g=f.length;A<g;A++){const x=f[A];x.onError&&x.onError(p)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Bg extends mi{constructor(t){super(t)}load(t,e,r,s){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=nr.get(t);if(l!==void 0)return o.manager.itemStart(t),setTimeout(function(){e&&e(l),o.manager.itemEnd(t)},0),l;const h=eu("img");function d(){f(),nr.add(t,this),e&&e(this),o.manager.itemEnd(t)}function p(A){f(),s&&s(A),o.manager.itemError(t),o.manager.itemEnd(t)}function f(){h.removeEventListener("load",d,!1),h.removeEventListener("error",p,!1)}return h.addEventListener("load",d,!1),h.addEventListener("error",p,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(h.crossOrigin=this.crossOrigin),o.manager.itemStart(t),h.src=t,h}}class Cg extends mi{constructor(t){super(t)}load(t,e,r,s){const o=new Ge,l=new Bg(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,function(h){o.image=h,o.needsUpdate=!0,e!==void 0&&e(o)},r,s),o}}class Mu extends kt{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new Ht(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}const kl=new dt,dd=new I,fd=new I;class vu{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Pt(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ZA,this._frameExtents=new Pt(1,1),this._viewportCount=1,this._viewports=[new ze(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,r=this.matrix;dd.setFromMatrixPosition(t.matrixWorld),e.position.copy(dd),fd.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(fd),e.updateMatrixWorld(),kl.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kl),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(kl)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Mg extends vu{constructor(){super(new gu(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,r=Vr*2*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,o=t.distance||e.far;(r!==e.fov||s!==e.aspect||o!==e.far)&&(e.fov=r,e.aspect=s,e.far=o,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class vg extends Mu{constructor(t,e,r=0,s=Math.PI/3,o=0,l=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(kt.DEFAULT_UP),this.updateMatrix(),this.target=new kt,this.distance=r,this.angle=s,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new Mg}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const pd=new dt,Hr=new I,zl=new I;class wg extends vu{constructor(){super(new gu(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Pt(4,2),this._viewportCount=6,this._viewports=[new ze(2,1,1,1),new ze(0,1,1,1),new ze(3,1,1,1),new ze(1,1,1,1),new ze(3,0,1,1),new ze(1,0,1,1)],this._cubeDirections=[new I(1,0,0),new I(-1,0,0),new I(0,0,1),new I(0,0,-1),new I(0,1,0),new I(0,-1,0)],this._cubeUps=[new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,0,1),new I(0,0,-1)]}updateMatrices(t,e=0){const r=this.camera,s=this.matrix,o=t.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Hr.setFromMatrixPosition(t.matrixWorld),r.position.copy(Hr),zl.copy(r.position),zl.add(this._cubeDirections[e]),r.up.copy(this._cubeUps[e]),r.lookAt(zl),r.updateMatrixWorld(),s.makeTranslation(-Hr.x,-Hr.y,-Hr.z),pd.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pd)}}class Sg extends Mu{constructor(t,e,r=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=s,this.shadow=new wg}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Eg extends vu{constructor(){super(new Wd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bg extends Mu{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(kt.DEFAULT_UP),this.updateMatrix(),this.target=new kt,this.shadow=new Eg}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class fi{static decodeText(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let r=0,s=t.length;r<s;r++)e+=String.fromCharCode(t[r]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class Tg extends mi{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,r,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=nr.get(t);if(l!==void 0)return o.manager.itemStart(t),setTimeout(function(){e&&e(l),o.manager.itemEnd(t)},0),l;const h={};h.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",h.headers=this.requestHeader,fetch(t,h).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(d){nr.add(t,d),e&&e(d),o.manager.itemEnd(t)}).catch(function(d){s&&s(d),o.manager.itemError(t),o.manager.itemEnd(t)}),o.manager.itemStart(t)}}const wu="\\[\\]\\.:\\/",Fg=new RegExp("["+wu+"]","g"),Su="[^"+wu+"]",Ig="[^"+wu.replace("\\.","")+"]",_g=/((?:WC+[\/:])*)/.source.replace("WC",Su),Rg=/(WCOD+)?/.source.replace("WCOD",Ig),Dg=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Su),Pg=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Su),kg=new RegExp("^"+_g+Rg+Dg+Pg+"$"),zg=["material","materials","bones","map"];class Gg{constructor(t,e,r){const s=r||Bt.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const r=this._targetGroup.nCachedObjects_,s=this._bindings[r];s!==void 0&&s.getValue(t,e)}setValue(t,e){const r=this._bindings;for(let s=this._targetGroup.nCachedObjects_,o=r.length;s!==o;++s)r[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].unbind()}}class Bt{constructor(t,e,r){this.path=e,this.parsedPath=r||Bt.parseTrackName(e),this.node=Bt.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,r){return t&&t.isAnimationObjectGroup?new Bt.Composite(t,e,r):new Bt(t,e,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Fg,"")}static parseTrackName(t){const e=kg.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const o=r.nodeName.substring(s+1);zg.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(e);if(r!==void 0)return r}if(t.children){const r=function(o){for(let l=0;l<o.length;l++){const h=o[l];if(h.name===e||h.uuid===e)return h;const d=r(h.children);if(d)return d}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[e++]=r[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,r=e.objectName,s=e.propertyName;let o=e.propertyIndex;if(t||(t=Bt.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let p=e.objectIndex;switch(r){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let f=0;f<t.length;f++)if(t[f].name===p){p=f;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[r]}if(p!==void 0){if(t[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[p]}}const l=t[s];if(l===void 0){const p=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",t);return}let h=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?h=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(h=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(o!==void 0){if(s==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[o]!==void 0&&(o=t.morphTargetDictionary[o])}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=s;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Bt.Composite=Gg;Bt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Bt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Bt.prototype.GetterByBindingType=[Bt.prototype._getValue_direct,Bt.prototype._getValue_array,Bt.prototype._getValue_arrayElement,Bt.prototype._getValue_toArray];Bt.prototype.SetterByBindingTypeAndVersioning=[[Bt.prototype._setValue_direct,Bt.prototype._setValue_direct_setNeedsUpdate,Bt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_array,Bt.prototype._setValue_array_setNeedsUpdate,Bt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_arrayElement,Bt.prototype._setValue_arrayElement_setNeedsUpdate,Bt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_fromArray,Bt.prototype._setValue_fromArray_setNeedsUpdate,Bt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:cu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=cu);var qd={exports:{}},Ai={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ai.ConcurrentRoot=1;Ai.ContinuousEventPriority=4;Ai.DefaultEventPriority=16;Ai.DiscreteEventPriority=1;Ai.IdleEventPriority=536870912;Ai.LegacyRoot=0;qd.exports=Ai;var Jr=qd.exports,$d={exports:{}},Gl={exports:{}},Ll={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function Lg(){return md||(md=1,function(u){function t(R,G){var L=R.length;R.push(G);t:for(;0<L;){var W=L-1>>>1,nt=R[W];if(0<s(nt,G))R[W]=G,R[L]=nt,L=W;else break t}}function e(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var G=R[0],L=R.pop();if(L!==G){R[0]=L;t:for(var W=0,nt=R.length,ce=nt>>>1;W<ce;){var Rt=2*(W+1)-1,Ae=R[Rt],wt=Rt+1,ie=R[wt];if(0>s(Ae,L))wt<nt&&0>s(ie,Ae)?(R[W]=ie,R[wt]=L,W=wt):(R[W]=Ae,R[Rt]=L,W=Rt);else if(wt<nt&&0>s(ie,L))R[W]=ie,R[wt]=L,W=wt;else break t}}return G}function s(R,G){var L=R.sortIndex-G.sortIndex;return L!==0?L:R.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();u.unstable_now=function(){return l.now()-h}}var d=[],p=[],f=1,A=null,g=3,x=!1,B=!1,C=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(R){for(var G=e(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=R)r(p),G.sortIndex=G.expirationTime,t(d,G);else break;G=e(p)}}function D(R){if(C=!1,F(R),!B)if(e(d)!==null)B=!0,Ct(z);else{var G=e(p);G!==null&&_t(D,G.startTime-R)}}function z(R,G){B=!1,C&&(C=!1,w(V),V=-1),x=!0;var L=g;try{for(F(G),A=e(d);A!==null&&(!(A.expirationTime>G)||R&&!ct());){var W=A.callback;if(typeof W=="function"){A.callback=null,g=A.priorityLevel;var nt=W(A.expirationTime<=G);G=u.unstable_now(),typeof nt=="function"?A.callback=nt:A===e(d)&&r(d),F(G)}else r(d);A=e(d)}if(A!==null)var ce=!0;else{var Rt=e(p);Rt!==null&&_t(D,Rt.startTime-G),ce=!1}return ce}finally{A=null,g=L,x=!1}}var O=!1,H=null,V=-1,lt=5,$=-1;function ct(){return!(u.unstable_now()-$<lt)}function ut(){if(H!==null){var R=u.unstable_now();$=R;var G=!0;try{G=H(!0,R)}finally{G?Z():(O=!1,H=null)}}else O=!1}var Z;if(typeof _=="function")Z=function(){_(ut)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,st=ft.port2;ft.port1.onmessage=ut,Z=function(){st.postMessage(null)}}else Z=function(){v(ut,0)};function Ct(R){H=R,O||(O=!0,Z())}function _t(R,G){V=v(function(){R(u.unstable_now())},G)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(R){R.callback=null},u.unstable_continueExecution=function(){B||x||(B=!0,Ct(z))},u.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lt=0<R?Math.floor(1e3/R):5},u.unstable_getCurrentPriorityLevel=function(){return g},u.unstable_getFirstCallbackNode=function(){return e(d)},u.unstable_next=function(R){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var L=g;g=G;try{return R()}finally{g=L}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=g;g=R;try{return G()}finally{g=L}},u.unstable_scheduleCallback=function(R,G,L){var W=u.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,R){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=L+nt,R={id:f++,callback:G,priorityLevel:R,startTime:L,expirationTime:nt,sortIndex:-1},L>W?(R.sortIndex=L,t(p,R),e(d)===null&&R===e(p)&&(C?(w(V),V=-1):C=!0,_t(D,L-W))):(R.sortIndex=nt,t(d,R),B||x||(B=!0,Ct(z))),R},u.unstable_shouldYield=ct,u.unstable_wrapCallback=function(R){var G=g;return function(){var L=g;g=G;try{return R.apply(this,arguments)}finally{g=L}}}}(Ll)),Ll}var Ad;function Hg(){return Ad||(Ad=1,Gl.exports=Lg()),Gl.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng=function(t){var e={},r=X,s=Hg(),o=Object.assign;function l(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),B=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),z=Symbol.iterator;function O(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}function H(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case f:return"Fragment";case p:return"Portal";case g:return"Profiler";case A:return"StrictMode";case v:return"Suspense";case w:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case B:return(n.displayName||"Context")+".Consumer";case x:return(n._context.displayName||"Context")+".Provider";case C:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _:return i=n.displayName||null,i!==null?i:H(n.type)||"Memo";case F:i=n._payload,n=n._init;try{return H(n(i))}catch{}}return null}function V(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(i);case 8:return i===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function lt(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function $(n){if(lt(n)!==n)throw Error(l(188))}function ct(n){var i=n.alternate;if(!i){if(i=lt(n),i===null)throw Error(l(188));return i!==n?null:n}for(var a=n,c=i;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return $(m),n;if(y===c)return $(m),i;y=y.sibling}throw Error(l(188))}if(a.return!==c.return)a=m,c=y;else{for(var M=!1,S=m.child;S;){if(S===a){M=!0,a=m,c=y;break}if(S===c){M=!0,c=m,a=y;break}S=S.sibling}if(!M){for(S=y.child;S;){if(S===a){M=!0,a=y,c=m;break}if(S===c){M=!0,c=y,a=m;break}S=S.sibling}if(!M)throw Error(l(189))}}if(a.alternate!==c)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?n:i}function ut(n){return n=ct(n),n!==null?Z(n):null}function Z(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Z(n);if(i!==null)return i;n=n.sibling}return null}function ft(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){if(n.tag!==4){var i=ft(n);if(i!==null)return i}n=n.sibling}return null}var st=Array.isArray,Ct=t.getPublicInstance,_t=t.getRootHostContext,R=t.getChildHostContext,G=t.prepareForCommit,L=t.resetAfterCommit,W=t.createInstance,nt=t.appendInitialChild,ce=t.finalizeInitialChildren,Rt=t.prepareUpdate,Ae=t.shouldSetTextContent,wt=t.createTextInstance,ie=t.scheduleTimeout,rs=t.cancelTimeout,ar=t.noTimeout,Kn=t.isPrimaryRenderer,ge=t.supportsMutation,Wn=t.supportsPersistence,re=t.supportsHydration,ss=t.getInstanceFromNode,Wo=t.preparePortalMount,os=t.getCurrentEventPriority,Le=t.detachDeletedInstance,un=t.supportsMicrotasks,as=t.scheduleMicrotask,He=t.supportsTestSelectors,lr=t.findFiberRoot,ls=t.getBoundingRect,us=t.getTextContent,Qn=t.isHiddenSubtree,Qo=t.matchAccessibilityRole,Xo=t.setFocusIfFocusable,Vo=t.setupIntersectionObserver,cs=t.appendChild,gi=t.appendChildToContainer,hs=t.commitTextUpdate,yi=t.commitMount,Yo=t.commitUpdate,Zo=t.insertBefore,ur=t.insertInContainerBefore,K=t.removeChild,tt=t.removeChildFromContainer,At=t.resetTextContent,mt=t.hideInstance,Ft=t.hideTextInstance,Kt=t.unhideInstance,Se=t.unhideTextInstance,Xn=t.clearContainer,Ze=t.cloneInstance,xi=t.createContainerChildSet,bu=t.appendChildToContainerChildSet,ff=t.finalizeContainerChildren,Tu=t.replaceContainerChildren,Fu=t.cloneHiddenInstance,Iu=t.cloneHiddenTextInstance,pf=t.canHydrateInstance,mf=t.canHydrateTextInstance,Af=t.canHydrateSuspenseInstance,_u=t.isSuspenseInstancePending,qo=t.isSuspenseInstanceFallback,gf=t.registerSuspenseInstanceRetry,cr=t.getNextHydratableSibling,yf=t.getFirstHydratableChild,xf=t.getFirstHydratableChildWithinContainer,Bf=t.getFirstHydratableChildWithinSuspenseInstance,Cf=t.hydrateInstance,Mf=t.hydrateTextInstance,vf=t.hydrateSuspenseInstance,wf=t.getNextHydratableInstanceAfterSuspenseInstance,Ru=t.commitHydratedContainer,Sf=t.commitHydratedSuspenseInstance,Ef=t.clearSuspenseBoundary,bf=t.clearSuspenseBoundaryFromContainer,Tf=t.shouldDeleteUnhydratedTailInstances,Ff=t.didNotMatchHydratedContainerTextInstance,If=t.didNotMatchHydratedTextInstance,$o;function hr(n){if($o===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$o=i&&i[1]||""}return`
`+$o+n}var ta=!1;function ea(n,i){if(!n||ta)return"";ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(N){var c=N}Reflect.construct(n,[],i)}else{try{i.call()}catch(N){c=N}n.call(i.prototype)}else{try{throw Error()}catch(N){c=N}n()}}catch(N){if(N&&c&&typeof N.stack=="string"){for(var m=N.stack.split(`
`),y=c.stack.split(`
`),M=m.length-1,S=y.length-1;1<=M&&0<=S&&m[M]!==y[S];)S--;for(;1<=M&&0<=S;M--,S--)if(m[M]!==y[S]){if(M!==1||S!==1)do if(M--,S--,0>S||m[M]!==y[S]){var k=`
`+m[M].replace(" at new "," at ");return n.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",n.displayName)),k}while(1<=M&&0<=S);break}}}finally{ta=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?hr(n):""}var _f=Object.prototype.hasOwnProperty,na=[],Bi=-1;function wn(n){return{current:n}}function Et(n){0>Bi||(n.current=na[Bi],na[Bi]=null,Bi--)}function St(n,i){Bi++,na[Bi]=n.current,n.current=i}var Sn={},Vt=wn(Sn),he=wn(!1),Vn=Sn;function Ci(n,i){var a=n.type.contextTypes;if(!a)return Sn;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in a)m[y]=i[y];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=m),m}function de(n){return n=n.childContextTypes,n!=null}function ds(){Et(he),Et(Vt)}function Du(n,i,a){if(Vt.current!==Sn)throw Error(l(168));St(Vt,i),St(he,a)}function Pu(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var m in c)if(!(m in i))throw Error(l(108,V(n)||"Unknown",m));return o({},a,c)}function fs(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Sn,Vn=Vt.current,St(Vt,n),St(he,he.current),!0}function ku(n,i,a){var c=n.stateNode;if(!c)throw Error(l(169));a?(n=Pu(n,i,Vn),c.__reactInternalMemoizedMergedChildContext=n,Et(he),Et(Vt),St(Vt,n)):Et(he),St(he,a)}var Ne=Math.clz32?Math.clz32:Pf,Rf=Math.log,Df=Math.LN2;function Pf(n){return n>>>=0,n===0?32:31-(Rf(n)/Df|0)|0}var ps=64,ms=4194304;function dr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function As(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,m=n.suspendedLanes,y=n.pingedLanes,M=a&268435455;if(M!==0){var S=M&~m;S!==0?c=dr(S):(y&=M,y!==0&&(c=dr(y)))}else M=a&~m,M!==0?c=dr(M):y!==0&&(c=dr(y));if(c===0)return 0;if(i!==0&&i!==c&&!(i&m)&&(m=c&-c,y=i&-i,m>=y||m===16&&(y&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Ne(i),m=1<<a,c|=n[a],i&=~m;return c}function kf(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes;0<y;){var M=31-Ne(y),S=1<<M,k=m[M];k===-1?(!(S&a)||S&c)&&(m[M]=kf(S,i)):k<=i&&(n.expiredLanes|=S),y&=~S}}function ia(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ra(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function fr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Ne(i),n[i]=a}function Gf(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var m=31-Ne(a),y=1<<m;i[m]=0,c[m]=-1,n[m]=-1,a&=~y}}function sa(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Ne(a),m=1<<c;m&i|n[c]&i&&(n[c]|=i),a&=~m}}var gt=0;function zu(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var oa=s.unstable_scheduleCallback,Gu=s.unstable_cancelCallback,Lf=s.unstable_shouldYield,Hf=s.unstable_requestPaint,Ot=s.unstable_now,aa=s.unstable_ImmediatePriority,Nf=s.unstable_UserBlockingPriority,la=s.unstable_NormalPriority,Of=s.unstable_IdlePriority,gs=null,qe=null;function Uf(n){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(gs,n,void 0,(n.current.flags&128)===128)}catch{}}function Jf(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var $e=typeof Object.is=="function"?Object.is:Jf,cn=null,ys=!1,ua=!1;function Lu(n){cn===null?cn=[n]:cn.push(n)}function jf(n){ys=!0,Lu(n)}function tn(){if(!ua&&cn!==null){ua=!0;var n=0,i=gt;try{var a=cn;for(gt=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}cn=null,ys=!1}catch(m){throw cn!==null&&(cn=cn.slice(n+1)),oa(aa,tn),m}finally{gt=i,ua=!1}}return null}var Kf=h.ReactCurrentBatchConfig;function xs(n,i){if($e(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!_f.call(i,m)||!$e(n[m],i[m]))return!1}return!0}function Wf(n){switch(n.tag){case 5:return hr(n.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 2:case 15:return n=ea(n.type,!1),n;case 11:return n=ea(n.type.render,!1),n;case 1:return n=ea(n.type,!0),n;default:return""}}function Oe(n,i){if(n&&n.defaultProps){i=o({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}var Bs=wn(null),Cs=null,Mi=null,ca=null;function ha(){ca=Mi=Cs=null}function Hu(n,i,a){Kn?(St(Bs,i._currentValue),i._currentValue=a):(St(Bs,i._currentValue2),i._currentValue2=a)}function da(n){var i=Bs.current;Et(Bs),Kn?n._currentValue=i:n._currentValue2=i}function fa(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function vi(n,i){Cs=n,ca=Mi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Be=!0),n.firstContext=null)}function Ee(n){var i=Kn?n._currentValue:n._currentValue2;if(ca!==n)if(n={context:n,memoizedValue:i,next:null},Mi===null){if(Cs===null)throw Error(l(308));Mi=n,Cs.dependencies={lanes:0,firstContext:n}}else Mi=Mi.next=n;return i}var en=null,En=!1;function pa(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function hn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function bn(n,i){var a=n.updateQueue;a!==null&&(a=a.shared,zt!==null&&n.mode&1&&!(at&2)?(n=a.interleaved,n===null?(i.next=i,en===null?en=[a]:en.push(a)):(i.next=n.next,n.next=i),a.interleaved=i):(n=a.pending,n===null?i.next=i:(i.next=n.next,n.next=i),a.pending=i))}function Ms(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,sa(n,a)}}function Ou(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var M={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?m=y=M:y=y.next=M,a=a.next}while(a!==null);y===null?m=y=i:y=y.next=i}else m=y=i;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function vs(n,i,a,c){var m=n.updateQueue;En=!1;var y=m.firstBaseUpdate,M=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var k=S,N=k.next;k.next=null,M===null?y=N:M.next=N,M=k;var j=n.alternate;j!==null&&(j=j.updateQueue,S=j.lastBaseUpdate,S!==M&&(S===null?j.firstBaseUpdate=N:S.next=N,j.lastBaseUpdate=k))}if(y!==null){var it=m.baseState;M=0,j=N=k=null,S=y;do{var q=S.lane,vt=S.eventTime;if((c&q)===q){j!==null&&(j=j.next={eventTime:vt,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});t:{var Y=n,$t=S;switch(q=i,vt=a,$t.tag){case 1:if(Y=$t.payload,typeof Y=="function"){it=Y.call(vt,it,q);break t}it=Y;break t;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=$t.payload,q=typeof Y=="function"?Y.call(vt,it,q):Y,q==null)break t;it=o({},it,q);break t;case 2:En=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,q=m.effects,q===null?m.effects=[S]:q.push(S))}else vt={eventTime:vt,lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},j===null?(N=j=vt,k=it):j=j.next=vt,M|=q;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;q=S,S=q.next,q.next=null,m.lastBaseUpdate=q,m.shared.pending=null}}while(1);if(j===null&&(k=it),m.baseState=k,m.firstBaseUpdate=N,m.lastBaseUpdate=j,i=m.shared.interleaved,i!==null){m=i;do M|=m.lane,m=m.next;while(m!==i)}else y===null&&(m.shared.lanes=0);Ri|=M,n.lanes=M,n.memoizedState=it}}function Uu(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],m=c.callback;if(m!==null){if(c.callback=null,c=a,typeof m!="function")throw Error(l(191,m));m.call(c)}}}var Ju=new r.Component().refs;function ma(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:o({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ws={isMounted:function(n){return(n=n._reactInternals)?lt(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=oe(),m=In(n),y=hn(c,m);y.payload=i,a!=null&&(y.callback=a),bn(n,y),i=_e(n,m,c),i!==null&&Ms(i,n,m)},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=oe(),m=In(n),y=hn(c,m);y.tag=1,y.payload=i,a!=null&&(y.callback=a),bn(n,y),i=_e(n,m,c),i!==null&&Ms(i,n,m)},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=oe(),c=In(n),m=hn(a,c);m.tag=2,i!=null&&(m.callback=i),bn(n,m),i=_e(n,c,a),i!==null&&Ms(i,n,c)}};function ju(n,i,a,c,m,y,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,M):i.prototype&&i.prototype.isPureReactComponent?!xs(a,c)||!xs(m,y):!0}function Ku(n,i,a){var c=!1,m=Sn,y=i.contextType;return typeof y=="object"&&y!==null?y=Ee(y):(m=de(i)?Vn:Vt.current,c=i.contextTypes,y=(c=c!=null)?Ci(n,m):Sn),i=new i(a,y),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ws,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=y),i}function Wu(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&ws.enqueueReplaceState(i,i.state,null)}function Aa(n,i,a,c){var m=n.stateNode;m.props=a,m.state=n.memoizedState,m.refs=Ju,pa(n);var y=i.contextType;typeof y=="object"&&y!==null?m.context=Ee(y):(y=de(i)?Vn:Vt.current,m.context=Ci(n,y)),m.state=n.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(ma(n,i,y,a),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&ws.enqueueReplaceState(m,m.state,null),vs(n,a,m,c),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}var wi=[],Si=0,Ss=null,Es=0,be=[],Te=0,Yn=null,dn=1,fn="";function Zn(n,i){wi[Si++]=Es,wi[Si++]=Ss,Ss=n,Es=i}function Qu(n,i,a){be[Te++]=dn,be[Te++]=fn,be[Te++]=Yn,Yn=n;var c=dn;n=fn;var m=32-Ne(c)-1;c&=~(1<<m),a+=1;var y=32-Ne(i)+m;if(30<y){var M=m-m%5;y=(c&(1<<M)-1).toString(32),c>>=M,m-=M,dn=1<<32-Ne(i)+m|a<<m|c,fn=y+n}else dn=1<<y|a<<m|c,fn=n}function ga(n){n.return!==null&&(Zn(n,1),Qu(n,1,0))}function ya(n){for(;n===Ss;)Ss=wi[--Si],wi[Si]=null,Es=wi[--Si],wi[Si]=null;for(;n===Yn;)Yn=be[--Te],be[Te]=null,fn=be[--Te],be[Te]=null,dn=be[--Te],be[Te]=null}var ye=null,xe=null,bt=!1,pr=!1,Ue=null;function Xu(n,i){var a=Re(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Vu(n,i){switch(n.tag){case 5:return i=pf(i,n.type,n.pendingProps),i!==null?(n.stateNode=i,ye=n,xe=yf(i),!0):!1;case 6:return i=mf(i,n.pendingProps),i!==null?(n.stateNode=i,ye=n,xe=null,!0):!1;case 13:if(i=Af(i),i!==null){var a=Yn!==null?{id:dn,overflow:fn}:null;return n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Re(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,ye=n,xe=null,!0}return!1;default:return!1}}function xa(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ba(n){if(bt){var i=xe;if(i){var a=i;if(!Vu(n,i)){if(xa(n))throw Error(l(418));i=cr(a);var c=ye;i&&Vu(n,i)?Xu(c,a):(n.flags=n.flags&-4097|2,bt=!1,ye=n)}}else{if(xa(n))throw Error(l(418));n.flags=n.flags&-4097|2,bt=!1,ye=n}}}function Yu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ye=n}function mr(n){if(!re||n!==ye)return!1;if(!bt)return Yu(n),bt=!0,!1;if(n.tag!==3&&(n.tag!==5||Tf(n.type)&&!Ae(n.type,n.memoizedProps))){var i=xe;if(i){if(xa(n)){for(n=xe;n;)n=cr(n);throw Error(l(418))}for(;i;)Xu(n,i),i=cr(i)}}if(Yu(n),n.tag===13){if(!re)throw Error(l(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));xe=wf(n)}else xe=ye?cr(n.stateNode):null;return!0}function Ei(){re&&(xe=ye=null,pr=bt=!1)}function Ca(n){Ue===null?Ue=[n]:Ue.push(n)}function Ar(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(l(309));var c=a.stateNode}if(!c)throw Error(l(147,n));var m=c,y=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(M){var S=m.refs;S===Ju&&(S=m.refs={}),M===null?delete S[y]:S[y]=M},i._stringRef=y,i)}if(typeof n!="string")throw Error(l(284));if(!a._owner)throw Error(l(290,n))}return n}function bs(n,i){throw n=Object.prototype.toString.call(i),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Zu(n){var i=n._init;return i(n._payload)}function qu(n){function i(T,b){if(n){var P=T.deletions;P===null?(T.deletions=[b],T.flags|=16):P.push(b)}}function a(T,b){if(!n)return null;for(;b!==null;)i(T,b),b=b.sibling;return null}function c(T,b){for(T=new Map;b!==null;)b.key!==null?T.set(b.key,b):T.set(b.index,b),b=b.sibling;return T}function m(T,b){return T=Rn(T,b),T.index=0,T.sibling=null,T}function y(T,b,P){return T.index=P,n?(P=T.alternate,P!==null?(P=P.index,P<b?(T.flags|=2,b):P):(T.flags|=2,b)):(T.flags|=1048576,b)}function M(T){return n&&T.alternate===null&&(T.flags|=2),T}function S(T,b,P,J){return b===null||b.tag!==6?(b=rl(P,T.mode,J),b.return=T,b):(b=m(b,P),b.return=T,b)}function k(T,b,P,J){var Q=P.type;return Q===f?j(T,b,P.props.children,J,P.key):b!==null&&(b.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===F&&Zu(Q)===b.type)?(J=m(b,P.props),J.ref=Ar(T,b,P),J.return=T,J):(J=ro(P.type,P.key,P.props,null,T.mode,J),J.ref=Ar(T,b,P),J.return=T,J)}function N(T,b,P,J){return b===null||b.tag!==4||b.stateNode.containerInfo!==P.containerInfo||b.stateNode.implementation!==P.implementation?(b=sl(P,T.mode,J),b.return=T,b):(b=m(b,P.children||[]),b.return=T,b)}function j(T,b,P,J,Q){return b===null||b.tag!==7?(b=ri(P,T.mode,J,Q),b.return=T,b):(b=m(b,P),b.return=T,b)}function it(T,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return b=rl(""+b,T.mode,P),b.return=T,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case d:return P=ro(b.type,b.key,b.props,null,T.mode,P),P.ref=Ar(T,null,b),P.return=T,P;case p:return b=sl(b,T.mode,P),b.return=T,b;case F:var J=b._init;return it(T,J(b._payload),P)}if(st(b)||O(b))return b=ri(b,T.mode,P,null),b.return=T,b;bs(T,b)}return null}function q(T,b,P,J){var Q=b!==null?b.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return Q!==null?null:S(T,b,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case d:return P.key===Q?k(T,b,P,J):null;case p:return P.key===Q?N(T,b,P,J):null;case F:return Q=P._init,q(T,b,Q(P._payload),J)}if(st(P)||O(P))return Q!==null?null:j(T,b,P,J,null);bs(T,P)}return null}function vt(T,b,P,J,Q){if(typeof J=="string"&&J!==""||typeof J=="number")return T=T.get(P)||null,S(b,T,""+J,Q);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case d:return T=T.get(J.key===null?P:J.key)||null,k(b,T,J,Q);case p:return T=T.get(J.key===null?P:J.key)||null,N(b,T,J,Q);case F:var ot=J._init;return vt(T,b,P,ot(J._payload),Q)}if(st(J)||O(J))return T=T.get(P)||null,j(b,T,J,Q,null);bs(b,J)}return null}function Y(T,b,P,J){for(var Q=null,ot=null,rt=b,yt=b=0,Jt=null;rt!==null&&yt<P.length;yt++){rt.index>yt?(Jt=rt,rt=null):Jt=rt.sibling;var xt=q(T,rt,P[yt],J);if(xt===null){rt===null&&(rt=Jt);break}n&&rt&&xt.alternate===null&&i(T,rt),b=y(xt,b,yt),ot===null?Q=xt:ot.sibling=xt,ot=xt,rt=Jt}if(yt===P.length)return a(T,rt),bt&&Zn(T,yt),Q;if(rt===null){for(;yt<P.length;yt++)rt=it(T,P[yt],J),rt!==null&&(b=y(rt,b,yt),ot===null?Q=rt:ot.sibling=rt,ot=rt);return bt&&Zn(T,yt),Q}for(rt=c(T,rt);yt<P.length;yt++)Jt=vt(rt,T,yt,P[yt],J),Jt!==null&&(n&&Jt.alternate!==null&&rt.delete(Jt.key===null?yt:Jt.key),b=y(Jt,b,yt),ot===null?Q=Jt:ot.sibling=Jt,ot=Jt);return n&&rt.forEach(function(Dn){return i(T,Dn)}),bt&&Zn(T,yt),Q}function $t(T,b,P,J){var Q=O(P);if(typeof Q!="function")throw Error(l(150));if(P=Q.call(P),P==null)throw Error(l(151));for(var ot=Q=null,rt=b,yt=b=0,Jt=null,xt=P.next();rt!==null&&!xt.done;yt++,xt=P.next()){rt.index>yt?(Jt=rt,rt=null):Jt=rt.sibling;var Dn=q(T,rt,xt.value,J);if(Dn===null){rt===null&&(rt=Jt);break}n&&rt&&Dn.alternate===null&&i(T,rt),b=y(Dn,b,yt),ot===null?Q=Dn:ot.sibling=Dn,ot=Dn,rt=Jt}if(xt.done)return a(T,rt),bt&&Zn(T,yt),Q;if(rt===null){for(;!xt.done;yt++,xt=P.next())xt=it(T,xt.value,J),xt!==null&&(b=y(xt,b,yt),ot===null?Q=xt:ot.sibling=xt,ot=xt);return bt&&Zn(T,yt),Q}for(rt=c(T,rt);!xt.done;yt++,xt=P.next())xt=vt(rt,T,yt,xt.value,J),xt!==null&&(n&&xt.alternate!==null&&rt.delete(xt.key===null?yt:xt.key),b=y(xt,b,yt),ot===null?Q=xt:ot.sibling=xt,ot=xt);return n&&rt.forEach(function(Mp){return i(T,Mp)}),bt&&Zn(T,yt),Q}function De(T,b,P,J){if(typeof P=="object"&&P!==null&&P.type===f&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case d:t:{for(var Q=P.key,ot=b;ot!==null;){if(ot.key===Q){if(Q=P.type,Q===f){if(ot.tag===7){a(T,ot.sibling),b=m(ot,P.props.children),b.return=T,T=b;break t}}else if(ot.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===F&&Zu(Q)===ot.type){a(T,ot.sibling),b=m(ot,P.props),b.ref=Ar(T,ot,P),b.return=T,T=b;break t}a(T,ot);break}else i(T,ot);ot=ot.sibling}P.type===f?(b=ri(P.props.children,T.mode,J,P.key),b.return=T,T=b):(J=ro(P.type,P.key,P.props,null,T.mode,J),J.ref=Ar(T,b,P),J.return=T,T=J)}return M(T);case p:t:{for(ot=P.key;b!==null;){if(b.key===ot)if(b.tag===4&&b.stateNode.containerInfo===P.containerInfo&&b.stateNode.implementation===P.implementation){a(T,b.sibling),b=m(b,P.children||[]),b.return=T,T=b;break t}else{a(T,b);break}else i(T,b);b=b.sibling}b=sl(P,T.mode,J),b.return=T,T=b}return M(T);case F:return ot=P._init,De(T,b,ot(P._payload),J)}if(st(P))return Y(T,b,P,J);if(O(P))return $t(T,b,P,J);bs(T,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,b!==null&&b.tag===6?(a(T,b.sibling),b=m(b,P),b.return=T,T=b):(a(T,b),b=rl(P,T.mode,J),b.return=T,T=b),M(T)):a(T,b)}return De}var bi=qu(!0),$u=qu(!1),gr={},Fe=wn(gr),yr=wn(gr),Ti=wn(gr);function nn(n){if(n===gr)throw Error(l(174));return n}function Ma(n,i){St(Ti,i),St(yr,n),St(Fe,gr),n=_t(i),Et(Fe),St(Fe,n)}function Fi(){Et(Fe),Et(yr),Et(Ti)}function tc(n){var i=nn(Ti.current),a=nn(Fe.current);i=R(a,n.type,i),a!==i&&(St(yr,n),St(Fe,i))}function va(n){yr.current===n&&(Et(Fe),Et(yr))}var Tt=wn(0);function Ts(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_u(a)||qo(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wa=[];function Sa(){for(var n=0;n<wa.length;n++){var i=wa[n];Kn?i._workInProgressVersionPrimary=null:i._workInProgressVersionSecondary=null}wa.length=0}var Fs=h.ReactCurrentDispatcher,Ie=h.ReactCurrentBatchConfig,Ii=0,It=null,Yt=null,Ut=null,Is=!1,xr=!1,Br=0,Qf=0;function Zt(){throw Error(l(321))}function Ea(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!$e(n[a],i[a]))return!1;return!0}function ba(n,i,a,c,m,y){if(Ii=y,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fs.current=n===null||n.memoizedState===null?Zf:qf,n=a(c,m),xr){y=0;do{if(xr=!1,Br=0,25<=y)throw Error(l(301));y+=1,Ut=Yt=null,i.updateQueue=null,Fs.current=$f,n=a(c,m)}while(xr)}if(Fs.current=ks,i=Yt!==null&&Yt.next!==null,Ii=0,Ut=Yt=It=null,Is=!1,i)throw Error(l(300));return n}function Ta(){var n=Br!==0;return Br=0,n}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?It.memoizedState=Ut=n:Ut=Ut.next=n,Ut}function rn(){if(Yt===null){var n=It.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var i=Ut===null?It.memoizedState:Ut.next;if(i!==null)Ut=i,Yt=n;else{if(n===null)throw Error(l(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ut===null?It.memoizedState=Ut=n:Ut=Ut.next=n}return Ut}function qn(n,i){return typeof i=="function"?i(n):i}function _s(n){var i=rn(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=n;var c=Yt,m=c.baseQueue,y=a.pending;if(y!==null){if(m!==null){var M=m.next;m.next=y.next,y.next=M}c.baseQueue=m=y,a.pending=null}if(m!==null){y=m.next,c=c.baseState;var S=M=null,k=null,N=y;do{var j=N.lane;if((Ii&j)===j)k!==null&&(k=k.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),c=N.hasEagerState?N.eagerState:n(c,N.action);else{var it={lane:j,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};k===null?(S=k=it,M=c):k=k.next=it,It.lanes|=j,Ri|=j}N=N.next}while(N!==null&&N!==y);k===null?M=c:k.next=S,$e(c,i.memoizedState)||(Be=!0),i.memoizedState=c,i.baseState=M,i.baseQueue=k,a.lastRenderedState=c}if(n=a.interleaved,n!==null){m=n;do y=m.lane,It.lanes|=y,Ri|=y,m=m.next;while(m!==n)}else m===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Rs(n){var i=rn(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=n;var c=a.dispatch,m=a.pending,y=i.memoizedState;if(m!==null){a.pending=null;var M=m=m.next;do y=n(y,M.action),M=M.next;while(M!==m);$e(y,i.memoizedState)||(Be=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,c]}function ec(){}function nc(n,i){var a=It,c=rn(),m=i(),y=!$e(c.memoizedState,m);if(y&&(c.memoizedState=m,Be=!0),c=c.queue,Mr(sc.bind(null,a,c,n),[n]),c.getSnapshot!==i||y||Ut!==null&&Ut.memoizedState.tag&1){if(a.flags|=2048,Cr(9,rc.bind(null,a,c,m,i),void 0,null),zt===null)throw Error(l(349));Ii&30||ic(a,i,m)}return m}function ic(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i={lastEffect:null,stores:null},It.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function rc(n,i,a,c){i.value=a,i.getSnapshot=c,oc(i)&&_e(n,1,-1)}function sc(n,i,a){return a(function(){oc(i)&&_e(n,1,-1)})}function oc(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!$e(n,a)}catch{return!0}}function Fa(n){var i=pn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:n},i.queue=n,n=n.dispatch=Yf.bind(null,It,n),[i.memoizedState,n]}function Cr(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=It.updateQueue,i===null?(i={lastEffect:null,stores:null},It.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function ac(){return rn().memoizedState}function Ds(n,i,a,c){var m=pn();It.flags|=n,m.memoizedState=Cr(1|i,a,void 0,c===void 0?null:c)}function Ps(n,i,a,c){var m=rn();c=c===void 0?null:c;var y=void 0;if(Yt!==null){var M=Yt.memoizedState;if(y=M.destroy,c!==null&&Ea(c,M.deps)){m.memoizedState=Cr(i,a,y,c);return}}It.flags|=n,m.memoizedState=Cr(1|i,a,y,c)}function Ia(n,i){return Ds(8390656,8,n,i)}function Mr(n,i){return Ps(2048,8,n,i)}function lc(n,i){return Ps(4,2,n,i)}function uc(n,i){return Ps(4,4,n,i)}function cc(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function hc(n,i,a){return a=a!=null?a.concat([n]):null,Ps(4,4,cc.bind(null,i,n),a)}function _a(){}function dc(n,i){var a=rn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Ea(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function fc(n,i){var a=rn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Ea(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Xf(n,i){var a=gt;gt=a!==0&&4>a?a:4,n(!0);var c=Ie.transition;Ie.transition={};try{n(!1),i()}finally{gt=a,Ie.transition=c}}function pc(){return rn().memoizedState}function Vf(n,i,a){var c=In(n);a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},mc(n)?Ac(i,a):(gc(n,i,a),a=oe(),n=_e(n,c,a),n!==null&&yc(n,i,c))}function Yf(n,i,a){var c=In(n),m={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(n))Ac(i,m);else{gc(n,i,m);var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var M=i.lastRenderedState,S=y(M,a);if(m.hasEagerState=!0,m.eagerState=S,$e(S,M))return}catch{}finally{}a=oe(),n=_e(n,c,a),n!==null&&yc(n,i,c)}}function mc(n){var i=n.alternate;return n===It||i!==null&&i===It}function Ac(n,i){xr=Is=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function gc(n,i,a){zt!==null&&n.mode&1&&!(at&2)?(n=i.interleaved,n===null?(a.next=a,en===null?en=[i]:en.push(i)):(a.next=n.next,n.next=a),i.interleaved=a):(n=i.pending,n===null?a.next=a:(a.next=n.next,n.next=a),i.pending=a)}function yc(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,sa(n,a)}}var ks={readContext:Ee,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},Zf={readContext:Ee,useCallback:function(n,i){return pn().memoizedState=[n,i===void 0?null:i],n},useContext:Ee,useEffect:Ia,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Ds(4194308,4,cc.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Ds(4194308,4,n,i)},useInsertionEffect:function(n,i){return Ds(4,2,n,i)},useMemo:function(n,i){var a=pn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=pn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=Vf.bind(null,It,n),[c.memoizedState,n]},useRef:function(n){var i=pn();return n={current:n},i.memoizedState=n},useState:Fa,useDebugValue:_a,useDeferredValue:function(n){var i=Fa(n),a=i[0],c=i[1];return Ia(function(){var m=Ie.transition;Ie.transition={};try{c(n)}finally{Ie.transition=m}},[n]),a},useTransition:function(){var n=Fa(!1),i=n[0];return n=Xf.bind(null,n[1]),pn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=It,m=pn();if(bt){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),zt===null)throw Error(l(349));Ii&30||ic(c,i,a)}m.memoizedState=a;var y={value:a,getSnapshot:i};return m.queue=y,Ia(sc.bind(null,c,y,n),[n]),c.flags|=2048,Cr(9,rc.bind(null,c,y,a,i),void 0,null),a},useId:function(){var n=pn(),i=zt.identifierPrefix;if(bt){var a=fn,c=dn;a=(c&~(1<<32-Ne(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Br++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Qf++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},qf={readContext:Ee,useCallback:dc,useContext:Ee,useEffect:Mr,useImperativeHandle:hc,useInsertionEffect:lc,useLayoutEffect:uc,useMemo:fc,useReducer:_s,useRef:ac,useState:function(){return _s(qn)},useDebugValue:_a,useDeferredValue:function(n){var i=_s(qn),a=i[0],c=i[1];return Mr(function(){var m=Ie.transition;Ie.transition={};try{c(n)}finally{Ie.transition=m}},[n]),a},useTransition:function(){var n=_s(qn)[0],i=rn().memoizedState;return[n,i]},useMutableSource:ec,useSyncExternalStore:nc,useId:pc,unstable_isNewReconciler:!1},$f={readContext:Ee,useCallback:dc,useContext:Ee,useEffect:Mr,useImperativeHandle:hc,useInsertionEffect:lc,useLayoutEffect:uc,useMemo:fc,useReducer:Rs,useRef:ac,useState:function(){return Rs(qn)},useDebugValue:_a,useDeferredValue:function(n){var i=Rs(qn),a=i[0],c=i[1];return Mr(function(){var m=Ie.transition;Ie.transition={};try{c(n)}finally{Ie.transition=m}},[n]),a},useTransition:function(){var n=Rs(qn)[0],i=rn().memoizedState;return[n,i]},useMutableSource:ec,useSyncExternalStore:nc,useId:pc,unstable_isNewReconciler:!1};function Ra(n,i){try{var a="",c=i;do a+=Wf(c),c=c.return;while(c);var m=a}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:i,stack:m}}function Da(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var tp=typeof WeakMap=="function"?WeakMap:Map;function xc(n,i,a){a=hn(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Zs||(Zs=!0,Za=c),Da(n,i)},a}function Bc(n,i,a){a=hn(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var m=i.value;a.payload=function(){return c(m)},a.callback=function(){Da(n,i)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Da(n,i),typeof c!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var M=i.stack;this.componentDidCatch(i.value,{componentStack:M!==null?M:""})}),a}function Cc(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new tp;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(a)||(m.add(a),n=pp.bind(null,n,i,a),i.then(n,n))}function Mc(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function vc(n,i,a,c,m){return n.mode&1?(n.flags|=65536,n.lanes=m,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=hn(-1,1),i.tag=2,bn(a,i))),a.lanes|=1),n)}function sn(n){n.flags|=4}function wc(n,i){if(n!==null&&n.child===i.child)return!0;if(i.flags&16)return!1;for(n=i.child;n!==null;){if(n.flags&12854||n.subtreeFlags&12854)return!1;n=n.sibling}return!0}var vr,wr,zs,Gs;if(ge)vr=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)nt(n,a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},wr=function(){},zs=function(n,i,a,c,m){if(n=n.memoizedProps,n!==c){var y=i.stateNode,M=nn(Fe.current);a=Rt(y,a,n,c,m,M),(i.updateQueue=a)&&sn(i)}},Gs=function(n,i,a,c){a!==c&&sn(i)};else if(Wn){vr=function(n,i,a,c){for(var m=i.child;m!==null;){if(m.tag===5){var y=m.stateNode;a&&c&&(y=Fu(y,m.type,m.memoizedProps,m)),nt(n,y)}else if(m.tag===6)y=m.stateNode,a&&c&&(y=Iu(y,m.memoizedProps,m)),nt(n,y);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)y=m.child,y!==null&&(y.return=m),vr(n,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===i)break;for(;m.sibling===null;){if(m.return===null||m.return===i)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};var Sc=function(n,i,a,c){for(var m=i.child;m!==null;){if(m.tag===5){var y=m.stateNode;a&&c&&(y=Fu(y,m.type,m.memoizedProps,m)),bu(n,y)}else if(m.tag===6)y=m.stateNode,a&&c&&(y=Iu(y,m.memoizedProps,m)),bu(n,y);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)y=m.child,y!==null&&(y.return=m),Sc(n,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===i)break;for(;m.sibling===null;){if(m.return===null||m.return===i)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};wr=function(n,i){var a=i.stateNode;if(!wc(n,i)){n=a.containerInfo;var c=xi(n);Sc(c,i,!1,!1),a.pendingChildren=c,sn(i),ff(n,c)}},zs=function(n,i,a,c,m){var y=n.stateNode,M=n.memoizedProps;if((n=wc(n,i))&&M===c)i.stateNode=y;else{var S=i.stateNode,k=nn(Fe.current),N=null;M!==c&&(N=Rt(S,a,M,c,m,k)),n&&N===null?i.stateNode=y:(y=Ze(y,N,a,M,c,i,n,S),ce(y,a,c,m,k)&&sn(i),i.stateNode=y,n?sn(i):vr(y,i,!1,!1))}},Gs=function(n,i,a,c){a!==c?(n=nn(Ti.current),a=nn(Fe.current),i.stateNode=wt(c,n,a,i),sn(i)):i.stateNode=n.stateNode}}else wr=function(){},zs=function(){},Gs=function(){};function Sr(n,i){if(!bt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function qt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&14680064,c|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function ep(n,i,a){var c=i.pendingProps;switch(ya(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(i),null;case 1:return de(i.type)&&ds(),qt(i),null;case 3:return c=i.stateNode,Fi(),Et(he),Et(Vt),Sa(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(mr(i)?sn(i):n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Ue!==null&&(tl(Ue),Ue=null))),wr(n,i),qt(i),null;case 5:va(i),a=nn(Ti.current);var m=i.type;if(n!==null&&i.stateNode!=null)zs(n,i,m,c,a),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(l(166));return qt(i),null}if(n=nn(Fe.current),mr(i)){if(!re)throw Error(l(175));n=Cf(i.stateNode,i.type,i.memoizedProps,a,n,i,!pr),i.updateQueue=n,n!==null&&sn(i)}else{var y=W(m,c,a,n,i);vr(y,i,!1,!1),i.stateNode=y,ce(y,m,c,a,n)&&sn(i)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return qt(i),null;case 6:if(n&&i.stateNode!=null)Gs(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(l(166));if(n=nn(Ti.current),a=nn(Fe.current),mr(i)){if(!re)throw Error(l(176));if(n=i.stateNode,c=i.memoizedProps,(a=Mf(n,c,i,!pr))&&(m=ye,m!==null))switch(y=(m.mode&1)!==0,m.tag){case 3:Ff(m.stateNode.containerInfo,n,c,y);break;case 5:If(m.type,m.memoizedProps,m.stateNode,n,c,y)}a&&sn(i)}else i.stateNode=wt(c,n,a,i)}return qt(i),null;case 13:if(Et(Tt),c=i.memoizedState,bt&&xe!==null&&i.mode&1&&!(i.flags&128)){for(n=xe;n;)n=cr(n);return Ei(),i.flags|=98560,i}if(c!==null&&c.dehydrated!==null){if(c=mr(i),n===null){if(!c)throw Error(l(318));if(!re)throw Error(l(344));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));vf(n,i)}else Ei(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;return qt(i),null}return Ue!==null&&(tl(Ue),Ue=null),i.flags&128?(i.lanes=a,i):(c=c!==null,a=!1,n===null?mr(i):a=n.memoizedState!==null,c&&!a&&(i.child.flags|=8192,i.mode&1&&(n===null||Tt.current&1?Nt===0&&(Nt=3):nl())),i.updateQueue!==null&&(i.flags|=4),qt(i),null);case 4:return Fi(),wr(n,i),n===null&&Wo(i.stateNode.containerInfo),qt(i),null;case 10:return da(i.type._context),qt(i),null;case 17:return de(i.type)&&ds(),qt(i),null;case 19:if(Et(Tt),m=i.memoizedState,m===null)return qt(i),null;if(c=(i.flags&128)!==0,y=m.rendering,y===null)if(c)Sr(m,!1);else{if(Nt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(y=Ts(n),y!==null){for(i.flags|=128,Sr(m,!1),n=y.updateQueue,n!==null&&(i.updateQueue=n,i.flags|=4),i.subtreeFlags=0,n=a,c=i.child;c!==null;)a=c,m=n,a.flags&=14680066,y=a.alternate,y===null?(a.childLanes=0,a.lanes=m,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=y.childLanes,a.lanes=y.lanes,a.child=y.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=y.memoizedProps,a.memoizedState=y.memoizedState,a.updateQueue=y.updateQueue,a.type=y.type,m=y.dependencies,a.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),c=c.sibling;return St(Tt,Tt.current&1|2),i.child}n=n.sibling}m.tail!==null&&Ot()>Ya&&(i.flags|=128,c=!0,Sr(m,!1),i.lanes=4194304)}else{if(!c)if(n=Ts(y),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,n!==null&&(i.updateQueue=n,i.flags|=4),Sr(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!bt)return qt(i),null}else 2*Ot()-m.renderingStartTime>Ya&&a!==1073741824&&(i.flags|=128,c=!0,Sr(m,!1),i.lanes=4194304);m.isBackwards?(y.sibling=i.child,i.child=y):(n=m.last,n!==null?n.sibling=y:i.child=y,m.last=y)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ot(),i.sibling=null,n=Tt.current,St(Tt,c?n&1|2:n&1),i):(qt(i),null);case 22:case 23:return el(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?Ce&1073741824&&(qt(i),ge&&i.subtreeFlags&6&&(i.flags|=8192)):qt(i),null;case 24:return null;case 25:return null}throw Error(l(156,i.tag))}var np=h.ReactCurrentOwner,Be=!1;function se(n,i,a,c){i.child=n===null?$u(i,null,a,c):bi(i,n.child,a,c)}function Ec(n,i,a,c,m){a=a.render;var y=i.ref;return vi(i,m),c=ba(n,i,a,c,y,m),a=Ta(),n!==null&&!Be?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,mn(n,i,m)):(bt&&a&&ga(i),i.flags|=1,se(n,i,c,m),i.child)}function bc(n,i,a,c,m){if(n===null){var y=a.type;return typeof y=="function"&&!il(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,Tc(n,i,y,c,m)):(n=ro(a.type,null,c,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!(n.lanes&m)){var M=y.memoizedProps;if(a=a.compare,a=a!==null?a:xs,a(M,c)&&n.ref===i.ref)return mn(n,i,m)}return i.flags|=1,n=Rn(y,c),n.ref=i.ref,n.return=i,i.child=n}function Tc(n,i,a,c,m){if(n!==null&&xs(n.memoizedProps,c)&&n.ref===i.ref)if(Be=!1,(n.lanes&m)!==0)n.flags&131072&&(Be=!0);else return i.lanes=n.lanes,mn(n,i,m);return Pa(n,i,a,c,m)}function Fc(n,i,a){var c=i.pendingProps,m=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null},St(_i,Ce),Ce|=a;else if(a&1073741824)i.memoizedState={baseLanes:0,cachePool:null},c=y!==null?y.baseLanes:a,St(_i,Ce),Ce|=c;else return n=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null},i.updateQueue=null,St(_i,Ce),Ce|=n,null;else y!==null?(c=y.baseLanes|a,i.memoizedState=null):c=a,St(_i,Ce),Ce|=c;return se(n,i,m,a),i.child}function Ic(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Pa(n,i,a,c,m){var y=de(a)?Vn:Vt.current;return y=Ci(i,y),vi(i,m),a=ba(n,i,a,c,y,m),c=Ta(),n!==null&&!Be?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~m,mn(n,i,m)):(bt&&c&&ga(i),i.flags|=1,se(n,i,a,m),i.child)}function _c(n,i,a,c,m){if(de(a)){var y=!0;fs(i)}else y=!1;if(vi(i,m),i.stateNode===null)n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2),Ku(i,a,c),Aa(i,a,c,m),c=!0;else if(n===null){var M=i.stateNode,S=i.memoizedProps;M.props=S;var k=M.context,N=a.contextType;typeof N=="object"&&N!==null?N=Ee(N):(N=de(a)?Vn:Vt.current,N=Ci(i,N));var j=a.getDerivedStateFromProps,it=typeof j=="function"||typeof M.getSnapshotBeforeUpdate=="function";it||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(S!==c||k!==N)&&Wu(i,M,c,N),En=!1;var q=i.memoizedState;M.state=q,vs(i,c,M,m),k=i.memoizedState,S!==c||q!==k||he.current||En?(typeof j=="function"&&(ma(i,a,j,c),k=i.memoizedState),(S=En||ju(i,a,S,c,q,k,N))?(it||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(i.flags|=4194308)):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=k),M.props=c,M.state=k,M.context=N,c=S):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{M=i.stateNode,Nu(n,i),S=i.memoizedProps,N=i.type===i.elementType?S:Oe(i.type,S),M.props=N,it=i.pendingProps,q=M.context,k=a.contextType,typeof k=="object"&&k!==null?k=Ee(k):(k=de(a)?Vn:Vt.current,k=Ci(i,k));var vt=a.getDerivedStateFromProps;(j=typeof vt=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(S!==it||q!==k)&&Wu(i,M,c,k),En=!1,q=i.memoizedState,M.state=q,vs(i,c,M,m);var Y=i.memoizedState;S!==it||q!==Y||he.current||En?(typeof vt=="function"&&(ma(i,a,vt,c),Y=i.memoizedState),(N=En||ju(i,a,N,c,q,Y,k)||!1)?(j||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(c,Y,k),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(c,Y,k)),typeof M.componentDidUpdate=="function"&&(i.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof M.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Y),M.props=c,M.state=Y,M.context=k,c=N):(typeof M.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),c=!1)}return ka(n,i,a,c,y,m)}function ka(n,i,a,c,m,y){Ic(n,i);var M=(i.flags&128)!==0;if(!c&&!M)return m&&ku(i,a,!1),mn(n,i,y);c=i.stateNode,np.current=i;var S=M&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&M?(i.child=bi(i,n.child,null,y),i.child=bi(i,null,S,y)):se(n,i,S,y),i.memoizedState=c.state,m&&ku(i,a,!0),i.child}function Rc(n){var i=n.stateNode;i.pendingContext?Du(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Du(n,i.context,!1),Ma(n,i.containerInfo)}function Dc(n,i,a,c,m){return Ei(),Ca(m),i.flags|=256,se(n,i,a,c),i.child}var Ls={dehydrated:null,treeContext:null,retryLane:0};function Hs(n){return{baseLanes:n,cachePool:null}}function Pc(n,i,a){var c=i.pendingProps,m=Tt.current,y=!1,M=(i.flags&128)!==0,S;if((S=M)||(S=n!==null&&n.memoizedState===null?!1:(m&2)!==0),S?(y=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),St(Tt,m&1),n===null)return Ba(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?qo(n)?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(m=c.children,n=c.fallback,y?(c=i.mode,y=i.child,m={mode:"hidden",children:m},!(c&1)&&y!==null?(y.childLanes=0,y.pendingProps=m):y=so(m,c,0,null),n=ri(n,c,a,null),y.return=i,n.return=i,y.sibling=n,i.child=y,i.child.memoizedState=Hs(a),i.memoizedState=Ls,n):za(i,m));if(m=n.memoizedState,m!==null){if(S=m.dehydrated,S!==null){if(M)return i.flags&256?(i.flags&=-257,Ns(n,i,a,Error(l(422)))):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(y=c.fallback,m=i.mode,c=so({mode:"visible",children:c.children},m,0,null),y=ri(y,m,a,null),y.flags|=2,c.return=i,y.return=i,c.sibling=y,i.child=c,i.mode&1&&bi(i,n.child,null,a),i.child.memoizedState=Hs(a),i.memoizedState=Ls,y);if(!(i.mode&1))i=Ns(n,i,a,null);else if(qo(S))i=Ns(n,i,a,Error(l(419)));else if(c=(a&n.childLanes)!==0,Be||c){if(c=zt,c!==null){switch(a&-a){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}c=y&(c.suspendedLanes|a)?0:y,c!==0&&c!==m.retryLane&&(m.retryLane=c,_e(n,c,-1))}nl(),i=Ns(n,i,a,Error(l(421)))}else _u(S)?(i.flags|=128,i.child=n.child,i=mp.bind(null,n),gf(S,i),i=null):(a=m.treeContext,re&&(xe=Bf(S),ye=i,bt=!0,Ue=null,pr=!1,a!==null&&(be[Te++]=dn,be[Te++]=fn,be[Te++]=Yn,dn=a.id,fn=a.overflow,Yn=i)),i=za(i,i.pendingProps.children),i.flags|=4096);return i}return y?(c=zc(n,i,c.children,c.fallback,a),y=i.child,m=n.child.memoizedState,y.memoizedState=m===null?Hs(a):{baseLanes:m.baseLanes|a,cachePool:null},y.childLanes=n.childLanes&~a,i.memoizedState=Ls,c):(a=kc(n,i,c.children,a),i.memoizedState=null,a)}return y?(c=zc(n,i,c.children,c.fallback,a),y=i.child,m=n.child.memoizedState,y.memoizedState=m===null?Hs(a):{baseLanes:m.baseLanes|a,cachePool:null},y.childLanes=n.childLanes&~a,i.memoizedState=Ls,c):(a=kc(n,i,c.children,a),i.memoizedState=null,a)}function za(n,i){return i=so({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function kc(n,i,a,c){var m=n.child;return n=m.sibling,a=Rn(m,{mode:"visible",children:a}),!(i.mode&1)&&(a.lanes=c),a.return=i,a.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=a}function zc(n,i,a,c,m){var y=i.mode;n=n.child;var M=n.sibling,S={mode:"hidden",children:a};return!(y&1)&&i.child!==n?(a=i.child,a.childLanes=0,a.pendingProps=S,i.deletions=null):(a=Rn(n,S),a.subtreeFlags=n.subtreeFlags&14680064),M!==null?c=Rn(M,c):(c=ri(c,y,m,null),c.flags|=2),c.return=i,a.return=i,a.sibling=c,i.child=a,c}function Ns(n,i,a,c){return c!==null&&Ca(c),bi(i,n.child,null,a),n=za(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Gc(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),fa(n.return,i,a)}function Ga(n,i,a,c,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=m)}function Lc(n,i,a){var c=i.pendingProps,m=c.revealOrder,y=c.tail;if(se(n,i,c.children,a),c=Tt.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gc(n,a,i);else if(n.tag===19)Gc(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(St(Tt,c),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(a=i.child,m=null;a!==null;)n=a.alternate,n!==null&&Ts(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=i.child,i.child=null):(m=a.sibling,a.sibling=null),Ga(i,!1,m,a,y);break;case"backwards":for(a=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&Ts(n)===null){i.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}Ga(i,!0,a,null,y);break;case"together":Ga(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mn(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ri|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(l(153));if(i.child!==null){for(n=i.child,a=Rn(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Rn(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function ip(n,i,a){switch(i.tag){case 3:Rc(i),Ei();break;case 5:tc(i);break;case 1:de(i.type)&&fs(i);break;case 4:Ma(i,i.stateNode.containerInfo);break;case 10:Hu(i,i.type._context,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(St(Tt,Tt.current&1),i.flags|=128,null):a&i.child.childLanes?Pc(n,i,a):(St(Tt,Tt.current&1),n=mn(n,i,a),n!==null?n.sibling:null);St(Tt,Tt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return Lc(n,i,a);i.flags|=128}var m=i.memoizedState;if(m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),St(Tt,Tt.current),c)break;return null;case 22:case 23:return i.lanes=0,Fc(n,i,a)}return mn(n,i,a)}function rp(n,i){switch(ya(i),i.tag){case 1:return de(i.type)&&ds(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Fi(),Et(he),Et(Vt),Sa(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return va(i),null;case 13:if(Et(Tt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Ei()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Et(Tt),null;case 4:return Fi(),null;case 10:return da(i.type._context),null;case 22:case 23:return el(),null;case 24:return null;default:return null}}var Os=!1,$n=!1,sp=typeof WeakSet=="function"?WeakSet:Set,U=null;function Us(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){me(n,i,c)}else a.current=null}function La(n,i,a){try{a()}catch(c){me(n,i,c)}}var Hc=!1;function op(n,i){for(G(n.containerInfo),U=i;U!==null;)if(n=U,i=n.child,(n.subtreeFlags&1028)!==0&&i!==null)i.return=n,U=i;else for(;U!==null;){n=U;try{var a=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(a!==null){var c=a.memoizedProps,m=a.memoizedState,y=n.stateNode,M=y.getSnapshotBeforeUpdate(n.elementType===n.type?c:Oe(n.type,c),m);y.__reactInternalSnapshotBeforeUpdate=M}break;case 3:ge&&Xn(n.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(S){me(n,n.return,S)}if(i=n.sibling,i!==null){i.return=n.return,U=i;break}U=n.return}return a=Hc,Hc=!1,a}function ti(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&n)===n){var y=m.destroy;m.destroy=void 0,y!==void 0&&La(i,a,y)}m=m.next}while(m!==c)}}function Er(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Ha(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=Ct(a);break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Nc(n,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(gs,i)}catch{}switch(i.tag){case 0:case 11:case 14:case 15:if(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var c=n=n.next;do{var m=c,y=m.destroy;m=m.tag,y!==void 0&&(m&2||m&4)&&La(i,a,y),c=c.next}while(c!==n)}break;case 1:if(Us(i,a),n=i.stateNode,typeof n.componentWillUnmount=="function")try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(M){me(i,a,M)}break;case 5:Us(i,a);break;case 4:ge?Wc(n,i,a):Wn&&Wn&&(i=i.stateNode.containerInfo,a=xi(i),Tu(i,a))}}function Oc(n,i,a){for(var c=i;;)if(Nc(n,c,a),c.child===null||ge&&c.tag===4){if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}else c.child.return=c,c=c.child}function Uc(n){var i=n.alternate;i!==null&&(n.alternate=null,Uc(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Le(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Jc(n){return n.tag===5||n.tag===3||n.tag===4}function jc(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Jc(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Kc(n){if(ge){t:{for(var i=n.return;i!==null;){if(Jc(i))break t;i=i.return}throw Error(l(160))}var a=i;switch(a.tag){case 5:i=a.stateNode,a.flags&32&&(At(i),a.flags&=-33),a=jc(n),Oa(n,a,i);break;case 3:case 4:i=a.stateNode.containerInfo,a=jc(n),Na(n,a,i);break;default:throw Error(l(161))}}}function Na(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?ur(a,n,i):gi(a,n);else if(c!==4&&(n=n.child,n!==null))for(Na(n,i,a),n=n.sibling;n!==null;)Na(n,i,a),n=n.sibling}function Oa(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?Zo(a,n,i):cs(a,n);else if(c!==4&&(n=n.child,n!==null))for(Oa(n,i,a),n=n.sibling;n!==null;)Oa(n,i,a),n=n.sibling}function Wc(n,i,a){for(var c=i,m=!1,y,M;;){if(!m){m=c.return;t:for(;;){if(m===null)throw Error(l(160));switch(y=m.stateNode,m.tag){case 5:M=!1;break t;case 3:y=y.containerInfo,M=!0;break t;case 4:y=y.containerInfo,M=!0;break t}m=m.return}m=!0}if(c.tag===5||c.tag===6)Oc(n,c,a),M?tt(y,c.stateNode):K(y,c.stateNode);else if(c.tag===18)M?bf(y,c.stateNode):Ef(y,c.stateNode);else if(c.tag===4){if(c.child!==null){y=c.stateNode.containerInfo,M=!0,c.child.return=c,c=c.child;continue}}else if(Nc(n,c,a),c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return,c.tag===4&&(m=!1)}c.sibling.return=c.return,c=c.sibling}}function Ua(n,i){if(ge){switch(i.tag){case 0:case 11:case 14:case 15:ti(3,i,i.return),Er(3,i),ti(5,i,i.return);return;case 1:return;case 5:var a=i.stateNode;if(a!=null){var c=i.memoizedProps;n=n!==null?n.memoizedProps:c;var m=i.type,y=i.updateQueue;i.updateQueue=null,y!==null&&Yo(a,y,m,n,c,i)}return;case 6:if(i.stateNode===null)throw Error(l(162));a=i.memoizedProps,hs(i.stateNode,n!==null?n.memoizedProps:a,a);return;case 3:re&&n!==null&&n.memoizedState.isDehydrated&&Ru(i.stateNode.containerInfo);return;case 12:return;case 13:Js(i);return;case 19:Js(i);return;case 17:return}throw Error(l(163))}switch(i.tag){case 0:case 11:case 14:case 15:ti(3,i,i.return),Er(3,i),ti(5,i,i.return);return;case 12:return;case 13:Js(i);return;case 19:Js(i);return;case 3:re&&n!==null&&n.memoizedState.isDehydrated&&Ru(i.stateNode.containerInfo);break;case 22:case 23:return}t:if(Wn){switch(i.tag){case 1:case 5:case 6:break t;case 3:case 4:i=i.stateNode,Tu(i.containerInfo,i.pendingChildren);break t}throw Error(l(163))}}function Js(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new sp),i.forEach(function(c){var m=Ap.bind(null,n,c);a.has(c)||(a.add(c),c.then(m,m))})}}function ap(n,i){for(U=i;U!==null;){i=U;var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c];try{var y=n;ge?Wc(y,m,i):Oc(y,m,i);var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(Q){me(m,i,Q)}}if(a=i.child,i.subtreeFlags&12854&&a!==null)a.return=i,U=a;else for(;U!==null;){i=U;try{var S=i.flags;if(S&32&&ge&&At(i.stateNode),S&512){var k=i.alternate;if(k!==null){var N=k.ref;N!==null&&(typeof N=="function"?N(null):N.current=null)}}if(S&8192)switch(i.tag){case 13:if(i.memoizedState!==null){var j=i.alternate;(j===null||j.memoizedState===null)&&(Va=Ot())}break;case 22:var it=i.memoizedState!==null,q=i.alternate,vt=q!==null&&q.memoizedState!==null;if(a=i,ge){t:if(c=a,m=it,y=null,ge)for(var Y=c;;){if(Y.tag===5){if(y===null){y=Y;var $t=Y.stateNode;m?mt($t):Kt(Y.stateNode,Y.memoizedProps)}}else if(Y.tag===6){if(y===null){var De=Y.stateNode;m?Ft(De):Se(De,Y.memoizedProps)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===c)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===c)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===c)break t;y===Y&&(y=null),Y=Y.return}y===Y&&(y=null),Y.sibling.return=Y.return,Y=Y.sibling}}if(it&&!vt&&a.mode&1){U=a;for(var T=a.child;T!==null;){for(a=U=T;U!==null;){c=U;var b=c.child;switch(c.tag){case 0:case 11:case 14:case 15:ti(4,c,c.return);break;case 1:Us(c,c.return);var P=c.stateNode;if(typeof P.componentWillUnmount=="function"){var J=c.return;try{P.props=c.memoizedProps,P.state=c.memoizedState,P.componentWillUnmount()}catch(Q){me(c,J,Q)}}break;case 5:Us(c,c.return);break;case 22:if(c.memoizedState!==null){Vc(a);continue}}b!==null?(b.return=c,U=b):Vc(a)}T=T.sibling}}}switch(S&4102){case 2:Kc(i),i.flags&=-3;break;case 6:Kc(i),i.flags&=-3,Ua(i.alternate,i);break;case 4096:i.flags&=-4097;break;case 4100:i.flags&=-4097,Ua(i.alternate,i);break;case 4:Ua(i.alternate,i)}}catch(Q){me(i,i.return,Q)}if(a=i.sibling,a!==null){a.return=i.return,U=a;break}U=i.return}}}function lp(n,i,a){U=n,Qc(n)}function Qc(n,i,a){for(var c=(n.mode&1)!==0;U!==null;){var m=U,y=m.child;if(m.tag===22&&c){var M=m.memoizedState!==null||Os;if(!M){var S=m.alternate,k=S!==null&&S.memoizedState!==null||$n;S=Os;var N=$n;if(Os=M,($n=k)&&!N)for(U=m;U!==null;)M=U,k=M.child,M.tag===22&&M.memoizedState!==null?Yc(m):k!==null?(k.return=M,U=k):Yc(m);for(;y!==null;)U=y,Qc(y),y=y.sibling;U=m,Os=S,$n=N}Xc(n)}else m.subtreeFlags&8772&&y!==null?(y.return=m,U=y):Xc(n)}}function Xc(n){for(;U!==null;){var i=U;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:$n||Er(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!$n)if(a===null)c.componentDidMount();else{var m=i.elementType===i.type?a.memoizedProps:Oe(i.type,a.memoizedProps);c.componentDidUpdate(m,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Uu(i,y,c);break;case 3:var M=i.updateQueue;if(M!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=Ct(i.child.stateNode);break;case 1:a=i.child.stateNode}Uu(i,M,a)}break;case 5:var S=i.stateNode;a===null&&i.flags&4&&yi(S,i.type,i.memoizedProps,i);break;case 6:break;case 4:break;case 12:break;case 13:if(re&&i.memoizedState===null){var k=i.alternate;if(k!==null){var N=k.memoizedState;if(N!==null){var j=N.dehydrated;j!==null&&Sf(j)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(l(163))}$n||i.flags&512&&Ha(i)}catch(it){me(i,i.return,it)}}if(i===n){U=null;break}if(a=i.sibling,a!==null){a.return=i.return,U=a;break}U=i.return}}function Vc(n){for(;U!==null;){var i=U;if(i===n){U=null;break}var a=i.sibling;if(a!==null){a.return=i.return,U=a;break}U=i.return}}function Yc(n){for(;U!==null;){var i=U;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Er(4,i)}catch(k){me(i,a,k)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var m=i.return;try{c.componentDidMount()}catch(k){me(i,m,k)}}var y=i.return;try{Ha(i)}catch(k){me(i,y,k)}break;case 5:var M=i.return;try{Ha(i)}catch(k){me(i,M,k)}}}catch(k){me(i,i.return,k)}if(i===n){U=null;break}var S=i.sibling;if(S!==null){S.return=i.return,U=S;break}U=i.return}}var js=0,Ks=1,Ws=2,Qs=3,Xs=4;if(typeof Symbol=="function"&&Symbol.for){var br=Symbol.for;js=br("selector.component"),Ks=br("selector.has_pseudo_class"),Ws=br("selector.role"),Qs=br("selector.test_id"),Xs=br("selector.text")}function Ja(n){var i=ss(n);if(i!=null){if(typeof i.memoizedProps["data-testname"]!="string")throw Error(l(364));return i}if(n=lr(n),n===null)throw Error(l(362));return n.stateNode.current}function ja(n,i){switch(i.$$typeof){case js:if(n.type===i.value)return!0;break;case Ks:t:{i=i.value,n=[n,0];for(var a=0;a<n.length;){var c=n[a++],m=n[a++],y=i[m];if(c.tag!==5||!Qn(c)){for(;y!=null&&ja(c,y);)m++,y=i[m];if(m===i.length){i=!0;break t}else for(c=c.child;c!==null;)n.push(c,m),c=c.sibling}}i=!1}return i;case Ws:if(n.tag===5&&Qo(n.stateNode,i.value))return!0;break;case Xs:if((n.tag===5||n.tag===6)&&(n=us(n),n!==null&&0<=n.indexOf(i.value)))return!0;break;case Qs:if(n.tag===5&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===i.value.toLowerCase()))return!0;break;default:throw Error(l(365))}return!1}function Ka(n){switch(n.$$typeof){case js:return"<"+(H(n.value)||"Unknown")+">";case Ks:return":has("+(Ka(n)||"")+")";case Ws:return'[role="'+n.value+'"]';case Xs:return'"'+n.value+'"';case Qs:return'[data-testname="'+n.value+'"]';default:throw Error(l(365))}}function Zc(n,i){var a=[];n=[n,0];for(var c=0;c<n.length;){var m=n[c++],y=n[c++],M=i[y];if(m.tag!==5||!Qn(m)){for(;M!=null&&ja(m,M);)y++,M=i[y];if(y===i.length)a.push(m);else for(m=m.child;m!==null;)n.push(m,y),m=m.sibling}}return a}function Wa(n,i){if(!He)throw Error(l(363));n=Ja(n),n=Zc(n,i),i=[],n=Array.from(n);for(var a=0;a<n.length;){var c=n[a++];if(c.tag===5)Qn(c)||i.push(c.stateNode);else for(c=c.child;c!==null;)n.push(c),c=c.sibling}return i}var up=Math.ceil,Vs=h.ReactCurrentDispatcher,Qa=h.ReactCurrentOwner,Dt=h.ReactCurrentBatchConfig,at=0,zt=null,Gt=null,Wt=0,Ce=0,_i=wn(0),Nt=0,Tr=null,Ri=0,Ys=0,Xa=0,Fr=null,fe=null,Va=0,Ya=1/0;function Di(){Ya=Ot()+500}var Zs=!1,Za=null,Tn=null,qs=!1,Fn=null,$s=0,Ir=0,qa=null,to=-1,eo=0;function oe(){return at&6?Ot():to!==-1?to:to=Ot()}function In(n){return n.mode&1?at&2&&Wt!==0?Wt&-Wt:Kf.transition!==null?(eo===0&&(n=ps,ps<<=1,!(ps&4194240)&&(ps=64),eo=n),eo):(n=gt,n!==0?n:os()):1}function _e(n,i,a){if(50<Ir)throw Ir=0,qa=null,Error(l(185));var c=no(n,i);return c===null?null:(fr(c,i,a),(!(at&2)||c!==zt)&&(c===zt&&(!(at&2)&&(Ys|=i),Nt===4&&_n(c,Wt)),pe(c,a),i===1&&at===0&&!(n.mode&1)&&(Di(),ys&&tn())),c)}function no(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}function pe(n,i){var a=n.callbackNode;zf(n,i);var c=As(n,n===zt?Wt:0);if(c===0)a!==null&&Gu(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Gu(a),i===1)n.tag===0?jf($c.bind(null,n)):Lu($c.bind(null,n)),un?as(function(){at===0&&tn()}):oa(aa,tn),a=null;else{switch(zu(c)){case 1:a=aa;break;case 4:a=Nf;break;case 16:a=la;break;case 536870912:a=Of;break;default:a=la}a=lh(a,qc.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function qc(n,i){if(to=-1,eo=0,at&6)throw Error(l(327));var a=n.callbackNode;if(ii()&&n.callbackNode!==a)return null;var c=As(n,n===zt?Wt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=io(n,c);else{i=c;var m=at;at|=2;var y=nh();(zt!==n||Wt!==i)&&(Di(),ei(n,i));do try{dp();break}catch(S){eh(n,S)}while(1);ha(),Vs.current=y,at=m,Gt!==null?i=0:(zt=null,Wt=0,i=Nt)}if(i!==0){if(i===2&&(m=ia(n),m!==0&&(c=m,i=$a(n,m))),i===1)throw a=Tr,ei(n,0),_n(n,c),pe(n,Ot()),a;if(i===6)_n(n,c);else{if(m=n.current.alternate,!(c&30)&&!cp(m)&&(i=io(n,c),i===2&&(y=ia(n),y!==0&&(c=y,i=$a(n,y))),i===1))throw a=Tr,ei(n,0),_n(n,c),pe(n,Ot()),a;switch(n.finishedWork=m,n.finishedLanes=c,i){case 0:case 1:throw Error(l(345));case 2:ni(n,fe);break;case 3:if(_n(n,c),(c&130023424)===c&&(i=Va+500-Ot(),10<i)){if(As(n,0)!==0)break;if(m=n.suspendedLanes,(m&c)!==c){oe(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=ie(ni.bind(null,n,fe),i);break}ni(n,fe);break;case 4:if(_n(n,c),(c&4194240)===c)break;for(i=n.eventTimes,m=-1;0<c;){var M=31-Ne(c);y=1<<M,M=i[M],M>m&&(m=M),c&=~y}if(c=m,c=Ot()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*up(c/1960))-c,10<c){n.timeoutHandle=ie(ni.bind(null,n,fe),c);break}ni(n,fe);break;case 5:ni(n,fe);break;default:throw Error(l(329))}}}return pe(n,Ot()),n.callbackNode===a?qc.bind(null,n):null}function $a(n,i){var a=Fr;return n.current.memoizedState.isDehydrated&&(ei(n,i).flags|=256),n=io(n,i),n!==2&&(i=fe,fe=a,i!==null&&tl(i)),n}function tl(n){fe===null?fe=n:fe.push.apply(fe,n)}function cp(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var m=a[c],y=m.getSnapshot;m=m.value;try{if(!$e(y(),m))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _n(n,i){for(i&=~Xa,i&=~Ys,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Ne(i),c=1<<a;n[a]=-1,i&=~c}}function $c(n){if(at&6)throw Error(l(327));ii();var i=As(n,0);if(!(i&1))return pe(n,Ot()),null;var a=io(n,i);if(n.tag!==0&&a===2){var c=ia(n);c!==0&&(i=c,a=$a(n,c))}if(a===1)throw a=Tr,ei(n,0),_n(n,i),pe(n,Ot()),a;if(a===6)throw Error(l(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ni(n,fe),pe(n,Ot()),null}function th(n){Fn!==null&&Fn.tag===0&&!(at&6)&&ii();var i=at;at|=1;var a=Dt.transition,c=gt;try{if(Dt.transition=null,gt=1,n)return n()}finally{gt=c,Dt.transition=a,at=i,!(at&6)&&tn()}}function el(){Ce=_i.current,Et(_i)}function ei(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==ar&&(n.timeoutHandle=ar,rs(a)),Gt!==null)for(a=Gt.return;a!==null;){var c=a;switch(ya(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ds();break;case 3:Fi(),Et(he),Et(Vt),Sa();break;case 5:va(c);break;case 4:Fi();break;case 13:Et(Tt);break;case 19:Et(Tt);break;case 10:da(c.type._context);break;case 22:case 23:el()}a=a.return}if(zt=n,Gt=n=Rn(n.current,null),Wt=Ce=i,Nt=0,Tr=null,Xa=Ys=Ri=0,fe=Fr=null,en!==null){for(i=0;i<en.length;i++)if(a=en[i],c=a.interleaved,c!==null){a.interleaved=null;var m=c.next,y=a.pending;if(y!==null){var M=y.next;y.next=m,c.next=M}a.pending=c}en=null}return n}function eh(n,i){do{var a=Gt;try{if(ha(),Fs.current=ks,Is){for(var c=It.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}Is=!1}if(Ii=0,Ut=Yt=It=null,xr=!1,Br=0,Qa.current=null,a===null||a.return===null){Nt=1,Tr=i,Gt=null;break}t:{var y=n,M=a.return,S=a,k=i;if(i=Wt,S.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var N=k,j=S,it=j.tag;if(!(j.mode&1)&&(it===0||it===11||it===15)){var q=j.alternate;q?(j.updateQueue=q.updateQueue,j.memoizedState=q.memoizedState,j.lanes=q.lanes):(j.updateQueue=null,j.memoizedState=null)}var vt=Mc(M);if(vt!==null){vt.flags&=-257,vc(vt,M,S,y,i),vt.mode&1&&Cc(y,N,i),i=vt,k=N;var Y=i.updateQueue;if(Y===null){var $t=new Set;$t.add(k),i.updateQueue=$t}else Y.add(k);break t}else{if(!(i&1)){Cc(y,N,i),nl();break t}k=Error(l(426))}}else if(bt&&S.mode&1){var De=Mc(M);if(De!==null){!(De.flags&65536)&&(De.flags|=256),vc(De,M,S,y,i),Ca(k);break t}}y=k,Nt!==4&&(Nt=2),Fr===null?Fr=[y]:Fr.push(y),k=Ra(k,S),S=M;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var T=xc(S,k,i);Ou(S,T);break t;case 1:y=k;var b=S.type,P=S.stateNode;if(!(S.flags&128)&&(typeof b.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Tn===null||!Tn.has(P)))){S.flags|=65536,i&=-i,S.lanes|=i;var J=Bc(S,y,i);Ou(S,J);break t}}S=S.return}while(S!==null)}rh(a)}catch(Q){i=Q,Gt===a&&a!==null&&(Gt=a=a.return);continue}break}while(1)}function nh(){var n=Vs.current;return Vs.current=ks,n===null?ks:n}function nl(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),zt===null||!(Ri&268435455)&&!(Ys&268435455)||_n(zt,Wt)}function io(n,i){var a=at;at|=2;var c=nh();zt===n&&Wt===i||ei(n,i);do try{hp();break}catch(m){eh(n,m)}while(1);if(ha(),at=a,Vs.current=c,Gt!==null)throw Error(l(261));return zt=null,Wt=0,Nt}function hp(){for(;Gt!==null;)ih(Gt)}function dp(){for(;Gt!==null&&!Lf();)ih(Gt)}function ih(n){var i=ah(n.alternate,n,Ce);n.memoizedProps=n.pendingProps,i===null?rh(n):Gt=i,Qa.current=null}function rh(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=rp(a,i),a!==null){a.flags&=32767,Gt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nt=6,Gt=null;return}}else if(a=ep(a,i,Ce),a!==null){Gt=a;return}if(i=i.sibling,i!==null){Gt=i;return}Gt=i=n}while(i!==null);Nt===0&&(Nt=5)}function ni(n,i){var a=gt,c=Dt.transition;try{Dt.transition=null,gt=1,fp(n,i,a)}finally{Dt.transition=c,gt=a}return null}function fp(n,i,a){do ii();while(Fn!==null);if(at&6)throw Error(l(327));var c=n.finishedWork,m=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(l(177));n.callbackNode=null,n.callbackPriority=0;var y=c.lanes|c.childLanes;if(Gf(n,y),n===zt&&(Gt=zt=null,Wt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||qs||(qs=!0,lh(la,function(){return ii(),null})),y=(c.flags&15990)!==0,c.subtreeFlags&15990||y){y=Dt.transition,Dt.transition=null;var M=gt;gt=1;var S=at;at|=4,Qa.current=null,op(n,c),ap(n,c),L(n.containerInfo),n.current=c,lp(c),Hf(),at=S,gt=M,Dt.transition=y}else n.current=c;if(qs&&(qs=!1,Fn=n,$s=m),y=n.pendingLanes,y===0&&(Tn=null),Uf(c.stateNode),pe(n,Ot()),i!==null)for(a=n.onRecoverableError,c=0;c<i.length;c++)a(i[c]);if(Zs)throw Zs=!1,n=Za,Za=null,n;return $s&1&&n.tag!==0&&ii(),y=n.pendingLanes,y&1?n===qa?Ir++:(Ir=0,qa=n):Ir=0,tn(),null}function ii(){if(Fn!==null){var n=zu($s),i=Dt.transition,a=gt;try{if(Dt.transition=null,gt=16>n?16:n,Fn===null)var c=!1;else{if(n=Fn,Fn=null,$s=0,at&6)throw Error(l(331));var m=at;for(at|=4,U=n.current;U!==null;){var y=U,M=y.child;if(U.flags&16){var S=y.deletions;if(S!==null){for(var k=0;k<S.length;k++){var N=S[k];for(U=N;U!==null;){var j=U;switch(j.tag){case 0:case 11:case 15:ti(8,j,y)}var it=j.child;if(it!==null)it.return=j,U=it;else for(;U!==null;){j=U;var q=j.sibling,vt=j.return;if(Uc(j),j===N){U=null;break}if(q!==null){q.return=vt,U=q;break}U=vt}}}var Y=y.alternate;if(Y!==null){var $t=Y.child;if($t!==null){Y.child=null;do{var De=$t.sibling;$t.sibling=null,$t=De}while($t!==null)}}U=y}}if(y.subtreeFlags&2064&&M!==null)M.return=y,U=M;else t:for(;U!==null;){if(y=U,y.flags&2048)switch(y.tag){case 0:case 11:case 15:ti(9,y,y.return)}var T=y.sibling;if(T!==null){T.return=y.return,U=T;break t}U=y.return}}var b=n.current;for(U=b;U!==null;){M=U;var P=M.child;if(M.subtreeFlags&2064&&P!==null)P.return=M,U=P;else t:for(M=b;U!==null;){if(S=U,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Er(9,S)}}catch(Q){me(S,S.return,Q)}if(S===M){U=null;break t}var J=S.sibling;if(J!==null){J.return=S.return,U=J;break t}U=S.return}}if(at=m,tn(),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(gs,n)}catch{}c=!0}return c}finally{gt=a,Dt.transition=i}}return!1}function sh(n,i,a){i=Ra(a,i),i=xc(n,i,1),bn(n,i),i=oe(),n=no(n,1),n!==null&&(fr(n,1,i),pe(n,i))}function me(n,i,a){if(n.tag===3)sh(n,n,a);else for(;i!==null;){if(i.tag===3){sh(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Tn===null||!Tn.has(c))){n=Ra(a,n),n=Bc(i,n,1),bn(i,n),n=oe(),i=no(i,1),i!==null&&(fr(i,1,n),pe(i,n));break}}i=i.return}}function pp(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=oe(),n.pingedLanes|=n.suspendedLanes&a,zt===n&&(Wt&a)===a&&(Nt===4||Nt===3&&(Wt&130023424)===Wt&&500>Ot()-Va?ei(n,0):Xa|=a),pe(n,i)}function oh(n,i){i===0&&(n.mode&1?(i=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):i=1);var a=oe();n=no(n,i),n!==null&&(fr(n,i,a),pe(n,a))}function mp(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),oh(n,a)}function Ap(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(l(314))}c!==null&&c.delete(i),oh(n,a)}var ah;ah=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||he.current)Be=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Be=!1,ip(n,i,a);Be=!!(n.flags&131072)}else Be=!1,bt&&i.flags&1048576&&Qu(i,Es,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2),n=i.pendingProps;var m=Ci(i,Vt.current);vi(i,a),m=ba(null,i,c,n,m,a);var y=Ta();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,de(c)?(y=!0,fs(i)):y=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,pa(i),m.updater=ws,i.stateNode=m,m._reactInternals=i,Aa(i,c,n,a),i=ka(null,i,c,!0,y,a)):(i.tag=0,bt&&y&&ga(i),se(null,i,m,a),i=i.child),i;case 16:c=i.elementType;t:{switch(n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2),n=i.pendingProps,m=c._init,c=m(c._payload),i.type=c,m=i.tag=yp(c),n=Oe(c,n),m){case 0:i=Pa(null,i,c,n,a);break t;case 1:i=_c(null,i,c,n,a);break t;case 11:i=Ec(null,i,c,n,a);break t;case 14:i=bc(null,i,c,Oe(c.type,n),a);break t}throw Error(l(306,c,""))}return i;case 0:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Oe(c,m),Pa(n,i,c,m,a);case 1:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Oe(c,m),_c(n,i,c,m,a);case 3:t:{if(Rc(i),n===null)throw Error(l(387));c=i.pendingProps,y=i.memoizedState,m=y.element,Nu(n,i),vs(i,c,null,a);var M=i.memoizedState;if(c=M.element,re&&y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:M.cache,transitions:M.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){m=Error(l(423)),i=Dc(n,i,c,a,m);break t}else if(c!==m){m=Error(l(424)),i=Dc(n,i,c,a,m);break t}else for(re&&(xe=xf(i.stateNode.containerInfo),ye=i,bt=!0,Ue=null,pr=!1),a=$u(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ei(),c===m){i=mn(n,i,a);break t}se(n,i,c,a)}i=i.child}return i;case 5:return tc(i),n===null&&Ba(i),c=i.type,m=i.pendingProps,y=n!==null?n.memoizedProps:null,M=m.children,Ae(c,m)?M=null:y!==null&&Ae(c,y)&&(i.flags|=32),Ic(n,i),se(n,i,M,a),i.child;case 6:return n===null&&Ba(i),null;case 13:return Pc(n,i,a);case 4:return Ma(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=bi(i,null,c,a):se(n,i,c,a),i.child;case 11:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Oe(c,m),Ec(n,i,c,m,a);case 7:return se(n,i,i.pendingProps,a),i.child;case 8:return se(n,i,i.pendingProps.children,a),i.child;case 12:return se(n,i,i.pendingProps.children,a),i.child;case 10:t:{if(c=i.type._context,m=i.pendingProps,y=i.memoizedProps,M=m.value,Hu(i,c,M),y!==null)if($e(y.value,M)){if(y.children===m.children&&!he.current){i=mn(n,i,a);break t}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var S=y.dependencies;if(S!==null){M=y.child;for(var k=S.firstContext;k!==null;){if(k.context===c){if(y.tag===1){k=hn(-1,a&-a),k.tag=2;var N=y.updateQueue;if(N!==null){N=N.shared;var j=N.pending;j===null?k.next=k:(k.next=j.next,j.next=k),N.pending=k}}y.lanes|=a,k=y.alternate,k!==null&&(k.lanes|=a),fa(y.return,a,i),S.lanes|=a;break}k=k.next}}else if(y.tag===10)M=y.type===i.type?null:y.child;else if(y.tag===18){if(M=y.return,M===null)throw Error(l(341));M.lanes|=a,S=M.alternate,S!==null&&(S.lanes|=a),fa(M,a,i),M=y.sibling}else M=y.child;if(M!==null)M.return=y;else for(M=y;M!==null;){if(M===i){M=null;break}if(y=M.sibling,y!==null){y.return=M.return,M=y;break}M=M.return}y=M}se(n,i,m.children,a),i=i.child}return i;case 9:return m=i.type,c=i.pendingProps.children,vi(i,a),m=Ee(m),c=c(m),i.flags|=1,se(n,i,c,a),i.child;case 14:return c=i.type,m=Oe(c,i.pendingProps),m=Oe(c.type,m),bc(n,i,c,m,a);case 15:return Tc(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:Oe(c,m),n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2),i.tag=1,de(c)?(n=!0,fs(i)):n=!1,vi(i,a),Ku(i,c,m),Aa(i,c,m,a),ka(null,i,c,!0,n,a);case 19:return Lc(n,i,a);case 22:return Fc(n,i,a)}throw Error(l(156,i.tag))};function lh(n,i){return oa(n,i)}function gp(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Re(n,i,a,c){return new gp(n,i,a,c)}function il(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yp(n){if(typeof n=="function")return il(n)?1:0;if(n!=null){if(n=n.$$typeof,n===C)return 11;if(n===_)return 14}return 2}function Rn(n,i){var a=n.alternate;return a===null?(a=Re(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function ro(n,i,a,c,m,y){var M=2;if(c=n,typeof n=="function")il(n)&&(M=1);else if(typeof n=="string")M=5;else t:switch(n){case f:return ri(a.children,m,y,i);case A:M=8,m|=8;break;case g:return n=Re(12,a,i,m|2),n.elementType=g,n.lanes=y,n;case v:return n=Re(13,a,i,m),n.elementType=v,n.lanes=y,n;case w:return n=Re(19,a,i,m),n.elementType=w,n.lanes=y,n;case D:return so(a,m,y,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:M=10;break t;case B:M=9;break t;case C:M=11;break t;case _:M=14;break t;case F:M=16,c=null;break t}throw Error(l(130,n==null?n:typeof n,""))}return i=Re(M,a,i,m),i.elementType=n,i.type=c,i.lanes=y,i}function ri(n,i,a,c){return n=Re(7,n,c,i),n.lanes=a,n}function so(n,i,a,c){return n=Re(22,n,c,i),n.elementType=D,n.lanes=a,n.stateNode={},n}function rl(n,i,a){return n=Re(6,n,null,i),n.lanes=a,n}function sl(n,i,a){return i=Re(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function xp(n,i,a,c,m){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ar,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=c,this.onRecoverableError=m,re&&(this.mutableSourceEagerHydrationData=null)}function uh(n,i,a,c,m,y,M,S,k){return n=new xp(n,i,a,S,k),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Re(3,null,null,i),n.current=y,y.stateNode=n,y.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null},pa(y),n}function ch(n){if(!n)return Sn;n=n._reactInternals;t:{if(lt(n)!==n||n.tag!==1)throw Error(l(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break t;case 1:if(de(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break t}}i=i.return}while(i!==null);throw Error(l(171))}if(n.tag===1){var a=n.type;if(de(a))return Pu(n,a,i)}return i}function hh(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=ut(i),n===null?null:n.stateNode}function dh(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function ol(n,i){dh(n,i),(n=n.alternate)&&dh(n,i)}function Bp(n){return n=ut(n),n===null?null:n.stateNode}function Cp(){return null}return e.attemptContinuousHydration=function(n){if(n.tag===13){var i=oe();_e(n,134217728,i),ol(n,134217728)}},e.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var i=oe(),a=In(n);_e(n,a,i),ol(n,a)}},e.attemptSynchronousHydration=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=dr(i.pendingLanes);a!==0&&(sa(i,a|1),pe(i,Ot()),!(at&6)&&(Di(),tn()))}break;case 13:var c=oe();th(function(){return _e(n,1,c)}),ol(n,1)}},e.batchedUpdates=function(n,i){var a=at;at|=1;try{return n(i)}finally{at=a,at===0&&(Di(),ys&&tn())}},e.createComponentSelector=function(n){return{$$typeof:js,value:n}},e.createContainer=function(n,i,a,c,m,y,M){return uh(n,i,!1,null,a,c,m,y,M)},e.createHasPseudoClassSelector=function(n){return{$$typeof:Ks,value:n}},e.createHydrationContainer=function(n,i,a,c,m,y,M,S,k){return n=uh(a,c,!0,n,m,y,M,S,k),n.context=ch(null),a=n.current,c=oe(),m=In(a),y=hn(c,m),y.callback=i??null,bn(a,y),n.current.lanes=m,fr(n,m,c),pe(n,c),n},e.createPortal=function(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}},e.createRoleSelector=function(n){return{$$typeof:Ws,value:n}},e.createTestNameSelector=function(n){return{$$typeof:Qs,value:n}},e.createTextSelector=function(n){return{$$typeof:Xs,value:n}},e.deferredUpdates=function(n){var i=gt,a=Dt.transition;try{return Dt.transition=null,gt=16,n()}finally{gt=i,Dt.transition=a}},e.discreteUpdates=function(n,i,a,c,m){var y=gt,M=Dt.transition;try{return Dt.transition=null,gt=1,n(i,a,c,m)}finally{gt=y,Dt.transition=M,at===0&&Di()}},e.findAllNodes=Wa,e.findBoundingRects=function(n,i){if(!He)throw Error(l(363));i=Wa(n,i),n=[];for(var a=0;a<i.length;a++)n.push(ls(i[a]));for(i=n.length-1;0<i;i--){a=n[i];for(var c=a.x,m=c+a.width,y=a.y,M=y+a.height,S=i-1;0<=S;S--)if(i!==S){var k=n[S],N=k.x,j=N+k.width,it=k.y,q=it+k.height;if(c>=N&&y>=it&&m<=j&&M<=q){n.splice(i,1);break}else if(c!==N||a.width!==k.width||q<y||it>M){if(!(y!==it||a.height!==k.height||j<c||N>m)){N>c&&(k.width+=N-c,k.x=c),j<m&&(k.width=m-N),n.splice(i,1);break}}else{it>y&&(k.height+=it-y,k.y=y),q<M&&(k.height=M-it),n.splice(i,1);break}}}return n},e.findHostInstance=hh,e.findHostInstanceWithNoPortals=function(n){return n=ct(n),n=n!==null?ft(n):null,n===null?null:n.stateNode},e.findHostInstanceWithWarning=function(n){return hh(n)},e.flushControlled=function(n){var i=at;at|=1;var a=Dt.transition,c=gt;try{Dt.transition=null,gt=1,n()}finally{gt=c,Dt.transition=a,at=i,at===0&&(Di(),tn())}},e.flushPassiveEffects=ii,e.flushSync=th,e.focusWithin=function(n,i){if(!He)throw Error(l(363));for(n=Ja(n),i=Zc(n,i),i=Array.from(i),n=0;n<i.length;){var a=i[n++];if(!Qn(a)){if(a.tag===5&&Xo(a.stateNode))return!0;for(a=a.child;a!==null;)i.push(a),a=a.sibling}}return!1},e.getCurrentUpdatePriority=function(){return gt},e.getFindAllNodesFailureDescription=function(n,i){if(!He)throw Error(l(363));var a=0,c=[];n=[Ja(n),0];for(var m=0;m<n.length;){var y=n[m++],M=n[m++],S=i[M];if((y.tag!==5||!Qn(y))&&(ja(y,S)&&(c.push(Ka(S)),M++,M>a&&(a=M)),M<i.length))for(y=y.child;y!==null;)n.push(y,M),y=y.sibling}if(a<i.length){for(n=[];a<i.length;a++)n.push(Ka(i[a]));return`findAllNodes was able to match part of the selector:
  `+(c.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},e.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return Ct(n.child.stateNode);default:return n.child.stateNode}},e.injectIntoDevTools=function(n){if(n={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:Bp,findFiberByHostInstance:n.findFiberByHostInstance||Cp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(i.isDisabled||!i.supportsFiber)n=!0;else{try{gs=i.inject(n),qe=i}catch{}n=!!i.checkDCE}}return n},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(n,i,a,c){if(!He)throw Error(l(363));n=Wa(n,i);var m=Vo(n,a,c).disconnect;return{disconnect:function(){m()}}},e.registerMutableSourceForHydration=function(n,i){var a=i._getVersion;a=a(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,a]:n.mutableSourceEagerHydrationData.push(i,a)},e.runWithPriority=function(n,i){var a=gt;try{return gt=n,i()}finally{gt=a}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(n,i,a,c){var m=i.current,y=oe(),M=In(m);return a=ch(a),i.context===null?i.context=a:i.pendingContext=a,i=hn(y,M),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),bn(m,i),n=_e(m,M,y),n!==null&&Ms(n,m,M),M},e};$d.exports=Ng;var Og=$d.exports;const Ug=Rp(Og);var tf={exports:{}},ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(u){function t(R,G){var L=R.length;R.push(G);t:for(;0<L;){var W=L-1>>>1,nt=R[W];if(0<s(nt,G))R[W]=G,R[L]=nt,L=W;else break t}}function e(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var G=R[0],L=R.pop();if(L!==G){R[0]=L;t:for(var W=0,nt=R.length,ce=nt>>>1;W<ce;){var Rt=2*(W+1)-1,Ae=R[Rt],wt=Rt+1,ie=R[wt];if(0>s(Ae,L))wt<nt&&0>s(ie,Ae)?(R[W]=ie,R[wt]=L,W=wt):(R[W]=Ae,R[Rt]=L,W=Rt);else if(wt<nt&&0>s(ie,L))R[W]=ie,R[wt]=L,W=wt;else break t}}return G}function s(R,G){var L=R.sortIndex-G.sortIndex;return L!==0?L:R.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();u.unstable_now=function(){return l.now()-h}}var d=[],p=[],f=1,A=null,g=3,x=!1,B=!1,C=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(R){for(var G=e(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=R)r(p),G.sortIndex=G.expirationTime,t(d,G);else break;G=e(p)}}function D(R){if(C=!1,F(R),!B)if(e(d)!==null)B=!0,Ct(z);else{var G=e(p);G!==null&&_t(D,G.startTime-R)}}function z(R,G){B=!1,C&&(C=!1,w(V),V=-1),x=!0;var L=g;try{for(F(G),A=e(d);A!==null&&(!(A.expirationTime>G)||R&&!ct());){var W=A.callback;if(typeof W=="function"){A.callback=null,g=A.priorityLevel;var nt=W(A.expirationTime<=G);G=u.unstable_now(),typeof nt=="function"?A.callback=nt:A===e(d)&&r(d),F(G)}else r(d);A=e(d)}if(A!==null)var ce=!0;else{var Rt=e(p);Rt!==null&&_t(D,Rt.startTime-G),ce=!1}return ce}finally{A=null,g=L,x=!1}}var O=!1,H=null,V=-1,lt=5,$=-1;function ct(){return!(u.unstable_now()-$<lt)}function ut(){if(H!==null){var R=u.unstable_now();$=R;var G=!0;try{G=H(!0,R)}finally{G?Z():(O=!1,H=null)}}else O=!1}var Z;if(typeof _=="function")Z=function(){_(ut)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,st=ft.port2;ft.port1.onmessage=ut,Z=function(){st.postMessage(null)}}else Z=function(){v(ut,0)};function Ct(R){H=R,O||(O=!0,Z())}function _t(R,G){V=v(function(){R(u.unstable_now())},G)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(R){R.callback=null},u.unstable_continueExecution=function(){B||x||(B=!0,Ct(z))},u.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lt=0<R?Math.floor(1e3/R):5},u.unstable_getCurrentPriorityLevel=function(){return g},u.unstable_getFirstCallbackNode=function(){return e(d)},u.unstable_next=function(R){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var L=g;g=G;try{return R()}finally{g=L}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=g;g=R;try{return G()}finally{g=L}},u.unstable_scheduleCallback=function(R,G,L){var W=u.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,R){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=L+nt,R={id:f++,callback:G,priorityLevel:R,startTime:L,expirationTime:nt,sortIndex:-1},L>W?(R.sortIndex=L,t(p,R),e(d)===null&&R===e(p)&&(C?(w(V),V=-1):C=!0,_t(D,L-W))):(R.sortIndex=nt,t(d,R),B||x||(B=!0,Ct(z))),R},u.unstable_shouldYield=ct,u.unstable_wrapCallback=function(R){var G=g;return function(){var L=g;g=G;try{return R.apply(this,arguments)}finally{g=L}}}})(ef);tf.exports=ef;var gd=tf.exports;const Jg=u=>typeof u=="object"&&typeof u.then=="function",di=[];function nf(u,t,e=(r,s)=>r===s){if(u===t)return!0;if(!u||!t)return!1;const r=u.length;if(t.length!==r)return!1;for(let s=0;s<r;s++)if(!e(u[s],t[s]))return!1;return!0}function rf(u,t=null,e=!1,r={}){t===null&&(t=[u]);for(const o of di)if(nf(t,o.keys,o.equal)){if(e)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!e)throw o.promise}const s={keys:t,equal:r.equal,remove:()=>{const o=di.indexOf(s);o!==-1&&di.splice(o,1)},promise:(Jg(u)?u:u(...t)).then(o=>{s.response=o,r.lifespan&&r.lifespan>0&&(s.timeout=setTimeout(s.remove,r.lifespan))}).catch(o=>s.error=o)};if(di.push(s),!e)throw s.promise}const jg=(u,t,e)=>rf(u,t,!1,e),Kg=(u,t,e)=>void rf(u,t,!0,e),Wg=u=>{if(u===void 0||u.length===0)di.splice(0,di.length);else{const t=di.find(e=>nf(u,e.keys,e.equal));t&&t.remove()}},sf={};function Qg(u,t){function e(f,{args:A=[],attach:g,...x},B){let C=`${f[0].toUpperCase()}${f.slice(1)}`,v;if(f==="primitive"){if(x.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=x.object;v=Nr(w,{type:f,root:B,attach:g,primitive:!0})}else{const w=sf[C];if(!w)throw new Error(`R3F: ${C} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(A))throw new Error("R3F: The args prop must be an array!");v=Nr(new w(...A),{type:f,root:B,attach:g,memoizedProps:{args:A}})}return v.__r3f.attach===void 0&&(v instanceof Jn?v.__r3f.attach="geometry":v instanceof On&&(v.__r3f.attach="material")),C!=="inject"&&Ol(v,x),v}function r(f,A){let g=!1;if(A){var x,B;(x=A.__r3f)!=null&&x.attach?Nl(f,A,A.__r3f.attach):A.isObject3D&&f.isObject3D&&(f.add(A),g=!0),g||(B=f.__r3f)==null||B.objects.push(A),A.__r3f||Nr(A,{}),A.__r3f.parent=f,ru(A),Zi(A)}}function s(f,A,g){let x=!1;if(A){var B,C;if((B=A.__r3f)!=null&&B.attach)Nl(f,A,A.__r3f.attach);else if(A.isObject3D&&f.isObject3D){A.parent=f,A.dispatchEvent({type:"added"});const v=f.children.filter(_=>_!==A),w=v.indexOf(g);f.children=[...v.slice(0,w),A,...v.slice(w)],x=!0}x||(C=f.__r3f)==null||C.objects.push(A),A.__r3f||Nr(A,{}),A.__r3f.parent=f,ru(A),Zi(A)}}function o(f,A,g=!1){f&&[...f].forEach(x=>l(A,x,g))}function l(f,A,g){if(A){var x,B,C;if(A.__r3f&&(A.__r3f.parent=null),(x=f.__r3f)!=null&&x.objects&&(f.__r3f.objects=f.__r3f.objects.filter(D=>D!==A)),(B=A.__r3f)!=null&&B.attach)Md(f,A,A.__r3f.attach);else if(A.isObject3D&&f.isObject3D){var v;f.remove(A),(v=A.__r3f)!=null&&v.root&&ey(A.__r3f.root,A)}const _=(C=A.__r3f)==null?void 0:C.primitive,F=!_&&(g===void 0?A.dispose!==null:g);if(!_){var w;o((w=A.__r3f)==null?void 0:w.objects,A,F),o(A.children,A,F)}if(delete A.__r3f,F&&A.dispose&&A.type!=="Scene"){const D=()=>{try{A.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?gd.unstable_scheduleCallback(gd.unstable_IdlePriority,D):D()}Zi(f)}}function h(f,A,g,x){var B;const C=(B=f.__r3f)==null?void 0:B.parent;if(!C)return;const v=e(A,g,f.__r3f.root);if(f.children){for(const w of f.children)w.__r3f&&r(v,w);f.children=f.children.filter(w=>!w.__r3f)}f.__r3f.objects.forEach(w=>r(v,w)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||l(C,f),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(C,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[x,x.alternate].forEach(w=>{w!==null&&(w.stateNode=v,w.ref&&(typeof w.ref=="function"?w.ref(v):w.ref.current=v))})}const d=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Ug({createInstance:e,removeChild:l,appendChild:r,appendInitialChild:r,insertBefore:s,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,A)=>{if(!A)return;const g=f.getState().scene;g.__r3f&&(g.__r3f.root=f,r(g,A))},removeChildFromContainer:(f,A)=>{A&&l(f.getState().scene,A)},insertInContainerBefore:(f,A,g)=>{if(!A||!g)return;const x=f.getState().scene;x.__r3f&&s(x,A,g)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var A;return!!((A=f==null?void 0:f.__r3f)!=null?A:{}).handlers},prepareUpdate(f,A,g,x){var B;if(((B=f==null?void 0:f.__r3f)!=null?B:{}).primitive&&x.object&&x.object!==f)return[!0];{const{args:v=[],children:w,..._}=x,{args:F=[],children:D,...z}=g;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((H,V)=>H!==F[V]))return[!0];const O=af(f,_,z,!0);return O.changes.length?[!1,O]:null}},commitUpdate(f,[A,g],x,B,C,v){A?h(f,x,C,v):Ol(f,g)},commitMount(f,A,g,x){var B;const C=(B=f.__r3f)!=null?B:{};f.raycast&&C.handlers&&C.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Nr(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var A;const{attach:g,parent:x}=(A=f.__r3f)!=null?A:{};g&&x&&Md(x,f,g),f.isObject3D&&(f.visible=!1),Zi(f)},unhideInstance(f,A){var g;const{attach:x,parent:B}=(g=f.__r3f)!=null?g:{};x&&B&&Nl(B,f,x),(f.isObject3D&&A.visible==null||A.visible)&&(f.visible=!0),Zi(f)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>t?t():Jr.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&le.fun(performance.now)?performance.now:le.fun(Date.now)?Date.now:()=>0,scheduleTimeout:le.fun(setTimeout)?setTimeout:void 0,cancelTimeout:le.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Ol}}var yd,xd;const Hl=u=>"colorSpace"in u||"outputColorSpace"in u,Xg=()=>{var u;return(u=sf.ColorManagement)!=null?u:null};typeof window<"u"&&((yd=window.document)!=null&&yd.createElement||((xd=window.navigator)==null?void 0:xd.product)==="ReactNative")?X.useLayoutEffect:X.useEffect;class Vg extends X.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}Vg.getDerivedStateFromError=()=>({error:!0});const of="__default",Bd=new Map,Yg=u=>u&&!!u.memoized&&!!u.changes,le={obj:u=>u===Object(u)&&!le.arr(u)&&typeof u!="function",fun:u=>typeof u=="function",str:u=>typeof u=="string",num:u=>typeof u=="number",boo:u=>typeof u=="boolean",und:u=>u===void 0,arr:u=>Array.isArray(u),equ(u,t,{arrays:e="shallow",objects:r="reference",strict:s=!0}={}){if(typeof u!=typeof t||!!u!=!!t)return!1;if(le.str(u)||le.num(u))return u===t;const o=le.obj(u);if(o&&r==="reference")return u===t;const l=le.arr(u);if(l&&e==="reference")return u===t;if((l||o)&&u===t)return!0;let h;for(h in u)if(!(h in t))return!1;if(o&&e==="shallow"&&r==="shallow"){for(h in s?t:u)if(!le.equ(u[h],t[h],{strict:s,objects:"reference"}))return!1}else for(h in s?t:u)if(u[h]!==t[h])return!1;if(le.und(h)){if(l&&u.length===0&&t.length===0||o&&Object.keys(u).length===0&&Object.keys(t).length===0)return!0;if(u!==t)return!1}return!0}};function Zg(u){const t={nodes:{},materials:{}};return u&&u.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}function Nr(u,t){const e=u;return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},u}function iu(u,t){let e=u;if(t.includes("-")){const r=t.split("-"),s=r.pop();return e=r.reduce((o,l)=>o[l],u),{target:e,key:s}}else return{target:e,key:t}}const Cd=/-\d+$/;function Nl(u,t,e){if(le.str(e)){if(Cd.test(e)){const o=e.replace(Cd,""),{target:l,key:h}=iu(u,o);Array.isArray(l[h])||(l[h]=[])}const{target:r,key:s}=iu(u,e);t.__r3f.previousAttach=r[s],r[s]=t}else t.__r3f.previousAttach=e(u,t)}function Md(u,t,e){var r,s;if(le.str(e)){const{target:o,key:l}=iu(u,e),h=t.__r3f.previousAttach;h===void 0?delete o[l]:o[l]=h}else(r=t.__r3f)==null||r.previousAttach==null||r.previousAttach(u,t);(s=t.__r3f)==null||delete s.previousAttach}function af(u,{children:t,key:e,ref:r,...s},{children:o,key:l,ref:h,...d}={},p=!1){var f;const A=(f=u==null?void 0:u.__r3f)!=null?f:{},g=Object.entries(s),x=[];if(p){const C=Object.keys(d);for(let v=0;v<C.length;v++)s.hasOwnProperty(C[v])||g.unshift([C[v],of+"remove"])}g.forEach(([C,v])=>{var w;if((w=u.__r3f)!=null&&w.primitive&&C==="object"||le.equ(v,d[C]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(C))return x.push([C,v,!0,[]]);let _=[];C.includes("-")&&(_=C.split("-")),x.push([C,v,!1,_]);for(const F in s){const D=s[F];F.startsWith(`${C}-`)&&x.push([F,D,!1,F.split("-")])}});const B={...s};return A.memoizedProps&&A.memoizedProps.args&&(B.args=A.memoizedProps.args),A.memoizedProps&&A.memoizedProps.attach&&(B.attach=A.memoizedProps.attach),{memoized:B,changes:x}}const qg=typeof process<"u"&&!1;function Ol(u,t){var e,r,s;const o=(e=u.__r3f)!=null?e:{},l=o.root,h=(r=l==null||l.getState==null?void 0:l.getState())!=null?r:{},{memoized:d,changes:p}=Yg(t)?t:af(u,t),f=o.eventCount;u.__r3f&&(u.__r3f.memoizedProps=d);for(let g=0;g<p.length;g++){let[x,B,C,v]=p[g];if(Hl(u)){const D="srgb",z="srgb-linear";x==="encoding"?(x="colorSpace",B=B===3001?D:z):x==="outputEncoding"&&(x="outputColorSpace",B=B===3001?D:z)}let w=u,_=w[x];if(v.length&&(_=v.reduce((F,D)=>F[D],u),!(_&&_.set))){const[F,...D]=v.reverse();w=D.reverse().reduce((z,O)=>z[O],u),x=F}if(B===of+"remove")if(w.constructor){let F=Bd.get(w.constructor);F||(F=new w.constructor,Bd.set(w.constructor,F)),B=F[x]}else B=0;if(C)B?o.handlers[x]=B:delete o.handlers[x],o.eventCount=Object.keys(o.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Go)){if(Array.isArray(B))_.fromArray?_.fromArray(B):_.set(...B);else if(_.copy&&B&&B.constructor&&(qg?_.constructor.name===B.constructor.name:_.constructor===B.constructor))_.copy(B);else if(B!==void 0){const F=_ instanceof Ht;!F&&_.setScalar?_.setScalar(B):_ instanceof Go&&B instanceof Go?_.mask=B.mask:_.set(B),!Xg()&&!h.linear&&F&&_.convertSRGBToLinear()}}else if(w[x]=B,w[x]instanceof Ge&&w[x].format===fu&&w[x].type===Hd){const F=w[x];Hl(F)&&Hl(h.gl)?F.colorSpace=h.gl.outputColorSpace:F.encoding=h.gl.outputEncoding}Zi(u)}if(o.parent&&h.internal&&u.raycast&&f!==o.eventCount){const g=h.internal.interaction.indexOf(u);g>-1&&h.internal.interaction.splice(g,1),o.eventCount&&h.internal.interaction.push(u)}return!(p.length===1&&p[0][0]==="onUpdate")&&p.length&&(s=u.__r3f)!=null&&s.parent&&ru(u),u}function Zi(u){var t,e;const r=(t=u.__r3f)==null||(e=t.root)==null||e.getState==null?void 0:e.getState();r&&r.internal.frames===0&&r.invalidate()}function ru(u){u.onUpdate==null||u.onUpdate(u)}function $g(){var u;const t=typeof self<"u"&&self||typeof window<"u"&&window;if(!t)return Jr.DefaultEventPriority;switch((u=t.event)==null?void 0:u.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Jr.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Jr.ContinuousEventPriority;default:return Jr.DefaultEventPriority}}function ty(u,t,e,r){const s=e.get(t);s&&(e.delete(t),e.size===0&&(u.delete(r),s.target.releasePointerCapture(r)))}function ey(u,t){const{internal:e}=u.getState();e.interaction=e.interaction.filter(r=>r!==t),e.initialHits=e.initialHits.filter(r=>r!==t),e.hovered.forEach((r,s)=>{(r.eventObject===t||r.object===t)&&e.hovered.delete(s)}),e.capturedMap.forEach((r,s)=>{ty(e.capturedMap,t,r,s)})}const vd=new WeakMap;function lf(u,t){return function(e,...r){let s=vd.get(e);return s||(s=new e,vd.set(e,s)),u&&u(s),Promise.all(r.map(o=>new Promise((l,h)=>s.load(o,d=>{d.scene&&Object.assign(d,Zg(d.scene)),l(d)},t,d=>h(new Error(`Could not load ${o}: ${d==null?void 0:d.message}`)))))).finally(()=>s.dispose==null?void 0:s.dispose())}}function is(u,t,e,r){const s=Array.isArray(t)?t:[t],o=jg(lf(e,r),[u,...s],{equal:le.equ});return Array.isArray(t)?o:o[0]}is.preload=function(u,t,e){const r=Array.isArray(t)?t:[t];return Kg(lf(e),[u,...r])};is.clear=function(u,t){const e=Array.isArray(t)?t:[t];return Wg([u,...e])};const ny=new Map,{reconciler:iy,applyProps:jy}=Qg(ny,$g);iy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:X.version});function wd(u,t){if(t===cA)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),u;if(t===Zl||t===Od){let e=u.getIndex();if(e===null){const l=[],h=u.getAttribute("position");if(h!==void 0){for(let d=0;d<h.count;d++)l.push(d);u.setIndex(l),e=u.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),u}const r=e.count-2,s=[];if(e)if(t===Zl)for(let l=1;l<=r;l++)s.push(e.getX(0)),s.push(e.getX(l)),s.push(e.getX(l+1));else for(let l=0;l<r;l++)l%2===0?(s.push(e.getX(l)),s.push(e.getX(l+1)),s.push(e.getX(l+2))):(s.push(e.getX(l+2)),s.push(e.getX(l+1)),s.push(e.getX(l)));s.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=u.clone();return o.setIndex(s),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),u}const ry=parseInt(cu.replace(/\D+/g,""));class Eu extends mi{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new uy(e)}),this.register(function(e){return new gy(e)}),this.register(function(e){return new yy(e)}),this.register(function(e){return new xy(e)}),this.register(function(e){return new hy(e)}),this.register(function(e){return new dy(e)}),this.register(function(e){return new fy(e)}),this.register(function(e){return new py(e)}),this.register(function(e){return new ly(e)}),this.register(function(e){return new my(e)}),this.register(function(e){return new cy(e)}),this.register(function(e){return new Ay(e)}),this.register(function(e){return new oy(e)}),this.register(function(e){return new By(e)}),this.register(function(e){return new Cy(e)})}load(t,e,r,s){const o=this;let l;this.resourcePath!==""?l=this.resourcePath:this.path!==""?l=this.path:l=fi.extractUrlBase(t),this.manager.itemStart(t);const h=function(p){s?s(p):console.error(p),o.manager.itemError(t),o.manager.itemEnd(t)},d=new No(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(t,function(p){try{o.parse(p,l,function(f){e(f),o.manager.itemEnd(t)},h)}catch(f){h(f)}},r,h)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,r,s){let o;const l={},h={};if(typeof t=="string")o=JSON.parse(t);else if(t instanceof ArrayBuffer)if(fi.decodeText(new Uint8Array(t.slice(0,4)))===uf){try{l[ht.KHR_BINARY_GLTF]=new My(t)}catch(f){s&&s(f);return}o=JSON.parse(l[ht.KHR_BINARY_GLTF].content)}else o=JSON.parse(fi.decodeText(new Uint8Array(t)));else o=t;if(o.asset===void 0||o.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const d=new ky(o,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});d.fileLoader.setRequestHeader(this.requestHeader);for(let p=0;p<this.pluginCallbacks.length;p++){const f=this.pluginCallbacks[p](d);h[f.name]=f,l[f.name]=!0}if(o.extensionsUsed)for(let p=0;p<o.extensionsUsed.length;++p){const f=o.extensionsUsed[p],A=o.extensionsRequired||[];switch(f){case ht.KHR_MATERIALS_UNLIT:l[f]=new ay;break;case ht.KHR_DRACO_MESH_COMPRESSION:l[f]=new vy(o,this.dracoLoader);break;case ht.KHR_TEXTURE_TRANSFORM:l[f]=new wy;break;case ht.KHR_MESH_QUANTIZATION:l[f]=new Sy;break;default:A.indexOf(f)>=0&&h[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}d.setExtensions(l),d.setPlugins(h),d.parse(r,s)}parseAsync(t,e){const r=this;return new Promise(function(s,o){r.parse(t,e,s,o)})}}function sy(){let u={};return{get:function(t){return u[t]},add:function(t,e){u[t]=e},remove:function(t){delete u[t]},removeAll:function(){u={}}}}const ht={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class oy{constructor(t){this.parser=t,this.name=ht.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let r=0,s=e.length;r<s;r++){const o=e[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(t){const e=this.parser,r="light:"+t;let s=e.cache.get(r);if(s)return s;const o=e.json,d=((o.extensions&&o.extensions[this.name]||{}).lights||[])[t];let p;const f=new Ht(16777215);d.color!==void 0&&f.fromArray(d.color);const A=d.range!==void 0?d.range:0;switch(d.type){case"directional":p=new bg(f),p.target.position.set(0,0,-1),p.add(p.target);break;case"point":p=new Sg(f),p.distance=A;break;case"spot":p=new vg(f),p.distance=A,d.spot=d.spot||{},d.spot.innerConeAngle=d.spot.innerConeAngle!==void 0?d.spot.innerConeAngle:0,d.spot.outerConeAngle=d.spot.outerConeAngle!==void 0?d.spot.outerConeAngle:Math.PI/4,p.angle=d.spot.outerConeAngle,p.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,p.target.position.set(0,0,-1),p.add(p.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return p.position.set(0,0,0),p.decay=2,Nn(p,d),d.intensity!==void 0&&(p.intensity=d.intensity),p.name=e.createUniqueName(d.name||"light_"+t),s=Promise.resolve(p),e.cache.add(r,s),s}getDependency(t,e){if(t==="light")return this._loadLight(e)}createNodeAttachment(t){const e=this,r=this.parser,o=r.json.nodes[t],h=(o.extensions&&o.extensions[this.name]||{}).light;return h===void 0?null:this._loadLight(h).then(function(d){return r._getNodeRef(e.cache,h,d)})}}class ay{constructor(){this.name=ht.KHR_MATERIALS_UNLIT}getMaterialType(){return qi}extendParams(t,e,r){const s=[];t.color=new Ht(1,1,1),t.opacity=1;const o=e.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const l=o.baseColorFactor;t.color.fromArray(l),t.opacity=l[3]}o.baseColorTexture!==void 0&&s.push(r.assignTexture(t,"map",o.baseColorTexture,3001))}return Promise.all(s)}}class ly{constructor(t){this.parser=t,this.name=ht.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=s.extensions[this.name].emissiveStrength;return o!==void 0&&(e.emissiveIntensity=o),Promise.resolve()}}class uy{constructor(t){this.parser=t,this.name=ht.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:jn}extendMaterialParams(t,e){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],l=s.extensions[this.name];if(l.clearcoatFactor!==void 0&&(e.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&o.push(r.assignTexture(e,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(e.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(e,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(e,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const h=l.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new Pt(h,h)}return Promise.all(o)}}class cy{constructor(t){this.parser=t,this.name=ht.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:jn}extendMaterialParams(t,e){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],l=s.extensions[this.name];return l.iridescenceFactor!==void 0&&(e.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&o.push(r.assignTexture(e,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(e.iridescenceIOR=l.iridescenceIor),e.iridescenceThicknessRange===void 0&&(e.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(e.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(e.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(e,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(o)}}class hy{constructor(t){this.parser=t,this.name=ht.KHR_MATERIALS_SHEEN}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:jn}extendMaterialParams(t,e){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[];e.sheenColor=new Ht(0,0,0),e.sheenRoughness=0,e.sheen=1;const l=s.extensions[this.name];return l.sheenColorFactor!==void 0&&e.sheenColor.fromArray(l.sheenColorFactor),l.sheenRoughnessFactor!==void 0&&(e.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&o.push(r.assignTexture(e,"sheenColorMap",l.sheenColorTexture,3001)),l.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(e,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(o)}}class dy{constructor(t){this.parser=t,this.name=ht.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:jn}extendMaterialParams(t,e){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],l=s.extensions[this.name];return l.transmissionFactor!==void 0&&(e.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&o.push(r.assignTexture(e,"transmissionMap",l.transmissionTexture)),Promise.all(o)}}class fy{constructor(t){this.parser=t,this.name=ht.KHR_MATERIALS_VOLUME}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:jn}extendMaterialParams(t,e){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],l=s.extensions[this.name];e.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&o.push(r.assignTexture(e,"thicknessMap",l.thicknessTexture)),e.attenuationDistance=l.attenuationDistance||1/0;const h=l.attenuationColor||[1,1,1];return e.attenuationColor=new Ht(h[0],h[1],h[2]),Promise.all(o)}}class py{constructor(t){this.parser=t,this.name=ht.KHR_MATERIALS_IOR}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:jn}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=s.extensions[this.name];return e.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class my{constructor(t){this.parser=t,this.name=ht.KHR_MATERIALS_SPECULAR}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:jn}extendMaterialParams(t,e){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],l=s.extensions[this.name];e.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&o.push(r.assignTexture(e,"specularIntensityMap",l.specularTexture));const h=l.specularColorFactor||[1,1,1];return e.specularColor=new Ht(h[0],h[1],h[2]),l.specularColorTexture!==void 0&&o.push(r.assignTexture(e,"specularColorMap",l.specularColorTexture,3001)),Promise.all(o)}}class Ay{constructor(t){this.parser=t,this.name=ht.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const r=this.parser.json.materials[t];return!r.extensions||!r.extensions[this.name]?null:jn}extendMaterialParams(t,e){const r=this.parser,s=r.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],l=s.extensions[this.name];return l.anisotropyStrength!==void 0&&(e.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(e.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&o.push(r.assignTexture(e,"anisotropyMap",l.anisotropyTexture)),Promise.all(o)}}class gy{constructor(t){this.parser=t,this.name=ht.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,r=e.json,s=r.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const o=s.extensions[this.name],l=e.options.ktx2Loader;if(!l){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,o.source,l)}}class yy{constructor(t){this.parser=t,this.name=ht.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,r=this.parser,s=r.json,o=s.textures[t];if(!o.extensions||!o.extensions[e])return null;const l=o.extensions[e],h=s.images[l.source];let d=r.textureLoader;if(h.uri){const p=r.options.manager.getHandler(h.uri);p!==null&&(d=p)}return this.detectSupport().then(function(p){if(p)return r.loadTextureImage(t,l.source,d);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class xy{constructor(t){this.parser=t,this.name=ht.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const e=this.name,r=this.parser,s=r.json,o=s.textures[t];if(!o.extensions||!o.extensions[e])return null;const l=o.extensions[e],h=s.images[l.source];let d=r.textureLoader;if(h.uri){const p=r.options.manager.getHandler(h.uri);p!==null&&(d=p)}return this.detectSupport().then(function(p){if(p)return r.loadTextureImage(t,l.source,d);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class By{constructor(t){this.name=ht.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,r=e.bufferViews[t];if(r.extensions&&r.extensions[this.name]){const s=r.extensions[this.name],o=this.parser.getDependency("buffer",s.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(h){const d=s.byteOffset||0,p=s.byteLength||0,f=s.count,A=s.byteStride,g=new Uint8Array(h,d,p);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(f,A,g,s.mode,s.filter).then(function(x){return x.buffer}):l.ready.then(function(){const x=new ArrayBuffer(f*A);return l.decodeGltfBuffer(new Uint8Array(x),f,A,g,s.mode,s.filter),x})})}else return null}}class Cy{constructor(t){this.name=ht.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,r=e.nodes[t];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const s=e.meshes[r.mesh];for(const p of s.primitives)if(p.mode!==ke.TRIANGLES&&p.mode!==ke.TRIANGLE_STRIP&&p.mode!==ke.TRIANGLE_FAN&&p.mode!==void 0)return null;const l=r.extensions[this.name].attributes,h=[],d={};for(const p in l)h.push(this.parser.getDependency("accessor",l[p]).then(f=>(d[p]=f,d[p])));return h.length<1?null:(h.push(this.parser.createNodeMesh(t)),Promise.all(h).then(p=>{const f=p.pop(),A=f.isGroup?f.children:[f],g=p[0].count,x=[];for(const B of A){const C=new dt,v=new I,w=new Un,_=new I(1,1,1),F=new rg(B.geometry,B.material,g);for(let D=0;D<g;D++)d.TRANSLATION&&v.fromBufferAttribute(d.TRANSLATION,D),d.ROTATION&&w.fromBufferAttribute(d.ROTATION,D),d.SCALE&&_.fromBufferAttribute(d.SCALE,D),F.setMatrixAt(D,C.compose(v,w,_));for(const D in d)D!=="TRANSLATION"&&D!=="ROTATION"&&D!=="SCALE"&&B.geometry.setAttribute(D,d[D]);kt.prototype.copy.call(F,B),this.parser.assignFinalMaterial(F),x.push(F)}return f.isGroup?(f.clear(),f.add(...x),f):x[0]}))}}const uf="glTF",Or=12,Sd={JSON:1313821514,BIN:5130562};class My{constructor(t){this.name=ht.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,Or);if(this.header={magic:fi.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==uf)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Or,s=new DataView(t,Or);let o=0;for(;o<r;){const l=s.getUint32(o,!0);o+=4;const h=s.getUint32(o,!0);if(o+=4,h===Sd.JSON){const d=new Uint8Array(t,Or+o,l);this.content=fi.decodeText(d)}else if(h===Sd.BIN){const d=Or+o;this.body=t.slice(d,d+l)}o+=l}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class vy{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ht.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const r=this.json,s=this.dracoLoader,o=t.extensions[this.name].bufferView,l=t.extensions[this.name].attributes,h={},d={},p={};for(const f in l){const A=su[f]||f.toLowerCase();h[A]=l[f]}for(const f in t.attributes){const A=su[f]||f.toLowerCase();if(l[f]!==void 0){const g=r.accessors[t.attributes[f]],x=tr[g.componentType];p[A]=x.name,d[A]=g.normalized===!0}}return e.getDependency("bufferView",o).then(function(f){return new Promise(function(A){s.decodeDracoFile(f,function(g){for(const x in g.attributes){const B=g.attributes[x],C=d[x];C!==void 0&&(B.normalized=C)}A(g)},h,p)})})}}class wy{constructor(){this.name=ht.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return(e.texCoord===void 0||e.texCoord===t.channel)&&e.offset===void 0&&e.rotation===void 0&&e.scale===void 0||(t=t.clone(),e.texCoord!==void 0&&(t.channel=e.texCoord),e.offset!==void 0&&t.offset.fromArray(e.offset),e.rotation!==void 0&&(t.rotation=e.rotation),e.scale!==void 0&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class Sy{constructor(){this.name=ht.KHR_MESH_QUANTIZATION}}class cf extends ns{constructor(t,e,r,s){super(t,e,r,s)}copySampleValue_(t){const e=this.resultBuffer,r=this.sampleValues,s=this.valueSize,o=t*s*3+s;for(let l=0;l!==s;l++)e[l]=r[o+l];return e}interpolate_(t,e,r,s){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=h*2,p=h*3,f=s-e,A=(r-e)/f,g=A*A,x=g*A,B=t*p,C=B-p,v=-2*x+3*g,w=x-g,_=1-v,F=w-g+A;for(let D=0;D!==h;D++){const z=l[C+D+h],O=l[C+D+d]*f,H=l[B+D+h],V=l[B+D]*f;o[D]=_*z+F*O+v*H+w*V}return o}}const Ey=new Un;class by extends cf{interpolate_(t,e,r,s){const o=super.interpolate_(t,e,r,s);return Ey.fromArray(o).normalize().toArray(o),o}}const ke={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},tr={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Ed={9728:Yl,9729:hu,9984:oA,9985:lA,9986:aA,9987:du},bd={33071:Ur,33648:Vl,10497:Qr},Ul={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},su={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...ry>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Hn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ty={CUBICSPLINE:void 0,LINEAR:er,STEP:Xr},Jl={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Fy(u){return u.DefaultMaterial===void 0&&(u.DefaultMaterial=new Cu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ho})),u.DefaultMaterial}function ci(u,t,e){for(const r in e.extensions)u[r]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=e.extensions[r])}function Nn(u,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(u.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Iy(u,t,e){let r=!1,s=!1,o=!1;for(let p=0,f=t.length;p<f;p++){const A=t[p];if(A.POSITION!==void 0&&(r=!0),A.NORMAL!==void 0&&(s=!0),A.COLOR_0!==void 0&&(o=!0),r&&s&&o)break}if(!r&&!s&&!o)return Promise.resolve(u);const l=[],h=[],d=[];for(let p=0,f=t.length;p<f;p++){const A=t[p];if(r){const g=A.POSITION!==void 0?e.getDependency("accessor",A.POSITION):u.attributes.position;l.push(g)}if(s){const g=A.NORMAL!==void 0?e.getDependency("accessor",A.NORMAL):u.attributes.normal;h.push(g)}if(o){const g=A.COLOR_0!==void 0?e.getDependency("accessor",A.COLOR_0):u.attributes.color;d.push(g)}}return Promise.all([Promise.all(l),Promise.all(h),Promise.all(d)]).then(function(p){const f=p[0],A=p[1],g=p[2];return r&&(u.morphAttributes.position=f),s&&(u.morphAttributes.normal=A),o&&(u.morphAttributes.color=g),u.morphTargetsRelative=!0,u})}function _y(u,t){if(u.updateMorphTargets(),t.weights!==void 0)for(let e=0,r=t.weights.length;e<r;e++)u.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(u.morphTargetInfluences.length===e.length){u.morphTargetDictionary={};for(let r=0,s=e.length;r<s;r++)u.morphTargetDictionary[e[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ry(u){let t;const e=u.extensions&&u.extensions[ht.KHR_DRACO_MESH_COMPRESSION];if(e?t="draco:"+e.bufferView+":"+e.indices+":"+jl(e.attributes):t=u.indices+":"+jl(u.attributes)+":"+u.mode,u.targets!==void 0)for(let r=0,s=u.targets.length;r<s;r++)t+=":"+jl(u.targets[r]);return t}function jl(u){let t="";const e=Object.keys(u).sort();for(let r=0,s=e.length;r<s;r++)t+=e[r]+":"+u[e[r]]+";";return t}function ou(u){switch(u){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Dy(u){return u.search(/\.jpe?g($|\?)/i)>0||u.search(/^data\:image\/jpeg/)===0?"image/jpeg":u.search(/\.webp($|\?)/i)>0||u.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Py=new dt;class ky{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new sy,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,s=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,o=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||s&&o<98?this.textureLoader=new Cg(this.options.manager):this.textureLoader=new Tg(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new No(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const r=this,s=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(l){const h={scene:l[0][s.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:s.asset,parser:r,userData:{}};ci(o,h,s),Nn(h,s),Promise.all(r._invokeAll(function(d){return d.afterRoot&&d.afterRoot(h)})).then(function(){t(h)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],r=this.json.meshes||[];for(let s=0,o=e.length;s<o;s++){const l=e[s].joints;for(let h=0,d=l.length;h<d;h++)t[l[h]].isBone=!0}for(let s=0,o=t.length;s<o;s++){const l=t[s];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(r[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(t,e){e!==void 0&&(t.refs[e]===void 0&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,r){if(t.refs[e]<=1)return r;const s=r.clone(),o=(l,h)=>{const d=this.associations.get(l);d!=null&&this.associations.set(h,d);for(const[p,f]of l.children.entries())o(f,h.children[p])};return o(r,s),s.name+="_instance_"+t.uses[e]++,s}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let r=0;r<e.length;r++){const s=t(e[r]);if(s)return s}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const r=[];for(let s=0;s<e.length;s++){const o=t(e[s]);o&&r.push(o)}return r}getDependency(t,e){const r=t+":"+e;let s=this.cache.get(r);if(!s){switch(t){case"scene":s=this.loadScene(e);break;case"node":s=this._invokeOne(function(o){return o.loadNode&&o.loadNode(e)});break;case"mesh":s=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(e)});break;case"accessor":s=this.loadAccessor(e);break;case"bufferView":s=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(e)});break;case"buffer":s=this.loadBuffer(e);break;case"material":s=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(e)});break;case"texture":s=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(e)});break;case"skin":s=this.loadSkin(e);break;case"animation":s=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(e)});break;case"camera":s=this.loadCamera(e);break;default:if(s=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(t,e)}),!s)throw new Error("Unknown type: "+t);break}this.cache.add(r,s)}return s}getDependencies(t){let e=this.cache.get(t);if(!e){const r=this,s=this.json[t+(t==="mesh"?"es":"s")]||[];e=Promise.all(s.map(function(o,l){return r.getDependency(t,l)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],r=this.fileLoader;if(e.type&&e.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(e.uri===void 0&&t===0)return Promise.resolve(this.extensions[ht.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(o,l){r.load(fi.resolveURL(e.uri,s.path),o,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(r){const s=e.byteLength||0,o=e.byteOffset||0;return r.slice(o,o+s)})}loadAccessor(t){const e=this,r=this.json,s=this.json.accessors[t];if(s.bufferView===void 0&&s.sparse===void 0){const l=Ul[s.type],h=tr[s.componentType],d=s.normalized===!0,p=new h(s.count*l);return Promise.resolve(new we(p,l,d))}const o=[];return s.bufferView!==void 0?o.push(this.getDependency("bufferView",s.bufferView)):o.push(null),s.sparse!==void 0&&(o.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(o).then(function(l){const h=l[0],d=Ul[s.type],p=tr[s.componentType],f=p.BYTES_PER_ELEMENT,A=f*d,g=s.byteOffset||0,x=s.bufferView!==void 0?r.bufferViews[s.bufferView].byteStride:void 0,B=s.normalized===!0;let C,v;if(x&&x!==A){const w=Math.floor(g/x),_="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+w+":"+s.count;let F=e.cache.get(_);F||(C=new p(h,w*x,s.count*x/f),F=new qA(C,x/f),e.cache.add(_,F)),v=new yu(F,d,g%x/f,B)}else h===null?C=new p(s.count*d):C=new p(h,g,s.count*d),v=new we(C,d,B);if(s.sparse!==void 0){const w=Ul.SCALAR,_=tr[s.sparse.indices.componentType],F=s.sparse.indices.byteOffset||0,D=s.sparse.values.byteOffset||0,z=new _(l[1],F,s.sparse.count*w),O=new p(l[2],D,s.sparse.count*d);h!==null&&(v=new we(v.array.slice(),v.itemSize,v.normalized));for(let H=0,V=z.length;H<V;H++){const lt=z[H];if(v.setX(lt,O[H*d]),d>=2&&v.setY(lt,O[H*d+1]),d>=3&&v.setZ(lt,O[H*d+2]),d>=4&&v.setW(lt,O[H*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(t){const e=this.json,r=this.options,o=e.textures[t].source,l=e.images[o];let h=this.textureLoader;if(l.uri){const d=r.manager.getHandler(l.uri);d!==null&&(h=d)}return this.loadTextureImage(t,o,h)}loadTextureImage(t,e,r){const s=this,o=this.json,l=o.textures[t],h=o.images[e],d=(h.uri||h.bufferView)+":"+l.sampler;if(this.textureCache[d])return this.textureCache[d];const p=this.loadImageSource(e,r).then(function(f){f.flipY=!1,f.name=l.name||h.name||"",f.name===""&&typeof h.uri=="string"&&h.uri.startsWith("data:image/")===!1&&(f.name=h.uri);const g=(o.samplers||{})[l.sampler]||{};return f.magFilter=Ed[g.magFilter]||hu,f.minFilter=Ed[g.minFilter]||du,f.wrapS=bd[g.wrapS]||Qr,f.wrapT=bd[g.wrapT]||Qr,s.associations.set(f,{textures:t}),f}).catch(function(){return null});return this.textureCache[d]=p,p}loadImageSource(t,e){const r=this,s=this.json,o=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(A=>A.clone());const l=s.images[t],h=self.URL||self.webkitURL;let d=l.uri||"",p=!1;if(l.bufferView!==void 0)d=r.getDependency("bufferView",l.bufferView).then(function(A){p=!0;const g=new Blob([A],{type:l.mimeType});return d=h.createObjectURL(g),d});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const f=Promise.resolve(d).then(function(A){return new Promise(function(g,x){let B=g;e.isImageBitmapLoader===!0&&(B=function(C){const v=new Ge(C);v.needsUpdate=!0,g(v)}),e.load(fi.resolveURL(A,o.path),B,void 0,x)})}).then(function(A){return p===!0&&h.revokeObjectURL(d),A.userData.mimeType=l.mimeType||Dy(l.uri),A}).catch(function(A){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),A});return this.sourceCache[t]=f,f}assignTexture(t,e,r,s){const o=this;return this.getDependency("texture",r.index).then(function(l){if(!l)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(l=l.clone(),l.channel=r.texCoord),o.extensions[ht.KHR_TEXTURE_TRANSFORM]){const h=r.extensions!==void 0?r.extensions[ht.KHR_TEXTURE_TRANSFORM]:void 0;if(h){const d=o.associations.get(l);l=o.extensions[ht.KHR_TEXTURE_TRANSFORM].extendTexture(l,h),o.associations.set(l,d)}}return s!==void 0&&("colorSpace"in l?l.colorSpace=s===3001?"srgb":"srgb-linear":l.encoding=s),t[e]=l,l})}assignFinalMaterial(t){const e=t.geometry;let r=t.material;const s=e.attributes.tangent===void 0,o=e.attributes.color!==void 0,l=e.attributes.normal===void 0;if(t.isPoints){const h="PointsMaterial:"+r.uuid;let d=this.cache.get(h);d||(d=new Vd,On.prototype.copy.call(d,r),d.color.copy(r.color),d.map=r.map,d.sizeAttenuation=!1,this.cache.add(h,d)),r=d}else if(t.isLine){const h="LineBasicMaterial:"+r.uuid;let d=this.cache.get(h);d||(d=new Xd,On.prototype.copy.call(d,r),d.color.copy(r.color),d.map=r.map,this.cache.add(h,d)),r=d}if(s||o||l){let h="ClonedMaterial:"+r.uuid+":";s&&(h+="derivative-tangents:"),o&&(h+="vertex-colors:"),l&&(h+="flat-shading:");let d=this.cache.get(h);d||(d=r.clone(),o&&(d.vertexColors=!0),l&&(d.flatShading=!0),s&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(h,d),this.associations.set(d,this.associations.get(r))),r=d}t.material=r}getMaterialType(){return Cu}loadMaterial(t){const e=this,r=this.json,s=this.extensions,o=r.materials[t];let l;const h={},d=o.extensions||{},p=[];if(d[ht.KHR_MATERIALS_UNLIT]){const A=s[ht.KHR_MATERIALS_UNLIT];l=A.getMaterialType(),p.push(A.extendParams(h,o,e))}else{const A=o.pbrMetallicRoughness||{};if(h.color=new Ht(1,1,1),h.opacity=1,Array.isArray(A.baseColorFactor)){const g=A.baseColorFactor;h.color.fromArray(g),h.opacity=g[3]}A.baseColorTexture!==void 0&&p.push(e.assignTexture(h,"map",A.baseColorTexture,3001)),h.metalness=A.metallicFactor!==void 0?A.metallicFactor:1,h.roughness=A.roughnessFactor!==void 0?A.roughnessFactor:1,A.metallicRoughnessTexture!==void 0&&(p.push(e.assignTexture(h,"metalnessMap",A.metallicRoughnessTexture)),p.push(e.assignTexture(h,"roughnessMap",A.metallicRoughnessTexture))),l=this._invokeOne(function(g){return g.getMaterialType&&g.getMaterialType(t)}),p.push(Promise.all(this._invokeAll(function(g){return g.extendMaterialParams&&g.extendMaterialParams(t,h)})))}o.doubleSided===!0&&(h.side=iA);const f=o.alphaMode||Jl.OPAQUE;if(f===Jl.BLEND?(h.transparent=!0,h.depthWrite=!1):(h.transparent=!1,f===Jl.MASK&&(h.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&l!==qi&&(p.push(e.assignTexture(h,"normalMap",o.normalTexture)),h.normalScale=new Pt(1,1),o.normalTexture.scale!==void 0)){const A=o.normalTexture.scale;h.normalScale.set(A,A)}return o.occlusionTexture!==void 0&&l!==qi&&(p.push(e.assignTexture(h,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(h.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&l!==qi&&(h.emissive=new Ht().fromArray(o.emissiveFactor)),o.emissiveTexture!==void 0&&l!==qi&&p.push(e.assignTexture(h,"emissiveMap",o.emissiveTexture,3001)),Promise.all(p).then(function(){const A=new l(h);return o.name&&(A.name=o.name),Nn(A,o),e.associations.set(A,{materials:t}),o.extensions&&ci(s,A,o),A})}createUniqueName(t){const e=Bt.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,r=this.extensions,s=this.primitiveCache;function o(h){return r[ht.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(h,e).then(function(d){return Td(d,h,e)})}const l=[];for(let h=0,d=t.length;h<d;h++){const p=t[h],f=Ry(p),A=s[f];if(A)l.push(A.promise);else{let g;p.extensions&&p.extensions[ht.KHR_DRACO_MESH_COMPRESSION]?g=o(p):g=Td(new Jn,p,e),s[f]={primitive:p,promise:g},l.push(g)}}return Promise.all(l)}loadMesh(t){const e=this,r=this.json,s=this.extensions,o=r.meshes[t],l=o.primitives,h=[];for(let d=0,p=l.length;d<p;d++){const f=l[d].material===void 0?Fy(this.cache):this.getDependency("material",l[d].material);h.push(f)}return h.push(e.loadGeometries(l)),Promise.all(h).then(function(d){const p=d.slice(0,d.length-1),f=d[d.length-1],A=[];for(let x=0,B=f.length;x<B;x++){const C=f[x],v=l[x];let w;const _=p[x];if(v.mode===ke.TRIANGLES||v.mode===ke.TRIANGLE_STRIP||v.mode===ke.TRIANGLE_FAN||v.mode===void 0)w=o.isSkinnedMesh===!0?new tg(C,_):new jo(C,_),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),v.mode===ke.TRIANGLE_STRIP?w.geometry=wd(w.geometry,Od):v.mode===ke.TRIANGLE_FAN&&(w.geometry=wd(w.geometry,Zl));else if(v.mode===ke.LINES)w=new sg(C,_);else if(v.mode===ke.LINE_STRIP)w=new Bu(C,_);else if(v.mode===ke.LINE_LOOP)w=new og(C,_);else if(v.mode===ke.POINTS)w=new ag(C,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(w.geometry.morphAttributes).length>0&&_y(w,o),w.name=e.createUniqueName(o.name||"mesh_"+t),Nn(w,o),v.extensions&&ci(s,w,v),e.assignFinalMaterial(w),A.push(w)}for(let x=0,B=A.length;x<B;x++)e.associations.set(A[x],{meshes:t,primitives:x});if(A.length===1)return o.extensions&&ci(s,A[0],o),A[0];const g=new _l;o.extensions&&ci(s,g,o),e.associations.set(g,{meshes:t});for(let x=0,B=A.length;x<B;x++)g.add(A[x]);return g})}loadCamera(t){let e;const r=this.json.cameras[t],s=r[r.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?e=new gu(FA.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):r.type==="orthographic"&&(e=new Wd(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),r.name&&(e.name=this.createUniqueName(r.name)),Nn(e,r),Promise.resolve(e)}loadSkin(t){const e=this.json.skins[t],r=[];for(let s=0,o=e.joints.length;s<o;s++)r.push(this._loadNodeShallow(e.joints[s]));return e.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",e.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(s){const o=s.pop(),l=s,h=[],d=[];for(let p=0,f=l.length;p<f;p++){const A=l[p];if(A){h.push(A);const g=new dt;o!==null&&g.fromArray(o.array,p*16),d.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[p])}return new xu(h,d)})}loadAnimation(t){const r=this.json.animations[t],s=r.name?r.name:"animation_"+t,o=[],l=[],h=[],d=[],p=[];for(let f=0,A=r.channels.length;f<A;f++){const g=r.channels[f],x=r.samplers[g.sampler],B=g.target,C=B.node,v=r.parameters!==void 0?r.parameters[x.input]:x.input,w=r.parameters!==void 0?r.parameters[x.output]:x.output;B.node!==void 0&&(o.push(this.getDependency("node",C)),l.push(this.getDependency("accessor",v)),h.push(this.getDependency("accessor",w)),d.push(x),p.push(B))}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(h),Promise.all(d),Promise.all(p)]).then(function(f){const A=f[0],g=f[1],x=f[2],B=f[3],C=f[4],v=[];for(let w=0,_=A.length;w<_;w++){const F=A[w],D=g[w],z=x[w],O=B[w],H=C[w];if(F===void 0)continue;F.updateMatrix();let V;switch(Hn[H.path]){case Hn.weights:V=Yr;break;case Hn.rotation:V=pi;break;case Hn.position:case Hn.scale:default:V=Zr;break}const lt=F.name?F.name:F.uuid,$=O.interpolation!==void 0?Ty[O.interpolation]:er,ct=[];Hn[H.path]===Hn.weights?F.traverse(function(Z){Z.morphTargetInfluences&&ct.push(Z.name?Z.name:Z.uuid)}):ct.push(lt);let ut=z.array;if(z.normalized){const Z=ou(ut.constructor),ft=new Float32Array(ut.length);for(let st=0,Ct=ut.length;st<Ct;st++)ft[st]=ut[st]*Z;ut=ft}for(let Z=0,ft=ct.length;Z<ft;Z++){const st=new V(ct[Z]+"."+Hn[H.path],D.array,ut,$);O.interpolation==="CUBICSPLINE"&&(st.createInterpolant=function(_t){const R=this instanceof pi?by:cf;return new R(this.times,this.values,this.getValueSize()/3,_t)},st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(st)}}return new pg(s,void 0,v)})}createNodeMesh(t){const e=this.json,r=this,s=e.nodes[t];return s.mesh===void 0?null:r.getDependency("mesh",s.mesh).then(function(o){const l=r._getNodeRef(r.meshCache,s.mesh,o);return s.weights!==void 0&&l.traverse(function(h){if(h.isMesh)for(let d=0,p=s.weights.length;d<p;d++)h.morphTargetInfluences[d]=s.weights[d]}),l})}loadNode(t){const e=this.json,r=this,s=e.nodes[t],o=r._loadNodeShallow(t),l=[],h=s.children||[];for(let p=0,f=h.length;p<f;p++)l.push(r.getDependency("node",h[p]));const d=s.skin===void 0?Promise.resolve(null):r.getDependency("skin",s.skin);return Promise.all([o,Promise.all(l),d]).then(function(p){const f=p[0],A=p[1],g=p[2];g!==null&&f.traverse(function(x){x.isSkinnedMesh&&x.bind(g,Py)});for(let x=0,B=A.length;x<B;x++)f.add(A[x]);return f})}_loadNodeShallow(t){const e=this.json,r=this.extensions,s=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const o=e.nodes[t],l=o.name?s.createUniqueName(o.name):"",h=[],d=s._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(t)});return d&&h.push(d),o.camera!==void 0&&h.push(s.getDependency("camera",o.camera).then(function(p){return s._getNodeRef(s.cameraCache,o.camera,p)})),s._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(t)}).forEach(function(p){h.push(p)}),this.nodeCache[t]=Promise.all(h).then(function(p){let f;if(o.isBone===!0?f=new Qd:p.length>1?f=new _l:p.length===1?f=p[0]:f=new kt,f!==p[0])for(let A=0,g=p.length;A<g;A++)f.add(p[A]);if(o.name&&(f.userData.name=o.name,f.name=l),Nn(f,o),o.extensions&&ci(r,f,o),o.matrix!==void 0){const A=new dt;A.fromArray(o.matrix),f.applyMatrix4(A)}else o.translation!==void 0&&f.position.fromArray(o.translation),o.rotation!==void 0&&f.quaternion.fromArray(o.rotation),o.scale!==void 0&&f.scale.fromArray(o.scale);return s.associations.has(f)||s.associations.set(f,{}),s.associations.get(f).nodes=t,f}),this.nodeCache[t]}loadScene(t){const e=this.extensions,r=this.json.scenes[t],s=this,o=new _l;r.name&&(o.name=s.createUniqueName(r.name)),Nn(o,r),r.extensions&&ci(e,o,r);const l=r.nodes||[],h=[];for(let d=0,p=l.length;d<p;d++)h.push(s.getDependency("node",l[d]));return Promise.all(h).then(function(d){for(let f=0,A=d.length;f<A;f++)o.add(d[f]);const p=f=>{const A=new Map;for(const[g,x]of s.associations)(g instanceof On||g instanceof Ge)&&A.set(g,x);return f.traverse(g=>{const x=s.associations.get(g);x!=null&&A.set(g,x)}),A};return s.associations=p(o),o})}}function zy(u,t,e){const r=t.attributes,s=new vn;if(r.POSITION!==void 0){const h=e.json.accessors[r.POSITION],d=h.min,p=h.max;if(d!==void 0&&p!==void 0){if(s.set(new I(d[0],d[1],d[2]),new I(p[0],p[1],p[2])),h.normalized){const f=ou(tr[h.componentType]);s.min.multiplyScalar(f),s.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=t.targets;if(o!==void 0){const h=new I,d=new I;for(let p=0,f=o.length;p<f;p++){const A=o[p];if(A.POSITION!==void 0){const g=e.json.accessors[A.POSITION],x=g.min,B=g.max;if(x!==void 0&&B!==void 0){if(d.setX(Math.max(Math.abs(x[0]),Math.abs(B[0]))),d.setY(Math.max(Math.abs(x[1]),Math.abs(B[1]))),d.setZ(Math.max(Math.abs(x[2]),Math.abs(B[2]))),g.normalized){const C=ou(tr[g.componentType]);d.multiplyScalar(C)}h.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(h)}u.boundingBox=s;const l=new an;s.getCenter(l.center),l.radius=s.min.distanceTo(s.max)/2,u.boundingSphere=l}function Td(u,t,e){const r=t.attributes,s=[];function o(l,h){return e.getDependency("accessor",l).then(function(d){u.setAttribute(h,d)})}for(const l in r){const h=su[l]||l.toLowerCase();h in u.attributes||s.push(o(r[l],h))}if(t.indices!==void 0&&!u.index){const l=e.getDependency("accessor",t.indices).then(function(h){u.setIndex(h)});s.push(l)}return Nn(u,t),zy(u,t,e),Promise.all(s).then(function(){return t.targets!==void 0?Iy(u,t.targets,e):u})}const Kl=new WeakMap;class Gy extends mi{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,e,r,s){const o=new No(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,l=>{const h={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(l,h).then(e).catch(s)},r,s)}decodeDracoFile(t,e,r,s){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(t,o).then(e)}decodeGeometry(t,e){for(const d in e.attributeTypes){const p=e.attributeTypes[d];p.BYTES_PER_ELEMENT!==void 0&&(e.attributeTypes[d]=p.name)}const r=JSON.stringify(e);if(Kl.has(t)){const d=Kl.get(t);if(d.key===r)return d.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const o=this.workerNextTaskID++,l=t.byteLength,h=this._getWorker(o,l).then(d=>(s=d,new Promise((p,f)=>{s._callbacks[o]={resolve:p,reject:f},s.postMessage({type:"decode",id:o,taskConfig:e,buffer:t},[t])}))).then(d=>this._createGeometry(d.geometry));return h.catch(()=>!0).then(()=>{s&&o&&this._releaseTask(s,o)}),Kl.set(t,{key:r,promise:h}),h}_createGeometry(t){const e=new Jn;t.index&&e.setIndex(new we(t.index.array,1));for(let r=0;r<t.attributes.length;r++){const s=t.attributes[r],o=s.name,l=s.array,h=s.itemSize;e.setAttribute(o,new we(l,h))}return e}_loadLibrary(t,e){const r=new No(this.manager);return r.setPath(this.decoderPath),r.setResponseType(e),r.setWithCredentials(this.withCredentials),new Promise((s,o)=>{r.load(t,s,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then(r=>{const s=r[0];t||(this.decoderConfig.wasmBinary=r[1]);const o=Ly.toString(),l=["/* draco decoder */",s,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l]))}),this.decoderPending}_getWorker(t,e){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(o){const l=o.data;switch(l.type){case"decode":s._callbacks[l.id].resolve(l);break;case"error":s._callbacks[l.id].reject(l);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+l.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,o){return s._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[t]=e,r._taskLoad+=e,r})}_releaseTask(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function Ly(){let u,t;onmessage=function(l){const h=l.data;switch(h.type){case"init":u=h.decoderConfig,t=new Promise(function(f){u.onModuleLoaded=function(A){f({draco:A})},DracoDecoderModule(u)});break;case"decode":const d=h.buffer,p=h.taskConfig;t.then(f=>{const A=f.draco,g=new A.Decoder,x=new A.DecoderBuffer;x.Init(new Int8Array(d),d.byteLength);try{const B=e(A,g,x,p),C=B.attributes.map(v=>v.array.buffer);B.index&&C.push(B.index.array.buffer),self.postMessage({type:"decode",id:h.id,geometry:B},C)}catch(B){console.error(B),self.postMessage({type:"error",id:h.id,error:B.message})}finally{A.destroy(x),A.destroy(g)}});break}};function e(l,h,d,p){const f=p.attributeIDs,A=p.attributeTypes;let g,x;const B=h.GetEncodedGeometryType(d);if(B===l.TRIANGULAR_MESH)g=new l.Mesh,x=h.DecodeBufferToMesh(d,g);else if(B===l.POINT_CLOUD)g=new l.PointCloud,x=h.DecodeBufferToPointCloud(d,g);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!x.ok()||g.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+x.error_msg());const C={index:null,attributes:[]};for(const v in f){const w=self[A[v]];let _,F;if(p.useUniqueIDs)F=f[v],_=h.GetAttributeByUniqueId(g,F);else{if(F=h.GetAttributeId(g,l[f[v]]),F===-1)continue;_=h.GetAttribute(g,F)}C.attributes.push(s(l,h,g,v,w,_))}return B===l.TRIANGULAR_MESH&&(C.index=r(l,h,g)),l.destroy(g),C}function r(l,h,d){const f=d.num_faces()*3,A=f*4,g=l._malloc(A);h.GetTrianglesUInt32Array(d,A,g);const x=new Uint32Array(l.HEAPF32.buffer,g,f).slice();return l._free(g),{array:x,itemSize:1}}function s(l,h,d,p,f,A){const g=A.num_components(),B=d.num_points()*g,C=B*f.BYTES_PER_ELEMENT,v=o(l,f),w=l._malloc(C);h.GetAttributeDataArrayForAllPoints(d,A,v,C,w);const _=new f(l.HEAPF32.buffer,w,B).slice();return l._free(w),{name:p,array:_,itemSize:g}}function o(l,h){switch(h){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}let Po;const Wl=()=>{if(Po)return Po;const u="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",t="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",e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=u;WebAssembly.validate(e)&&(s=t);let o;const l=WebAssembly.instantiate(h(s),{}).then(A=>{o=A.instance,o.exports.__wasm_call_ctors()});function h(A){const g=new Uint8Array(A.length);for(let B=0;B<A.length;++B){const C=A.charCodeAt(B);g[B]=C>96?C-71:C>64?C-65:C>47?C+4:C>46?63:62}let x=0;for(let B=0;B<A.length;++B)g[x++]=g[B]<60?r[g[B]]:(g[B]-60)*64+g[++B];return g.buffer.slice(0,x)}function d(A,g,x,B,C,v){const w=o.exports.sbrk,_=x+3&-4,F=w(_*B),D=w(C.length),z=new Uint8Array(o.exports.memory.buffer);z.set(C,D);const O=A(F,x,B,D,C.length);if(O===0&&v&&v(F,_,B),g.set(z.subarray(F,F+x*B)),w(F-w(0)),O!==0)throw new Error(`Malformed buffer data: ${O}`)}const p={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Po={ready:l,supported:!0,decodeVertexBuffer(A,g,x,B,C){d(o.exports.meshopt_decodeVertexBuffer,A,g,x,B,o.exports[p[C]])},decodeIndexBuffer(A,g,x,B){d(o.exports.meshopt_decodeIndexBuffer,A,g,x,B)},decodeIndexSequence(A,g,x,B){d(o.exports.meshopt_decodeIndexSequence,A,g,x,B)},decodeGltfBuffer(A,g,x,B,C,v){d(o.exports[f[C]],A,g,x,B,o.exports[p[v]])}},Po};let ko=null,hf="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function df(u,t,e){return r=>{e&&e(r),u&&(ko||(ko=new Gy),ko.setDecoderPath(typeof u=="string"?u:hf),r.setDRACOLoader(ko)),t&&r.setMeshoptDecoder(typeof Wl=="function"?Wl():Wl)}}function Ko(u,t=!0,e=!0,r){return is(Eu,u,df(t,e,r))}Ko.preload=(u,t=!0,e=!0,r)=>is.preload(Eu,u,df(t,e,r));Ko.clear=u=>is.clear(Eu,u);Ko.setDecoderPath=u=>{hf=u};Ko.preload("/scene.gltf");const Hy={position:"fixed",bottom:16,right:16};function Ky(){const{id:u}=Dp(),[t,e]=X.useState(ul[u]),[r,s]=X.useState(!0),[o,l]=X.useState(!1),[h,d]=X.useState(""),[p,f]=X.useState(""),A=(F,D)=>{D!=="clickaway"&&l(!1)};function g(){s(!1)}function x(){s(!0)}const[B,C]=X.useState([]);function v(){const D=ul.filter(z=>z.brand!==t.brand).sort(()=>Math.random()-.5).slice(0,4);C(D)}X.useEffect(()=>{s(!0),console.log("ID: "+u),e(ul[u]),console.log(t),window.scrollTo({top:0,behavior:"smooth"}),v()},[t,u]);function w(F){var D=localStorage.getItem("compareList");if(D==null)console.log(F),localStorage.setItem("compareList",JSON.stringify([F]));else{var z=JSON.parse(localStorage.getItem("compareList"));z.length>=4?(d("A lista encontra-se cheia! (max.: 4 carros) "),l(!0),f("error")):_(z,F.id)?(d("Adicionado Ã  Lista de comparaÃ§Ã£o com Sucesso!"),l(!0),f("success"),z.push(F),localStorage.setItem("compareList",JSON.stringify(z))):(d("Carro jÃ¡ se encontra na lista!"),l(!0),f("error"))}}function _(F){for(var D=0;D<F.length;D++)if(F[D].id==t.id)return!1;return!0}return E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("center",{children:E.jsxs("h1",{children:[t.brand," ",t.model," (",t.price," â‚¬)"]})}),E.jsxs(Jm,{id:"buttonGroup",variant:"outlined","aria-label":"outlined button group",children:[E.jsx(fh,{onClick:x,variant:r==!0?"contained":"outlined",children:"2D"}),E.jsx(fh,{onClick:g,variant:r==!1?"contained":"outlined",children:"3D"})]}),E.jsxs(Wr,{sx:{flexGrow:1,marginTop:10},children:[E.jsxs(et,{container:!0,spacing:2,children:[E.jsx(et,{xs:12,md:6,lg:6,children:r==!0?E.jsx("center",{children:E.jsx("img",{id:"carPhoto",src:t.photo})}):E.jsx("div",{style:{marginLeft:"5vh",alignItems:"center"},children:"3D under construction..."})}),E.jsx(et,{xs:12,md:6,lg:6,children:E.jsx(km,{car:t})})]}),E.jsxs(et,{container:!0,spacing:2,alignItems:"center",sx:{marginTop:"15vh"},children:[E.jsxs(et,{xs:12,align:"center",children:[E.jsx(Gp,{}),E.jsx("h5",{children:"Other Cars"})]}),E.jsx(et,{xs:12,align:"center",children:E.jsx(Zm,{data:B,title:"Similar Cars",addToCompare:w})})]})]})]}),E.jsxs(Ym,{sx:Hy,variant:"extended",onClick:()=>w(t),children:[E.jsx(Gd,{sx:{mr:1}}),"Add to compare"]}),E.jsx(Lp,{text:h,handleClose:A,open:o,severityType:p})]})}export{Ky as default};
