import{r,j as s,l as C,D as l,N as z,I as d,J as v}from"./index-8a91bc42.js";import{a as A,A as L,S as T}from"./SimpleSnackbar-d74aada2.js";function R({carsData:n,title:p}){const[u,m]=r.useState({pageIndex:0,pageSize:5}),[g,t]=r.useState(!1),[f,i]=r.useState(""),[h,c]=r.useState(""),x=(e,a)=>{a!=="clickaway"&&t(!1)},[y,S]=r.useState(n);r.useEffect(()=>{S(n)},[n]);const j=r.useMemo(()=>[{accessorKey:"photo",header:"Photo",Cell:({cell:e})=>s.jsx("img",{id:"carPhoto",src:e.getValue()}),size:100,enableGrouping:!1},{accessorKey:"brand",header:"Brand",accessorFn:e=>`${e.brand}`,size:110},{accessorKey:"model",header:"model",accessorFn:e=>`${e.brand} ${e.model}`,size:110,enableGrouping:!1},{accessorKey:"price",header:"price",Cell:({cell:e})=>s.jsx("span",{children:e.getValue()+" €"}),size:10},{accessorKey:"motorInfo.motor.description",header:"motor",size:10},{accessorKey:"Power",header:"Power",accessorFn:e=>`${e.motorInfo.Power.description}`,size:10},{accessorKey:"Traccion",header:"Traccion",accessorFn:e=>`${e.motorInfo.traccion.description}`,size:10},{accessorKey:"Range",header:"Range",accessorFn:e=>`${e.motorInfo.Range.description}`,size:10}],[]);function b(e){var a=localStorage.getItem("compareList");if(a==null)console.log(e),localStorage.setItem("compareList",JSON.stringify([e]));else{var o=JSON.parse(localStorage.getItem("compareList"));o.length>=4?(i("A lista encontra-se cheia! (max.: 4 carros) "),t(!0),c("error")):I(o,e)?(i("Adicionado à Lista de comparação com Sucesso!"),t(!0),c("success"),o.push(e),localStorage.setItem("compareList",JSON.stringify(o))):(i("Carro já se encontra na lista!"),t(!0),c("error"))}console.log(e)}function I(e,a){for(var o=0;o<e.length;o++)if(e[o].id==a.id)return!1;return!0}return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{margin:"2%"},children:[s.jsx("h3",{children:p}),s.jsx(A,{enableColumnOrdering:!0,enableGrouping:!0,columns:j,data:y,enableRowActions:!0,onPaginationChange:m,state:{pagination:u},initialState:{columnVisibility:{brand:!1,Traccion:!1,Range:!1}},positionActionsColumn:"last",displayColumnDefOptions:{"mrt-row-actions":{header:"Actions",size:.1}},renderRowActions:({row:e,table:a})=>s.jsxs(C,{sx:{display:"flex",flexWrap:"nowrap",gap:"9px"},children:[s.jsx(l,{title:"Inspect car",arrow:!0,children:s.jsx(z,{to:"/carPage/"+e.id,children:s.jsx(d,{color:"primary",children:s.jsx(v,{})})},e.id)}),s.jsx(l,{title:"Add to Compare",arrow:!0,children:s.jsx(d,{color:"error",onClick:()=>b(e.original),children:s.jsx(L,{})})})]})})]}),s.jsx(T,{text:f,handleClose:x,open:g,severityType:h})]})}export{R as L};
