import{r,j as s,l as C,D as l,N as z,I as d,J as v}from"./index-2ccffc7c.js";import{a as A,A as K,S as L}from"./SimpleSnackbar-1d56700f.js";function P({carsData:n,title:p}){const[m,u]=r.useState({pageIndex:0,pageSize:5}),[f,t]=r.useState(!1),[g,i]=r.useState(""),[h,c]=r.useState(""),x=(e,o)=>{o!=="clickaway"&&t(!1)},[S,y]=r.useState(n);r.useEffect(()=>{y(n)},[n]);const j=r.useMemo(()=>[{accessorKey:"photo",header:"Photo",Cell:({cell:e})=>s.jsx("img",{id:"carPhoto",src:e.getValue()}),size:100,enableSorting:!1,enableGrouping:!1,enableColumnFilter:!1},{accessorKey:"brand",header:"Brand",accessorFn:e=>`${e.brand}`,size:110},{accessorKey:"model",header:"model",accessorFn:e=>`${e.brand} ${e.model}`,size:110,enableGrouping:!1},{accessorKey:"price",header:"price",Cell:({cell:e})=>s.jsx("span",{children:e.getValue()+" €"}),size:10},{accessorKey:"motorInfo.motor.description",header:"motor",size:10},{accessorKey:"Power",header:"Power",enableSorting:!1,accessorFn:e=>`${e.motorInfo.Power.description}`,size:10},{accessorKey:"Traccion",header:"Traccion",accessorFn:e=>`${e.motorInfo.traccion.description}`,size:10},{accessorKey:"Range",header:"Range",accessorFn:e=>`${e.motorInfo.Range.description}`,size:10},{accessorKey:"Seats",header:"Seats",accessorFn:e=>`${e.dimensions.Seats.description}`,size:10}],[]);function b(e){var o=localStorage.getItem("compareList");if(o==null)localStorage.setItem("compareList",JSON.stringify([e]));else{var a=JSON.parse(localStorage.getItem("compareList"));a.length>=4?(i("A lista encontra-se cheia! (max.: 4 carros) "),t(!0),c("error")):I(a,e)?(i("Adicionado à Lista de comparação com Sucesso!"),t(!0),c("success"),a.push(e),localStorage.setItem("compareList",JSON.stringify(a))):(i("Carro já se encontra na lista!"),t(!0),c("error"))}}function I(e,o){for(var a=0;a<e.length;a++)if(e[a].id==o.id)return!1;return!0}return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{margin:"2%"},children:[s.jsx("h3",{children:p}),s.jsx(A,{enableColumnOrdering:!0,enableGrouping:!0,columns:j,data:S,enableRowActions:!0,onPaginationChange:u,state:{pagination:m},initialState:{columnVisibility:{brand:!1,Traccion:!1,Range:!1}},positionActionsColumn:"last",displayColumnDefOptions:{"mrt-row-actions":{header:"Actions",size:.1}},renderRowActions:({row:e,table:o})=>s.jsxs(C,{sx:{display:"flex",flexWrap:"nowrap",gap:"9px"},children:[s.jsx(l,{title:"Inspect car",arrow:!0,children:s.jsx(z,{to:"/carPage/"+e.original.id,children:s.jsx(d,{color:"primary",children:s.jsx(v,{})})},e.id)}),s.jsx(l,{title:"Add to Compare",arrow:!0,children:s.jsx(d,{color:"error",onClick:()=>b(e.original),children:s.jsx(K,{})})})]})})]}),s.jsx(L,{text:g,handleClose:x,open:f,severityType:h})]})}export{P as L};
